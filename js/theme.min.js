/* NBA Stats v4.47.0 j19.3.2 [prod] - 11/24/2021, 1:44:50 PM - https://stats.nba.com */



"use strict"; var stats = angular.module("stats", ["ngAria", "ngRoute", "ngCookies", "nba-ng-hana-services", "rzModule"]); function _typeof(e) { return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function _createForOfIteratorHelper(e, t) { var a; if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) { if (Array.isArray(e) || (a = _unsupportedIterableToArray(e)) || t && e && "number" == typeof e.length) { a && (e = a); var n = 0, s = function () { }; return { s: s, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: s } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var r, o = !0, i = !1; return { s: function () { a = e[Symbol.iterator]() }, n: function () { var e = a.next(); return o = e.done, e }, e: function (e) { i = !0, r = e }, f: function () { try { o || null == a.return || a.return() } finally { if (i) throw r } } } } function _unsupportedIterableToArray(e, t) { if (e) { if ("string" == typeof e) return _arrayLikeToArray(e, t); var a = Object.prototype.toString.call(e).slice(8, -1); return "Object" === a && e.constructor && (a = e.constructor.name), "Map" === a || "Set" === a ? Array.from(e) : "Arguments" === a || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a) ? _arrayLikeToArray(e, t) : void 0 } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var a = 0, n = new Array(t); a < t; a++)n[a] = e[a]; return n } function _slicedToArray(e, t) { return _arrayWithHoles(e) || _iterableToArrayLimit(e, t) || _unsupportedIterableToArray(e, t) || _nonIterableRest() } function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } function _unsupportedIterableToArray(e, t) { if (e) { if ("string" == typeof e) return _arrayLikeToArray(e, t); var a = Object.prototype.toString.call(e).slice(8, -1); return "Object" === a && e.constructor && (a = e.constructor.name), "Map" === a || "Set" === a ? Array.from(e) : "Arguments" === a || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a) ? _arrayLikeToArray(e, t) : void 0 } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var a = 0, n = new Array(t); a < t; a++)n[a] = e[a]; return n } function _iterableToArrayLimit(e, t) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) { var a = [], n = !0, s = !1, r = void 0; try { for (var o, i = e[Symbol.iterator](); !(n = (o = i.next()).done) && (a.push(o.value), !t || a.length !== t); n = !0); } catch (e) { s = !0, r = e } finally { try { n || null == i.return || i.return() } finally { if (s) throw r } } return a } } function _arrayWithHoles(e) { if (Array.isArray(e)) return e } function _slicedToArray(e, t) { return _arrayWithHoles(e) || _iterableToArrayLimit(e, t) || _unsupportedIterableToArray(e, t) || _nonIterableRest() } function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } function _unsupportedIterableToArray(e, t) { if (e) { if ("string" == typeof e) return _arrayLikeToArray(e, t); var a = Object.prototype.toString.call(e).slice(8, -1); return "Object" === a && e.constructor && (a = e.constructor.name), "Map" === a || "Set" === a ? Array.from(e) : "Arguments" === a || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a) ? _arrayLikeToArray(e, t) : void 0 } } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var a = 0, n = new Array(t); a < t; a++)n[a] = e[a]; return n } function _iterableToArrayLimit(e, t) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) { var a = [], n = !0, s = !1, r = void 0; try { for (var o, i = e[Symbol.iterator](); !(n = (o = i.next()).done) && (a.push(o.value), !t || a.length !== t); n = !0); } catch (e) { s = !0, r = e } finally { try { n || null == i.return || i.return() } finally { if (s) throw r } } return a } } function _arrayWithHoles(e) { if (Array.isArray(e)) return e } function _typeof(e) { return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function _typeof(e) { return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function _typeof(e) { return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function _typeof(e) { return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function _typeof(e) { return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } "www.nba.com" === window.location.hostname || "www-qa.nba.com" === window.location.hostname ? (window.statsSource = "https://stats.nba.com", window.s3source = "https://cdn.nba.com/static/json/") : (window.statsSource = "https://dev.stats.nba.com", window.s3source = "https://cdn-dev.nba.com/static/json/"), stats.config(["$compileProvider", function (e) { e.commentDirectivesEnabled(!1), e.cssClassDirectivesEnabled(!1), e.debugInfoEnabled(window.statsDebugInfoEnabled || !1) }]), stats.config(["$sceDelegateProvider", function (e) { e.resourceUrlWhitelist(["self", "http://*.nba.com/**", "http://api.bitly.com/**"]) }]), stats.run(["$document", "ReferrerService", function (e, t) { t.country; var s = t.isMobile, a = (t.isDomestic, "https://www.sap.com/corporate/en/company/global-sponsorships.html"), r = { mobile: { sap: a, btn: a }, desktop: { sap: a, btn: a } }; e.find("body").addClass("has-sap-sponser"), e.find(".show-for-sap").on("click", "img", function (e) { var t = $(this).hasClass("beyondthenumbers"), a = t ? "sapbeyondthenumbers" : "sapheader", n = r[s ? "mobile" : "desktop"][t ? "btn" : "sap"]; "undefined" != typeof _nba && _nba.analytics.click({ focus: a }), window.open(n, "_blank") }) }]), stats.run(["$rootScope", "$location", "$routeParams", function (e, t, a) { var r = { url: t.url(), absUrl: t.absUrl(), hash: t.hash(), host: t.host(), protocol: t.protocol(), port: t.port(), search: t.search(), path: location.pathname }, n = location.pathname.split("/"); r.section = n[1] || "homepage", r.subSection = n[2], "player" !== r.section && "team" !== r.section && "game" !== r.section || (r.isRoute = !0, r.sectionID = r.url.split("/")[1], r.subSection = r.url.split("/")[2]), e.$on("$routeChangeSuccess", function (e, t) { var a = {}, n = location.hash.split("/"), s = location.pathname.split("/"); a.params = t.params, 0 !== Object.keys(a.params).length && (a.section = s[1], a.sectionID = n[1], a.subSection = n[2], a.url = r.absUrl, "undefined" != typeof ga && ga("send", "pageview", a.section, { title: document.title, page: "/" + a.section + "/" + a.sectionID + "/" + a.subSection })) }) }]), stats.constant("CMSENV", function () { var e, t = document.location.host; e = "stats.nba.com" == t || "www.nba.com" == t ? "https://stats-prod.nba.com/" : "https://stats-dev.nba.com/"; return { prefix: e } }()), stats.constant("QuerytoolSplits", { LeagueID: { name: "LeagueID", label: "League", default: [""], type: "multi", desc: "", options: [{ val: "00", text: "NBA" }, { val: "10", text: "WNBA" }, { val: "20", text: "D-League" }], selected: [] }, Season: { name: "Season", label: "Season", default: [""], type: "multi", desc: "", options: function () { for (var e = [{}], t = 2021; 1983 <= t; --t) { var a = t.toString() + "-" + (t + 1).toString().slice(2); e.push({ val: a, text: a }) } return e }(), selected: [] }, SeasonType: { name: "SeasonType", label: "Season Type", default: [""], type: "multi", desc: "", options: [{ val: "Pre Season", text: "Preseason" }, { val: "Regular Season", text: "Regular Season" }, { val: "Playoffs", text: "Playoffs" }, { val: "All-Star", text: "All Star" }, { val: "PlayIn", text: "Play-In", st: 5 }], selected: [] }, StatCategory: { name: "StatCategory", label: "Stat Category", default: "PTS", type: "select", desc: "", options: [{ val: "PTS", text: "PTS" }, { val: "REB", text: "REB" }, { val: "AST", text: "AST" }, { val: "STL", text: "STL" }, { val: "BLK", text: "BLK" }, { val: "OREB", text: "OREB" }, { val: "DREB", text: "DREB" }, { val: "DD", text: "DD" }, { val: "TD", text: "TD" }, { val: "MINUTES", text: "MIN" }, { val: "TOV", text: "TOV" }, { val: "PF", text: "PF" }, { val: "FGM", text: "FGM" }, { val: "FGA", text: "FGA" }, { val: "FG_PCT", text: "FG%" }, { val: "FG3M", text: "3PM" }, { val: "FG3A", text: "3PA" }, { val: "FG3_PCT", text: "3P%" }, { val: "FTM", text: "FTM" }, { val: "FTA", text: "FTA" }, { val: "FT_PCT", text: "FT%" }, { val: "PTSPAINT", text: "PITP" }, { val: "PTSFB", text: "FB PTS" }, { val: "PTS2NDCHANCE", text: "2ND PTS" }, { val: "PTSOFFTOV", text: "PTS OFF TOV" }] }, GameScope: { name: "Game Scope", label: "Game Scope", type: "select", description: "", default: "", options: [{ val: "", text: "Season" }, { val: "Yesterday", text: "Yesterday" }, { val: "Last10", text: "Last 10 Games" }] }, GameSegment: { name: "GameSegment", label: "By Half", type: "select", description: "The option to view a player or team's stats in either the first half or the second half of a game.", default: "", options: [{ val: "", text: "Entire Game" }, { val: "First Half", text: "First Half" }, { val: "Second Half", text: "Second Half" }, { val: "Overtime", text: "Overtime" }] }, PaceAdjust: { name: "PaceAdjust", label: "Pace Adjust", default: "N", type: "select", desc: "", options: [{ val: "Y", text: "Pace Adjust On" }, { val: "N", text: "Pace Adjust Off" }] }, Period: { name: "Period", label: "Quarter", default: "0", type: "select", desc: "", options: [{ val: "0", text: "All Quarters" }, { val: "1", text: "1st Quarter" }, { val: "2", text: "2nd Quarter" }, { val: "3", text: "3rd Quarter" }, { val: "4", text: "4th Quarter" }, { val: "5", text: "OT 1" }, { val: "6", text: "OT 2" }, { val: "7", text: "OT 3" }, { val: "8", text: "OT 4" }, { val: "9", text: "OT 5" }, { val: "10", text: "OT 6" }, { val: "11", text: "OT 7" }, { val: "12", text: "OT 8" }, { val: "13", text: "OT 9" }, { val: "14", text: "OT 10" }] }, PlusMinus: { name: "Plus_Minus", label: "Plus Minus", default: "N", type: "select", desc: "", options: [{ val: "Y", text: "+/- On" }, { val: "N", text: "+/- Off" }] }, Rank: { name: "Rank", label: "Rank", default: "N", type: "select", desc: "", options: [{ val: "Y", text: "Rank On" }, { val: "N", text: "Rank Off" }] }, RookieYear: { name: "RookieYear", label: "Rookie Year", default: [""], type: "multi", desc: "", options: [{ val: "2021", text: "2021-22" }, { val: "2020", text: "2020-21" }, { val: "2019", text: "2019-20" }, { val: "2018", text: "2018-19" }, { val: "2017", text: "2017-18" }, { val: "2016", text: "2016-17" }, { val: "2015", text: "2015-16" }, { val: "2014", text: "2014-15" }, { val: "2013", text: "2013-14" }, { val: "2012", text: "2012-13" }, { val: "2011", text: "2011-12" }, { val: "2010", text: "2010-11" }, { val: "2009", text: "2009-10" }, { val: "2008", text: "2008-09" }, { val: "2007", text: "2007-08" }], selected: [] }, VsConference: { name: "VsConference", label: "VS Conference", default: "", type: "select", desc: "", options: [{ val: "", text: "VS All Conferences" }, { val: "East", text: "East" }, { val: "West", text: "West" }] }, VsDivision: { name: "VsDivision", label: "VS Division", default: [""], type: "multi", desc: "Stats for team or player against a selected division", options: [{ val: "Atlantic", text: "Atlantic" }, { val: "Central", text: "Central" }, { val: "Northwest", text: "Northwest" }, { val: "Pacific", text: "Pacific" }, { val: "Southeast", text: "Southeast" }, { val: "Southwest", text: "Southwest" }], selected: [] }, Conference: { name: "Conference", label: "Conference", default: "", type: "select", desc: "", options: [{ val: "", text: "All Conferences" }, { val: "East", text: "East" }, { val: "West", text: "West" }] }, Division: { name: "Division", label: "Division", default: [""], type: "multi", desc: "Stats for team or player against a selected division", options: [{ val: "Atlantic", text: "Atlantic" }, { val: "Central", text: "Central" }, { val: "Northwest", text: "Northwest" }, { val: "Pacific", text: "Pacific" }, { val: "Southeast", text: "Southeast" }, { val: "Southwest", text: "Southwest" }], selected: [] }, Outcome: { name: "Outcome", label: "Outcome", default: "", type: "select", desc: "", options: [{ val: "", text: "All Outcomes" }, { val: "W", text: "Wins" }, { val: "L", text: "Losses" }] }, Location: { name: "Location", label: "Location", default: "", type: "select", desc: "", options: [{ val: "", text: "All Locations" }, { val: "H", text: "Home" }, { val: "A", text: "Road" }] }, SeasonSegment: { name: "SeasonSegment", label: "Season Segment", default: "", type: "select", desc: "", options: [{ val: "", text: "Entire Season" }, { val: "Pre All-Star", text: "Pre All-Star" }, { val: "Post All-Star", text: "Post All-Star" }] }, LastNGames: { name: "LastNGames", label: "Last N Games", default: "0", type: "select", desc: "", options: [{ val: "0", text: "All Games" }, { val: "1", text: "Last Game" }, { val: "2", text: "Last 2 Games" }, { val: "3", text: "Last 3 Games" }, { val: "4", text: "Last 4 Games" }, { val: "5", text: "Last 5 Games" }, { val: "6", text: "Last 6 Games" }, { val: "7", text: "Last 7 Games" }, { val: "8", text: "Last 8 Games" }, { val: "9", text: "Last 9 Games" }, { val: "10", text: "Last 10 Games" }, { val: "11", text: "Last 11 Games" }, { val: "12", text: "Last 12 Games" }, { val: "13", text: "Last 13 Games" }, { val: "14", text: "Last 14 Games" }, { val: "15", text: "Last 15 Games" }] }, VsTeamID: { name: "VsTeamID", label: "VS Team", default: [""], type: "multi", desc: "", options: [{ val: "1610612737", text: "Atlanta Hawks" }, { val: "1610612738", text: "Boston Celtics" }, { val: "1610612751", text: "Brooklyn Nets" }, { val: "1610612766", text: "Charlotte Hornets" }, { val: "1610612741", text: "Chicago Bulls" }, { val: "1610612739", text: "Cleveland Cavaliers" }, { val: "1610612742", text: "Dallas Mavericks" }, { val: "1610612743", text: "Denver Nuggets" }, { val: "1610612765", text: "Detroit Pistons" }, { val: "1610612744", text: "Golden State Warriors" }, { val: "1610612745", text: "Houston Rockets" }, { val: "1610612754", text: "Indiana Pacers" }, { val: "1610612746", text: "LA Clippers" }, { val: "1610612747", text: "Los Angeles Lakers" }, { val: "1610612763", text: "Memphis Grizzlies" }, { val: "1610612748", text: "Miami Heat" }, { val: "1610612749", text: "Milwaukee Bucks" }, { val: "1610612750", text: "Minnesota Timberwolves" }, { val: "1610612740", text: "New Orleans Pelicans" }, { val: "1610612752", text: "New York Knicks" }, { val: "1610612760", text: "Oklahoma City Thunder" }, { val: "1610612753", text: "Orlando Magic" }, { val: "1610612755", text: "Philadelphia 76ers" }, { val: "1610612756", text: "Phoenix Suns" }, { val: "1610612757", text: "Portland Trail Blazers" }, { val: "1610612758", text: "Sacramento Kings" }, { val: "1610612759", text: "San Antonio Spurs" }, { val: "1610612761", text: "Toronto Raptors" }, { val: "1610612762", text: "Utah Jazz" }, { val: "1610612764", text: "Washington Wizards" }] }, TeamID: { name: "TeamID", label: "Team", default: [""], type: "multi", desc: "", options: [{ val: "1610612737", text: "Atlanta Hawks" }, { val: "1610612738", text: "Boston Celtics" }, { val: "1610612751", text: "Brooklyn Nets" }, { val: "1610612766", text: "Charlotte Hornets" }, { val: "1610612741", text: "Chicago Bulls" }, { val: "1610612739", text: "Cleveland Cavaliers" }, { val: "1610612742", text: "Dallas Mavericks" }, { val: "1610612743", text: "Denver Nuggets" }, { val: "1610612765", text: "Detroit Pistons" }, { val: "1610612744", text: "Golden State Warriors" }, { val: "1610612745", text: "Houston Rockets" }, { val: "1610612754", text: "Indiana Pacers" }, { val: "1610612746", text: "LA Clippers" }, { val: "1610612747", text: "Los Angeles Lakers" }, { val: "1610612763", text: "Memphis Grizzlies" }, { val: "1610612748", text: "Miami Heat" }, { val: "1610612749", text: "Milwaukee Bucks" }, { val: "1610612750", text: "Minnesota Timberwolves" }, { val: "1610612740", text: "New Orleans Pelicans" }, { val: "1610612752", text: "New York Knicks" }, { val: "1610612760", text: "Oklahoma City Thunder" }, { val: "1610612753", text: "Orlando Magic" }, { val: "1610612755", text: "Philadelphia 76ers" }, { val: "1610612756", text: "Phoenix Suns" }, { val: "1610612757", text: "Portland Trail Blazers" }, { val: "1610612758", text: "Sacramento Kings" }, { val: "1610612759", text: "San Antonio Spurs" }, { val: "1610612761", text: "Toronto Raptors" }, { val: "1610612762", text: "Utah Jazz" }, { val: "1610612764", text: "Washington Wizards" }], selected: [] }, DraftTeamID: { name: "DraftTeamID", label: "Drafted By", default: "0", type: "select", desc: "", options: [{ val: "0", text: "Drafted By All Teams" }, { val: "1610612737", text: "Atlanta Hawks" }, { val: "1610612738", text: "Boston Celtics" }, { val: "1610612751", text: "Brooklyn Nets" }, { val: "1610612766", text: "Charlotte Hornets" }, { val: "1610612741", text: "Chicago Bulls" }, { val: "1610612739", text: "Cleveland Cavaliers" }, { val: "1610612742", text: "Dallas Mavericks" }, { val: "1610612743", text: "Denver Nuggets" }, { val: "1610612765", text: "Detroit Pistons" }, { val: "1610612744", text: "Golden State Warriors" }, { val: "1610612745", text: "Houston Rockets" }, { val: "1610612754", text: "Indiana Pacers" }, { val: "1610612746", text: "LA Clippers" }, { val: "1610612747", text: "Los Angeles Lakers" }, { val: "1610612763", text: "Memphis Grizzlies" }, { val: "1610612748", text: "Miami Heat" }, { val: "1610612749", text: "Milwaukee Bucks" }, { val: "1610612750", text: "Minnesota Timberwolves" }, { val: "1610612740", text: "New Orleans Pelicans" }, { val: "1610612752", text: "New York Knicks" }, { val: "1610612760", text: "Oklahoma City Thunder" }, { val: "1610612753", text: "Orlando Magic" }, { val: "1610612755", text: "Philadelphia 76ers" }, { val: "1610612756", text: "Phoenix Suns" }, { val: "1610612757", text: "Portland Trail Blazers" }, { val: "1610612758", text: "Sacramento Kings" }, { val: "1610612759", text: "San Antonio Spurs" }, { val: "1610612761", text: "Toronto Raptors" }, { val: "1610612762", text: "Utah Jazz" }, { val: "1610612764", text: "Washington Wizards" }] }, Month: { name: "Month", label: "Month", default: "0", type: "select", desc: "", options: [{ val: "0", text: "All Months" }, { val: "4", text: "January" }, { val: "5", text: "February" }, { val: "6", text: "March" }, { val: "7", text: "April" }, { val: "8", text: "May" }, { val: "9", text: "June" }, { val: "10", text: "July" }, { val: "11", text: "August" }, { val: "12", text: "September" }, { val: "1", text: "October" }, { val: "2", text: "November" }, { val: "3", text: "December" }] }, PlayerPosition: { name: "PlayerPosition", label: "Position", default: "", type: "select", desc: "Filter out players by position to view either only Guards, Forwards, or Centers.", options: [{ val: "", text: "All Positions" }, { val: "F", text: "Forward" }, { val: "C", text: "Center" }, { val: "G", text: "Guard" }] }, StarterBench: { name: "StarterBench", label: "Starter Bench", default: "", type: "select", description: "The option to view stats by either the starters or the bench of a team.", options: [{ val: "", text: "All Players" }, { val: "Starters", text: "Starters" }, { val: "Bench", text: "Bench" }] }, PlayerExperience: { name: "PlayerExperience", label: "Experience", default: "", type: "select", description: "The option to view either only rookies, or to exclude rookies from the data set.", options: [{ val: "", text: "All Experience" }, { val: "Rookie", text: "Rookie" }, { val: "Sophomore", text: "Sophomore" }, { val: "Veteran", text: "Veteran" }] }, GroupQuantity: { name: "GroupQuantity", label: "Line Ups", default: "5", type: "select", description: "", options: [{ val: "5", text: "5 Man Lineups" }, { val: "4", text: "4 Man Lineups" }, { val: "3", text: "3 Man Lineups" }, { val: "2", text: "2 Man Lineups" }] }, ClutchTime: { name: "ClutchTime", label: "Clutch Time", default: "Last 5 Minutes", type: "select", description: "", options: [{ val: "Last 5 Minutes", text: "Last 5 Minutes" }, { val: "Last 4 Minutes", text: "Last 4 Minutes" }, { val: "Last 3 Minutes", text: "Last 3 Minutes" }, { val: "Last 2 Minutes", text: "Last 2 Minutes" }, { val: "Last 1 Minute", text: "Last 1 Minute" }, { val: "Last 30 Seconds", text: "Last 30 Seconds" }, { val: "Last 10 Seconds", text: "Last 10 Seconds" }] }, AheadBehind: { name: "AheadBehind", label: "Ahead or Behind", default: "Ahead or Behind", type: "select", description: "", options: [{ val: "Ahead or Behind", text: "Ahead or Behind" }, { val: "Behind or Tied", text: "Behind or Tied" }, { val: "Ahead or Tied", text: "Ahead or Tied" }] }, PointDiff: { name: "PointDiff", label: "PointDiff", default: "5", type: "select", description: "", options: [{ val: "5", text: "5 Point Diff or Less" }, { val: "4", text: "4 Point Diff or Less" }, { val: "3", text: "3 Point Diff or Less" }, { val: "2", text: "2 Point Diff or Less" }, { val: "1", text: "1 Point Diff" }] }, DistanceRange: { name: "DistanceRange", label: "Distance Range", default: "5ft Range", type: "select", description: "", options: [{ val: "5ft Range", text: "5ft Range" }, { val: "8ft Range", text: "8ft Range" }, { val: "By Zone", text: "By Zone" }] }, DateFrom: { name: "DateFrom", label: "Date From", default: "", type: "datepicker", description: "", placeholder: "MM/DD/YYYY", selected: { val: "" } }, DateTo: { name: "DateTo", label: "Date To", default: "", type: "datepicker", description: "", placeholder: "MM/DD/YYYY", selected: { val: "" } }, PT: { name: "PT", label: "Players or Teams", default: "player", type: "select", desc: "", options: [{ val: "player", text: "Player Stats" }, { val: "team", text: "Team Stats" }] }, OD: { name: "OD", label: "Offensive or Defensive", default: "offensive", type: "select", desc: "", options: [{ val: "offensive", text: "Offensive" }, { val: "defensive", text: "Defensive" }] }, ShotClockRange: { name: "ShotClockRange", label: "Shot Clock Range", default: "", type: "select", desc: "", options: [{ val: "", text: "All Shot Clock Ranges" }, { val: "24-22", text: "24-22" }, { val: "22-18 Very Early", text: "22-18 Very Early" }, { val: "18-15 Early", text: "18-15 Early" }, { val: "15-7 Average", text: "15-7 Average" }, { val: "7-4 Late", text: "7-4 Late" }, { val: "4-0 Very Late", text: "4-0 Very Late" }] }, PORound: { name: "PORound", label: "Playoff Round", default: "0", type: "select", desc: "", options: [{ val: "0", text: "All Playoff Rounds" }, { val: "1", text: "Conference Quarter-Finals" }, { val: "2", text: "Conference Semi-Finals" }, { val: "3", text: "Conference Finals" }, { val: "4", text: "Finals" }] }, DraftYear: { name: "DraftYear", label: "Draft Year", default: [""], type: "multi", desc: "", options: function () { for (var e = [{}], t = 2021; 1947 <= t; --t)e.push({ val: t + "", text: t + "" }); return e }(), selected: [] }, DraftNumber: { name: "DraftNumber", label: "Draft Number", default: [""], type: "multi", desc: "", options: [{ val: "1", text: "1st Pick" }, { val: "1,2,3,4,5", text: "Top 5 Pick" }, { val: "1,2,3,4,5,6,7,8,9,10", text: "Top 10 Pick" }, { val: "1,2,3,4,5,6,7,8,9,10,11,12,13,14,15", text: "Top 15 Pick" }, { val: "1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20", text: "Top 20 Pick" }, { val: "1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25", text: "Top 25 Pick" }, { val: "11,12,13,14,15,16,17,18,19,20", text: "Picks 11 Thru 20" }, { val: "21,22,23,24,25,26,27,28,29,30", text: "Picks 21 Thru 30" }, { val: "0", text: "Undrafted" }], selected: [] }, DraftRound: { name: "DraftRound", label: "Draft Round", default: [""], type: "multi", desc: "", options: [{ val: "1", text: "1st Round" }, { val: "2", text: "2nd Round" }], selected: [] }, College: { name: "College", label: "College", default: "", type: "select", desc: "", options: function () { var e, t = [{ val: "", text: "All Affiliations" }, { val: "High School", text: "High School" }, { val: "D-League", text: "D-League" }, { val: "None", text: "No College" }, { val: "", text: "---" }], a = ["Acadia (CAN)", "Adams State", "Adelphi", "Air Force", "Akron", "Alabama", "Alabama A&M", "Alabama-Birmingham", "Alabama-Huntsville", "Alabama State", "Albany", "Albany State (GA)", "Alcorn State", "Alliance", "American", "American International", "Angelo State", "Appalachian State", "Arizona", "Arizona State", "Arkansas", "Arkansas-Fort Smith", "Arkansas-Little Rock", "Arkansas-Pine Bluff", "Arkansas State", "Army", "Assumption", "Auburn", "Auburn-Montgomery", "Augsburg", "Augustana (IL)", "Augustana (SD)", "Augusta State", "Aurora", "Austin Peay", "Averett", "Azusa Pacific", "Ball State", "Baltimore", "Barton", "Barton Community College", "Baylor", "Belmont", "Belmont Abbey", "Beloit", "Bemidji State", "Benedict", "Bethel (TN)", "Binghamton", "Biola", "Blinn", "Bloomfield", "Bloomsburg", "Bluefield", "Boise State", "Boston College", "Boston University", "Bowie State", "Bowling Green", "Bradley", "Brevard Community College", "Brewton-Parker", "Bridgeport", "Brigham Young", "Brigham Young-Hawaii", "Brooklyn", "Brown", "Bryant", "Bucknell", "Buffalo", "Buffalo State", "Butler", "Butler Community College", "C.W. Post", "California", "California (PA)", "California-Berkeley", "California-Davis", "California-Irvine", "California-Los Angeles", "California-Riverside", "California-Santa Barbara", "Cal State-Bakersfield", "Cal State-Dominguez Hills", "Cal State-Fullerton", "Cal State-Los Angeles", "Cal State-Northridge", "Cal State-Poly Pomona", "Cal State-San Bernardino", "Campbell", "Campbellsville", "Canisius", "Case Western", "Catholic", "Centenary (LA)", "Central Arkansas", "Central Connecticut State", "Central Florida", "Central Michigan", "Central Missouri", "Central Oklahoma", "Central State (OH)", "Central Washington", "Charleston (WV)", "Cheyney", "Chicago State", "Christopher Newport", "Cincinnati", "City College of New York", "Claflin", "Clark Atlanta", "Clayton State", "Clemson", "Cleveland State", "Colgate", "College of Charleston", "College of New Jersey", "Colorado", "Colorado Christian", "Colorado State", "Colorado State-Pueblo", "Columbia", "Columbus State", "Concordia", "Concordia-Irvine", "Connecticut", "Coppin State", "Cornell", "Corpus Christi", "Creighton", "Culver-Stockton", "Dakota Wesleyan", "Dartmouth", "Davidson", "Davis & Elkins", "Dayton", "Delaware", "Delaware State", "Delta State", "Denver", "DePaul", "DePauw", "Detroit Mercy", "Dillard", "District of Columbia", "Drake", "Drexel", "Duke", "Duquesne", "East Carolina", "East Central", "Eastern Illinois", "Eastern Kentucky", "Eastern Michigan", "Eastern New Mexico", "Eastern Oklahoma State (Junior College)", "Eastern Washington", "East Tennessee State", "Eckerd", "Elizabeth City State", "Elon", "Evangel", "Evansville", "Fairfield", "Fairleigh Dickinson", "Fayetteville State", "Ferris State", "Findlay", "Florida", "Florida A&M", "Florida Atlantic", "Florida Community College", "Florida Gulf Coast", "Florida International", "Florida State", "Fordham", "Fort Valley State", "Franklin", "Fresno State", "Friends", "Furman", "Gannon", "Gardner-Webb", "George Mason", "Georgetown", "Georgetown College", "George Washington", "Georgia", "Georgia Southern", "Georgia State", "Georgia Tech", "Gonzaga", "Grambling", "Grand Canyon", "Green Bay", "Grinnell College", "Guilford", "Hamline", "Hampton", "Hardin-Simmons", "Hartford", "Harvard", "Hawaii", "High Point", "Hillsborough Community College", "Hillsdale", "Hofstra", "Holy Cross", "Holy Family", "Houston", "Houston Baptist", "Howard", "Humboldt State", "Huntington", "Idaho", "Idaho State", "Illinois", "Illinois-Chicago", "Illinois State", "Illinois Wesleyan", "Incarnate Word", "Indiana", "Indianapolis", "Indiana Purdue-Fort Wayne", "Indiana Purdue-Indianapolis", "Indiana State", "Indiana Tech", "Indian Hills Community College", "Iona", "Iowa", "Iowa State", "Jackson State", "Jacksonville", "Jacksonville State", "James Madison", "Johnson C. Smith", "Kansas", "Kansas State", "Kennesaw State", "Kent State", "Kentucky", "Kentucky State", "Kentucky Wesleyan", "Kenyon", "King's (NY)", "Lafayette", "Lamar", "La Salle", "Lawrence Tech", "Lebanon Valley", "Lee", "Lehigh", "Le Moyne", "Lewis", "Liberty", "Lincoln (MO)", "Lipscomb", "Long Beach State", "Long Island-Brooklyn", "Longwood", "Los Angeles Community College", "Louisiana-Lafayette", "Louisiana-Monroe", "Louisiana State", "Louisiana Tech", "Louisville", "Loyola-Chicago", "Loyola-Maryland", "Loyola-Marymount", "Maine", "Manhattan", "Marist", "Marquette", "Marshall", "Maryland", "Maryland-Eastern Shore", "Massachusetts", "Master's", "McNeese State", "Memphis", "Mercer", "Meridian Community College", "Merrimack", "Metro State", "Miami (FL)", "Miami (OH)", "Michigan", "Michigan State", "Middle Tennessee State", "Midland", "Midwestern State", "Miles", "Millersville", "Minnesota", "Minnesota-Duluth", "Minnesota State-Mankato", "Mississippi", "Mississippi Gulf Community College", "Mississippi State", "Mississippi Valley State", "Missouri", "Missouri-Kansas City", "Missouri State", "Missouri Western State", "Monmouth", "Montana", "Montana State", "Montevallo", "Morehead State", "Morehouse", "Morgan State", "Mountain State", "Mount St. Mary's", "Mount Union", "Mt. San Antonio", "Muhlenberg", "Murray State", "Navy", "Nebraska", "Nebraska-Kearney", "Nebraska-Omaha", "Nevada", "Nevada-Las Vegas", "Nevada-Reno", "New Jersey Institute of Technology", "New Mexico", "New Mexico Highlands", "New Mexico State", "New Mexico Tech", "New Orleans", "New York University", "Niagara", "Nicholls State", "Norfolk State", "North Carolina", "North Carolina A&T", "North Carolina-Asheville", "North Carolina Central", "North Carolina-Charlotte", "North Carolina-Greensboro", "North Carolina State", "North Carolina-Wilmington", "North Dakota", "North Dakota State", "Northeastern", "Northeastern State", "Northeast Mississippi Community College", "Northern Arizona", "Northern Colorado", "Northern Illinois", "Northern Iowa", "Northern Kentucky", "North Park", "North Texas", "Northwestern", "Northwestern Oklahoma", "Northwestern Oklahoma State", "Northwestern State", "Northwest Florida State", "Northwest Nazarene", "Northwood", "Notre Dame", "Oakland", "Ohio", "Ohio State", "Ohio Wesleyan", "Oklahoma", "Oklahoma Baptist", "Oklahoma City", "Oklahoma Science and Arts", "Oklahoma State", "Oklahoma Wesleyan", "Old Dominion", "Oral Roberts", "Oregon", "Oregon State", "Ouachita Baptist", "Pacific", "Paine", "Penn State", "Pennsylvania", "Pennsylvania-Kutztown", "Pepperdine", "Pfeiffer", "Phillips", "Pikeville", "Pittsburgh", "Portland", "Portland State", "Potsdam", "Prairie View A&M", "Princeton", "Providence", "Puget Sound", "Purdue", "Queens (NY)", "Quincy", "Rhode Island", "Rice", "Richmond", "Rider", "Robert Morris (IL)", "Rochester (NY)", "Rockhurst", "Rutgers", "Sacramento State", "Sacred Heart", "Saginaw Valley", "Saint Augustine's", "Saint Francis (PA)", "Saint Joseph's", "Saint Louis", "Saint Mary's (CA)", "Saint Mary's (MN)", "Saint Peter's", "Saint Rose", "Saint Vincent", "Salem International", "Sam Houston State", "San Diego", "San Diego State", "San Francisco", "San Jose State", "Santa Clara", "Scranton", "Seattle", "Seton Hall", "Seward County Community College", "Shaw", "Shippensburg", "Siena", "Slippery Rock", "South Alabama", "South Carolina", "South Carolina-Aiken", "South Carolina State", "South Carolina Upstate", "South Dakota", "South Dakota State", "Southeastern Illinois", "Southeastern Louisiana", "Southeastern Oklahoma State", "Southeast Missouri State", "Southern", "Southern California", "Southern Illinois", "Southern Methodist", "Southern Mississippi", "Southern Nazarene", "Southern Utah", "South Florida", "Southwest Baptist", "Springfield", "St. Ambrose", "St. Anselm", "St. Bonaventure", "St. Cloud State", "St. Francis Brooklyn", "St. John's (NY)", "St. Mary's (CA)", "St. Mary's (TX)", "St. Peter's", "St. Thomas (FL)", "Stanford", "Stephen F. Austin", "Stetson", "Stony Brook", "Syracuse", "Tampa", "Tarleton State", "Temple", "Tennessee", "Tennessee-Chattanooga", "Tennessee-Martin", "Tennessee State", "Tennessee Tech", "Texas", "Texas A&M", "Texas A&M-Commerce", "Texas A&M-Corpus Christi", "Texas-Arlington", "Texas Christian", "Texas-El Paso", "Texas-Pan American", "Texas-San Antonio", "Texas Southern", "Texas State", "Texas Tech", "Texas Wesleyan", "Thomas More", "Toledo", "Towson", "Trinity Valley Community College", "Troy State", "Truman State", "Tulane", "Tulsa", "Tuskegee", "UCLA", "Utah", "Utah State", "Utah Valley", "Valdosta State", "Valparaiso", "Vanderbilt", "Venezuela", "Vermont", "Villanova", "Virginia", "Virginia Commonwealth", "Virginia Military Institute", "Virginia Tech", "Virginia Union", "Voorhees", "Vorhees", "Wake Forest", "Walsh", "Washington", "Washington & Jefferson", "Washington State", "Wayne State (MI)", "Weber State", "Western Carolina", "Western Illinois", "Western Kentucky", "Western Michigan", "Western Washington", "West Florida", "West Georgia", "Westminster (PA)", "West Texas A&M", "West Virginia", "West Virginia State", "West Virginia Tech", "West Virginia Wesleyan", "Wheaton (IL)", "Whitworth", "Wichita State", "Wilberforce", "William & Mary", "William Jessup", "William Paterson", "William Penn", "Wingate", "Winona State", "Winston-Salem State", "Winthrop (SC)", "Wisconsin", "Wisconsin-Eau Claire", "Wisconsin-Green Bay", "Wisconsin-Milwaukee", "Wisconsin-Parkside", "Wisconsin-River Falls", "Wisconsin-Stevens Point", "Wisconsin-Whitewater", "Wofford", "Wooster", "Wright State", "Wyoming", "Xavier", "Xavier (LA)", "Yale", "Yonsei (KOR)", "Youngstown State"]; for (e in a) t.push({ val: a[e], text: a[e] }); return t }() }, Country: { name: "Country", label: "Country", default: "", type: "select", desc: "", options: function () { var e, t = [{ val: "", text: "All Countries" }], a = ["International", "Angola", "Argentina", "Australia", "Belize", "Boznia & Herzegovina", "Brazil", "Cameroon", "Canada", "China", "Congo", "Croatia", "Czech Republic", "Democratic Republic of Congo", "Dominican Republic", "England", "Finland", "France", "Georgia", "Germany", "Great Britain", "Greece", "Haiti", "Iran", "Ireland", "Israel", "Italy", "Jamaica", "Latvia", "Lithuania", "Macedonia", "Mali", "Mexico", "Montenegro", "Netherlands", "New Zealand", "Nigeria", "Panama", "Poland", "Puerto Rico", "Russia", "Scotland", "Senegal", "Serbia", "Serbia and Montenegro", "Slovenia", "South Korea", "Spain", "St. Vincent & Grenadines", "Sudan", "Sudan (UK)", "Sweden", "Switzerland", "Tanzania", "Turkey", "U.S. Virgin Islands", "Ukraine", "Uruguay", "USA", "USSR", "Venezuela", "Yugoslavia"]; for (e in a) t.push({ val: a[e], text: a[e] }); return t }() }, Height: { name: "Height", label: "Height", default: "", type: "select", desc: "", options: [{ val: "", text: "All Heights" }, { val: "LT 6-0", text: "< 6-0" }, { val: "GT 6-0", text: "> 6-0" }, { val: "LT 6-4", text: "< 6-4" }, { val: "GT 6-4", text: "> 6-4" }, { val: "LT 6-7", text: "< 6-7" }, { val: "GT 6-7", text: "> 6-7" }, { val: "LT 6-10", text: "< 6-10" }, { val: "GT 6-10", text: "> 6-10" }, { val: "LT 7-0", text: "< 7-0" }, { val: "GT 7-0", text: "> 7-0" }] }, DefenseCategory: { name: "DefenseCategory", label: "Defense Category", default: "Overall", type: "select", desc: "", options: [{ val: "Overall", text: "Overall" }, { val: "3 Pointers", text: "3 Pointers" }, { val: "2 Pointers", text: "2 Pointers" }, { val: "Less Than 6Ft", text: "Less Than 6Ft" }, { val: "Less Than 10Ft", text: "Less Than 10Ft" }, { val: "Less Than 10Ft", text: "Less Than 10Ft" }, { val: "Greater Than 15Ft", text: "Greater Than 15Ft" }] }, ActiveStreaksOnly: { name: "ActiveStreaksOnly", label: "Active Streaks Only", default: "", type: "select", desc: "", options: [{ val: "", text: "All Streaks" }, { val: "YES", text: "Active Streaks Only" }] }, YearsExperience: { name: "YearsExperience", label: "Years of Experience", default: "", type: "select", desc: "", options: [{ val: "", text: "Any Experience" }, { val: "1", text: "1 Year" }, { val: "2", text: "2 Years" }, { val: "3", text: "3 Years" }, { val: "4", text: "4 Years" }, { val: "5", text: "5 Years" }, { val: "10", text: "10 Years" }] }, MinGames: { name: "MinGames", label: "Minimum Length", default: "", type: "number", desc: "The minimum number of games played", validation: /\d*/, selected: { val: "" } }, PlayerID: { name: "PlayerID", label: "Player", default: "", type: "async", isLoaded: !1, description: "", placeholder: "Player Name", options: [{ val: "", text: "All Players" }], selected: [] } }), stats.constant("SPLITS", { LeagueID: { name: "LeagueID", label: "League", order: 550, literal: "", default: "00", desc: "", type: "select", options: [{ val: "00", text: "NBA" }, { val: "09", text: "NDC", disp: "DRAFT COMBINE" }, { val: "10", text: "WNBA" }, { val: "12", text: "2KLEAGUE" }, { val: "13", text: "SACRAMENTO" }, { val: "14", text: "ORLANDO" }, { val: "15", text: "VEGAS" }, { val: "16", text: "UTAH" }, { val: "20", text: "DLEAGUE", disp: "GLEAGUE" }, { val: "99", text: "TEST" }] }, Season: { name: "Season", label: "Season", order: 2e3, default: "2021-22", desc: "", type: "select", options: [{ val: "2021-22", text: "2021-22" }, { val: "2020-21", text: "2020-21" }, { val: "2019-20", text: "2019-20" }, { val: "2018-19", text: "2018-19" }, { val: "2017-18", text: "2017-18" }, { val: "2016-17", text: "2016-17" }, { val: "2015-16", text: "2015-16" }, { val: "2014-15", text: "2014-15" }, { val: "2013-14", text: "2013-14" }, { val: "2012-13", text: "2012-13" }, { val: "2011-12", text: "2011-12" }, { val: "2010-11", text: "2010-11" }, { val: "2009-10", text: "2009-10" }, { val: "2008-09", text: "2008-09" }, { val: "2007-08", text: "2007-08" }] }, SeasonType: { name: "SeasonType", label: "Season Type", order: 2001, default: "Regular Season", type: "select", desc: "", options: [{ val: "Pre Season", text: "Preseason", st: 1 }, { val: "Regular Season", text: "Regular Season", st: 2 }, { val: "Playoffs", text: "Playoffs", st: 4 }, { val: "All Star", text: "All-Star", st: 3 }, { val: "PlayIn", text: "Play-In", st: 5 }] }, PerMode: { name: "PerMode", label: "Per Mode", order: 470, default: "PerGame", type: "select", desc: "", options: [{ val: "Totals", text: "Totals" }, { val: "PerGame", text: "Per Game" }] }, StatCategory: { name: "StatCategory", label: "Stat Category", order: 480, default: "PTS", type: "select", desc: "", options: [{ val: "MIN", text: "MIN" }, { val: "FGM", text: "FGM" }, { val: "FGA", text: "FGA" }, { val: "FG_PCT", text: "FG%" }, { val: "FG3M", text: "3PM" }, { val: "FG3A", text: "3PA" }, { val: "FG3_PCT", text: "3P%" }, { val: "FTM", text: "FTM" }, { val: "FTA", text: "FTA" }, { val: "FT_PCT", text: "FT%" }, { val: "OREB", text: "OREB" }, { val: "DREB", text: "DREB" }, { val: "REB", text: "REB" }, { val: "AST", text: "AST" }, { val: "STL", text: "STL" }, { val: "BLK", text: "BLK" }, { val: "TOV", text: "TOV" }, { val: "EFF", text: "EFF" }, { val: "PTS", text: "PTS" }, { val: "AST_TOV", text: "AST/TO" }, { val: "STL_TOV", text: "STL/TOV" }, { val: "PF", text: "PF" }] }, GameScope: { name: "Game Scope", label: "Game Scope", type: "select", description: "", default: "", options: [{ val: "", text: "Season" }, { val: "Yesterday", text: "Yesterday" }, { val: "Last10", text: "Last 10 Games" }] }, GameSegment: { name: "GameSegment", label: "By Half", order: 220, type: "select", description: "The option to view a player or team's stats in either the first half or the second half of a game.", default: "", options: [{ val: "", text: "Entire Game" }, { val: "First Half", text: "First Half" }, { val: "Second Half", text: "Second Half" }, { val: "Overtime", text: "Overtime" }] }, Period: { name: "Period", label: "Quarter", order: 210, default: "0", type: "select", desc: "", options: [{ val: "0", text: "All Quarters" }, { val: "1", text: "1st Quarter" }, { val: "2", text: "2nd Quarter" }, { val: "3", text: "3rd Quarter" }, { val: "4", text: "4th Quarter" }, { val: "5", text: "OT 1" }, { val: "6", text: "OT 2" }, { val: "7", text: "OT 3" }, { val: "8", text: "OT 4" }, { val: "9", text: "OT 5" }, { val: "10", text: "OT 6" }, { val: "11", text: "OT 7" }, { val: "12", text: "OT 8" }, { val: "13", text: "OT 9" }, { val: "14", text: "OT 10" }] }, PaceAdjust: { name: "PaceAdjust", label: "Pace Adjust", order: 440, default: "N", type: "select", desc: "", options: [{ val: "Y", text: "Pace Adjust On" }, { val: "N", text: "Pace Adjust Off" }] }, PlusMinus: { name: "PlusMinus", label: "Differentials", order: 520, default: "N", type: "select", desc: "", options: [{ val: "Y", text: "Differentials On" }, { val: "N", text: "Differentials Off" }] }, Rank: { name: "Rank", label: "Rank", order: 530, default: "N", type: "select", desc: "", options: [{ val: "Y", text: "Rank On" }, { val: "N", text: "Rank Off" }] }, Scope: { name: "Scope", label: "Scope", order: 350, default: "S", type: "select", desc: "", options: [{ val: "S", text: "All Players" }, { val: "Rookies", text: "Rookies" }] }, VsConference: { name: "VsConference", label: "VS Conference", order: 310, default: "", type: "select", desc: "", options: [{ val: "", text: "VS All Conferences" }, { val: "East", text: "VS East" }, { val: "West", text: "VS West" }] }, VsDivision: { name: "VsDivision", label: "VS Division", order: 320, default: "", type: "select", desc: "Stats for team or player against a selected division", options: [{ val: "", text: "VS All Divisions" }, { val: "Atlantic", text: "VS Atlantic" }, { val: "Central", text: "VS Central" }, { val: "Southeast", text: "VS Southeast" }, { val: "Northwest", text: "VS Northwest" }, { val: "Pacific", text: "VS Pacific" }, { val: "Southwest", text: "VS Southwest" }] }, Conference: { name: "Conference", label: "Conference", order: 280, default: "", type: "select", desc: "", options: [{ val: "", text: "All Conferences" }, { val: "East", text: "East" }, { val: "West", text: "West" }] }, ReportType: { name: "ReportType", label: "Report-Type", order: 340, default: "Team", type: "select", description: "The option to select player or team", options: [{ val: "Team", text: "Team" }, { val: "Player", text: "Player" }] }, Division: { name: "Division", label: "Division", order: 290, default: "", type: "select", desc: "Stats for team or player against a selected division", options: [{ val: "", text: "All Divisions" }, { val: "Atlantic", text: "Atlantic" }, { val: "Central", text: "Central" }, { val: "Southeast", text: "Southeast" }, { val: "Northwest", text: "Northwest" }, { val: "Pacific", text: "Pacific" }, { val: "Southwest", text: "Southwest" }] }, Outcome: { name: "Outcome", label: "Outcome", order: 200, default: "", type: "select", desc: "", options: [{ val: "", text: "All Outcomes" }, { val: "W", text: "Wins" }, { val: "L", text: "Losses" }] }, Location: { name: "Location", label: "Location", order: 190, default: "", type: "select", desc: "", options: [{ val: "", text: "All Locations" }, { val: "Home", text: "Home" }, { val: "Road", text: "Road" }] }, SeasonSegment: { name: "SeasonSegment", label: "Season Segment", order: 170, default: "", type: "select", desc: "", options: [{ val: "", text: "Entire Season" }, { val: "Pre All-Star", text: "Pre All-Star" }, { val: "Post All-Star", text: "Post All-Star" }] }, LastNGames: { name: "LastNGames", label: "Last N Games", order: 180, default: "0", type: "select", desc: "", options: [{ val: "0", text: "All Games" }, { val: "1", text: "Last Game" }, { val: "2", text: "Last 2 Games" }, { val: "3", text: "Last 3 Games" }, { val: "4", text: "Last 4 Games" }, { val: "5", text: "Last 5 Games" }, { val: "6", text: "Last 6 Games" }, { val: "7", text: "Last 7 Games" }, { val: "8", text: "Last 8 Games" }, { val: "9", text: "Last 9 Games" }, { val: "10", text: "Last 10 Games" }, { val: "11", text: "Last 11 Games" }, { val: "12", text: "Last 12 Games" }, { val: "13", text: "Last 13 Games" }, { val: "14", text: "Last 14 Games" }, { val: "15", text: "Last 15 Games" }] }, VsOpponents: { name: "VsOpponents", label: "Vs Opponents", default: "", type: "select", desc: "", options: [{ val: "", text: "All" }, { val: "Conference", text: "Conference" }, { val: "Divisions", text: "Divisions" }, { val: "Team", text: "Team" }] }, OpponentTeamID: { name: "OpponentTeamID", label: "VS Opponent", order: 330, default: "0", type: "select", desc: "", options: [{ val: "0", text: "VS All Teams" }, { val: "1610612737", text: "VS Atlanta Hawks" }, { val: "1610612738", text: "VS Boston Celtics" }, { val: "1610612751", text: "VS Brooklyn Nets" }, { val: "1610612766", text: "VS Charlotte Hornets" }, { val: "1610612741", text: "VS Chicago Bulls" }, { val: "1610612739", text: "VS Cleveland Cavaliers" }, { val: "1610612742", text: "VS Dallas Mavericks" }, { val: "1610612743", text: "VS Denver Nuggets" }, { val: "1610612765", text: "VS Detroit Pistons" }, { val: "1610612744", text: "VS Golden State Warriors" }, { val: "1610612745", text: "VS Houston Rockets" }, { val: "1610612754", text: "VS Indiana Pacers" }, { val: "1610612746", text: "VS LA Clippers" }, { val: "1610612747", text: "VS Los Angeles Lakers" }, { val: "1610612763", text: "VS Memphis Grizzlies" }, { val: "1610612748", text: "VS Miami Heat" }, { val: "1610612749", text: "VS Milwaukee Bucks" }, { val: "1610612750", text: "VS Minnesota Timberwolves" }, { val: "1610612740", text: "VS New Orleans Pelicans" }, { val: "1610612752", text: "VS New York Knicks" }, { val: "1610612760", text: "VS Oklahoma City Thunder" }, { val: "1610612753", text: "VS Orlando Magic" }, { val: "1610612755", text: "VS Philadelphia 76ers" }, { val: "1610612756", text: "VS Phoenix Suns" }, { val: "1610612757", text: "VS Portland Trail Blazers" }, { val: "1610612758", text: "VS Sacramento Kings" }, { val: "1610612759", text: "VS San Antonio Spurs" }, { val: "1610612761", text: "VS Toronto Raptors" }, { val: "1610612762", text: "VS Utah Jazz" }, { val: "1610612764", text: "VS Washington Wizards" }] }, TeamID: { name: "TeamID", label: "Team", order: 300, default: "0", type: "select", desc: "", options: [{ val: "0", text: "All Teams" }, { val: "1610612737", text: "Atlanta Hawks" }, { val: "1610612738", text: "Boston Celtics" }, { val: "1610612751", text: "Brooklyn Nets" }, { val: "1610612766", text: "Charlotte Hornets" }, { val: "1610612741", text: "Chicago Bulls" }, { val: "1610612739", text: "Cleveland Cavaliers" }, { val: "1610612742", text: "Dallas Mavericks" }, { val: "1610612743", text: "Denver Nuggets" }, { val: "1610612765", text: "Detroit Pistons" }, { val: "1610612744", text: "Golden State Warriors" }, { val: "1610612745", text: "Houston Rockets" }, { val: "1610612754", text: "Indiana Pacers" }, { val: "1610612746", text: "LA Clippers" }, { val: "1610612747", text: "Los Angeles Lakers" }, { val: "1610612763", text: "Memphis Grizzlies" }, { val: "1610612748", text: "Miami Heat" }, { val: "1610612749", text: "Milwaukee Bucks" }, { val: "1610612750", text: "Minnesota Timberwolves" }, { val: "1610612740", text: "New Orleans Pelicans" }, { val: "1610612752", text: "New York Knicks" }, { val: "1610612760", text: "Oklahoma City Thunder" }, { val: "1610612753", text: "Orlando Magic" }, { val: "1610612755", text: "Philadelphia 76ers" }, { val: "1610612756", text: "Phoenix Suns" }, { val: "1610612757", text: "Portland Trail Blazers" }, { val: "1610612758", text: "Sacramento Kings" }, { val: "1610612759", text: "San Antonio Spurs" }, { val: "1610612761", text: "Toronto Raptors" }, { val: "1610612762", text: "Utah Jazz" }, { val: "1610612764", text: "Washington Wizards" }] }, Month: { name: "Month", label: "Month", order: 140, default: "0", type: "select", desc: "", options: [{ val: "0", text: "All Months" }, { val: "4", text: "January" }, { val: "5", text: "February" }, { val: "6", text: "March" }, { val: "7", text: "April" }, { val: "8", text: "May" }, { val: "9", text: "June" }, { val: "10", text: "July" }, { val: "11", text: "August" }, { val: "12", text: "September" }, { val: "1", text: "October" }, { val: "2", text: "November" }, { val: "3", text: "December" }] }, PlayerID: { name: "PlayerID", label: "Player", order: 305, default: 0, type: "select", desc: "", options: function () { var e = (window.stats_ptsd ? window.stats_ptsd.data.players : []).slice(0).map(function (e) { return { val: e[0], text: e[1] } }); return e.unshift({ val: 0, text: "All Players" }), e }() }, PlayerPosition: { name: "PlayerPosition", label: "Position", order: 355, default: "", type: "select", desc: "Filter out players by position to view either only Guards, Forwards, or Centers.", options: [{ val: "", text: "All Positions" }, { val: "F", text: "Forward" }, { val: "C", text: "Center" }, { val: "G", text: "Guard" }] }, StarterBench: { name: "StarterBench", label: "Starter Bench", default: "", type: "select", description: "The option to view stats by either the starters or the bench of a team.", options: [{ val: "", text: "All Players" }, { val: "Starters", text: "Starters" }, { val: "Bench", text: "Bench" }] }, PlayerExperience: { name: "PlayerExperience", label: "Experience", order: 340, default: "", type: "select", description: "The option to view either only rookies, or to exclude rookies from the data set.", options: [{ val: "", text: "All Experience" }, { val: "Rookie", text: "Rookie" }, { val: "Sophomore", text: "Sophomore" }, { val: "Veteran", text: "Veteran" }] }, TwoWay: { name: "TwoWay", label: "Two-Way", order: 340, default: "0", type: "select", description: "The option to view only players with Two-Way Contracts", options: [{ val: "0", text: "All Players" }, { val: "1", text: "Two-Way Contract" }] }, GroupQuantity: { name: "GroupQuantity", label: "Lineups", order: 130, default: "5", type: "select", description: "", options: [{ val: "5", text: "5 Player Lineups" }, { val: "4", text: "4 Player Lineups" }, { val: "3", text: "3 Player Lineups" }, { val: "2", text: "2 Player Lineups" }] }, ClutchTime: { name: "ClutchTime", label: "Clutch Time", order: 250, default: "Last 5 Minutes", type: "select", description: "", options: [{ val: "Last 5 Minutes", text: "Last 5 Minutes" }, { val: "Last 4 Minutes", text: "Last 4 Minutes" }, { val: "Last 3 Minutes", text: "Last 3 Minutes" }, { val: "Last 2 Minutes", text: "Last 2 Minutes" }, { val: "Last 1 Minute", text: "Last 1 Minute" }, { val: "Last 30 Seconds", text: "Last 30 Seconds" }, { val: "Last 10 Seconds", text: "Last 10 Seconds" }] }, AheadBehind: { name: "AheadBehind", label: "Ahead or Behind", order: 230, default: "Ahead or Behind", type: "select", description: "", options: [{ val: "Ahead or Behind", text: "Ahead or Behind" }, { val: "Behind or Tied", text: "Behind or Tied" }, { val: "Ahead or Tied", text: "Ahead or Tied" }] }, PointDiff: { name: "PointDiff", label: "PointDiff", order: 240, default: "5", type: "select", description: "", options: [{ val: "5", text: "5 Point Diff or Less" }, { val: "4", text: "4 Point Diff or Less" }, { val: "3", text: "3 Point Diff or Less" }, { val: "2", text: "2 Point Diff or Less" }, { val: "1", text: "1 Point Diff" }] }, DistanceRange: { name: "DistanceRange", label: "Distance Range", order: 490, default: "5ft Range", type: "select", description: "", options: [{ val: "5ft Range", text: "5ft Range" }, { val: "8ft Range", text: "8ft Range" }, { val: "By Zone", text: "By Zone" }] }, DateFrom: { name: "DateFrom", label: "Date From", order: 150, default: "", type: "datepicker", description: "", placeholder: "MM/DD/YYYY", selected: { val: "", text: "" } }, DateTo: { name: "DateTo", label: "Date To", order: 160, default: "", type: "datepicker", description: "", placeholder: "MM/DD/YYYY", selected: { val: "", text: "" } }, PT: { name: "PT", label: "Players or Teams", default: "player", type: "select", desc: "", options: [{ val: "player", text: "Player Stats" }, { val: "team", text: "Team Stats" }] }, OD: { name: "OD", label: "Offensive or Defensive", order: 510, default: "offensive", type: "select", desc: "", options: [{ val: "offensive", text: "Offensive" }, { val: "defensive", text: "Defensive" }] }, ShotClockRange: { name: "ShotClockRange", label: "Shot Clock Range", order: 270, default: "", type: "select", desc: "", options: [{ val: "", text: "All Shot Clock Ranges" }, { val: "24-22", text: "24-22" }, { val: "22-18 Very Early", text: "22-18 Very Early" }, { val: "18-15 Early", text: "18-15 Early" }, { val: "15-7 Average", text: "15-7 Average" }, { val: "7-4 Late", text: "7-4 Late" }, { val: "4-0 Very Late", text: "4-0 Very Late" }] }, PORound: { name: "PORound", label: "Playoff Round", order: 120, default: "0", type: "select", desc: "", options: [{ val: "0", text: "All Playoff Rounds" }, { val: "1", text: "Conference Quarter-Finals" }, { val: "2", text: "Conference Semi-Finals" }, { val: "3", text: "Conference Finals" }, { val: "4", text: "Finals" }] }, DraftYear: { name: "DraftYear", label: "Draft Year", order: 370, default: "", type: "select", desc: "", options: function () { for (var e = [{ val: "", text: "All Draft Years" }], t = 2021; 1947 <= t; --t)e.push({ val: t + "", text: t + "" }); return e }() }, DraftPick: { name: "DraftPick", label: "Draft Pick", order: 360, default: "", type: "select", desc: "", options: [{ val: "", text: "All Draft Rounds" }, { val: "1st Round", text: "1st Round" }, { val: "2nd Round", text: "2nd Round" }, { val: "1st Pick", text: "1st Pick" }, { val: "Lottery Pick", text: "Lottery Pick" }, { val: "Top 5 Pick", text: "Top 5 Pick" }, { val: "Top 10 Pick", text: "Top 10 Pick" }, { val: "Top 15 Pick", text: "Top 15 Pick" }, { val: "Top 20 Pick", text: "Top 20 Pick" }, { val: "Top 25 Pick", text: "Top 25 Pick" }, { val: "Picks 11 Thru 20", text: "Picks 11 Thru 20" }, { val: "Picks 21 Thru 30", text: "Picks 21 Thru 30" }, { val: "Undrafted", text: "Undrafted" }] }, College: { name: "College", label: "College", order: 390, default: "", type: "select", searchFields: ["text"], placeholder: "Search for a school", desc: "", options: function () { var e, t = [{ val: "", text: "All Affiliations" }, { val: "High School", text: "High School" }, { val: "None", text: "No College" }, { val: "", text: "---" }], a = ["Acadia (CAN)", "Adams State", "Adelphi", "Air Force", "Akron", "Alabama", "Alabama A&M", "Alabama-Birmingham", "Alabama-Huntsville", "Alabama State", "Albany", "Albany State (GA)", "Alcorn State", "Alliance", "American", "American International", "Angelo State", "Appalachian State", "Arizona", "Arizona State", "Arkansas", "Arkansas-Fort Smith", "Arkansas-Little Rock", "Arkansas-Pine Bluff", "Arkansas State", "Army", "Assumption", "Auburn", "Auburn-Montgomery", "Augsburg", "Augustana (IL)", "Augustana (SD)", "Augusta State", "Aurora", "Austin Peay", "Averett", "Azusa Pacific", "Ball State", "Baltimore", "Barton", "Barton Community College", "Baylor", "Belmont", "Belmont Abbey", "Beloit", "Bemidji State", "Benedict", "Bethel (TN)", "Binghamton", "Biola", "Blinn", "Bloomfield", "Bloomsburg", "Bluefield", "Boise State", "Boston College", "Boston University", "Bowie State", "Bowling Green", "Bradley", "Brevard Community College", "Brewton-Parker", "Bridgeport", "Brigham Young", "Brigham Young-Hawaii", "Brooklyn", "Brown", "Bryant", "Bucknell", "Buffalo", "Buffalo State", "Butler", "Butler Community College", "C.W. Post", "California", "California (PA)", "California-Berkeley", "California-Davis", "California-Irvine", "California-Los Angeles", "California-Riverside", "California-Santa Barbara", "Cal State-Bakersfield", "Cal State-Dominguez Hills", "Cal State-Fullerton", "Cal State-Los Angeles", "Cal State-Northridge", "Cal State-Poly Pomona", "Cal State-San Bernardino", "Campbell", "Campbellsville", "Canisius", "Case Western", "Catholic", "Centenary (LA)", "Central Arkansas", "Central Connecticut State", "Central Florida", "Central Michigan", "Central Missouri", "Central Oklahoma", "Central State (OH)", "Central Washington", "Charleston (WV)", "Cheyney", "Chicago State", "Christopher Newport", "Cincinnati", "City College of New York", "Claflin", "Clark Atlanta", "Clayton State", "Clemson", "Cleveland State", "Colgate", "College of Charleston", "College of New Jersey", "Colorado", "Colorado Christian", "Colorado State", "Colorado State-Pueblo", "Columbia", "Columbus State", "Concordia", "Concordia-Irvine", "Connecticut", "Coppin State", "Cornell", "Corpus Christi", "Creighton", "Culver-Stockton", "Dakota Wesleyan", "Dartmouth", "Davidson", "Davis & Elkins", "Dayton", "Delaware", "Delaware State", "Delta State", "Denver", "DePaul", "DePauw", "Detroit Mercy", "Dillard", "District of Columbia", "Drake", "Drexel", "Duke", "Duquesne", "East Carolina", "East Central", "Eastern Illinois", "Eastern Kentucky", "Eastern Michigan", "Eastern New Mexico", "Eastern Oklahoma State (Junior College)", "Eastern Washington", "East Tennessee State", "Eckerd", "Elizabeth City State", "Elon", "Evangel", "Evansville", "Fairfield", "Fairleigh Dickinson", "Fayetteville State", "Ferris State", "Findlay", "Florida", "Florida A&M", "Florida Atlantic", "Florida Community College", "Florida Gulf Coast", "Florida International", "Florida State", "Fordham", "Fort Valley State", "Franklin", "Fresno State", "Friends", "Furman", "Gannon", "Gardner-Webb", "George Mason", "Georgetown", "Georgetown College", "George Washington", "Georgia", "Georgia Southern", "Georgia State", "Georgia Tech", "Gonzaga", "Grambling", "Grand Canyon", "Green Bay", "Grinnell College", "Guilford", "Hamline", "Hampton", "Hardin-Simmons", "Hartford", "Harvard", "Hawaii", "High Point", "Hillsborough Community College", "Hillsdale", "Hofstra", "Holy Cross", "Holy Family", "Houston", "Houston Baptist", "Howard", "Humboldt State", "Huntington", "Idaho", "Idaho State", "Illinois", "Illinois-Chicago", "Illinois State", "Illinois Wesleyan", "Incarnate Word", "Indiana", "Indianapolis", "Indiana Purdue-Fort Wayne", "Indiana Purdue-Indianapolis", "Indiana State", "Indiana Tech", "Indian Hills Community College", "Iona", "Iowa", "Iowa State", "Jackson State", "Jacksonville", "Jacksonville State", "James Madison", "Johnson C. Smith", "Kansas", "Kansas State", "Kennesaw State", "Kent State", "Kentucky", "Kentucky State", "Kentucky Wesleyan", "Kenyon", "King's (NY)", "Lafayette", "Lamar", "La Salle", "Lawrence Tech", "Lebanon Valley", "Lee", "Lehigh", "Le Moyne", "Lewis", "Liberty", "Lincoln (MO)", "Lipscomb", "Long Beach State", "Long Island-Brooklyn", "Longwood", "Los Angeles Community College", "Louisiana-Lafayette", "Louisiana-Monroe", "Louisiana State", "Louisiana Tech", "Louisville", "Loyola-Chicago", "Loyola-Maryland", "Loyola-Marymount", "Maine", "Manhattan", "Marist", "Marquette", "Marshall", "Maryland", "Maryland-Eastern Shore", "Massachusetts", "Master's", "McNeese State", "Memphis", "Mercer", "Meridian Community College", "Merrimack", "Metro State", "Miami (FL)", "Miami (OH)", "Michigan", "Michigan State", "Middle Tennessee State", "Midland", "Midwestern State", "Miles", "Millersville", "Minnesota", "Minnesota-Duluth", "Minnesota State-Mankato", "Mississippi", "Mississippi Gulf Community College", "Mississippi State", "Mississippi Valley State", "Missouri", "Missouri-Kansas City", "Missouri State", "Missouri Western State", "Monmouth", "Montana", "Montana State", "Montevallo", "Morehead State", "Morehouse", "Morgan State", "Mountain State", "Mount St. Mary's", "Mount Union", "Mt. San Antonio", "Muhlenberg", "Murray State", "Navy", "Nebraska", "Nebraska-Kearney", "Nebraska-Omaha", "Nevada", "Nevada-Las Vegas", "Nevada-Reno", "New Jersey Institute of Technology", "New Mexico", "New Mexico Highlands", "New Mexico State", "New Mexico Tech", "New Orleans", "New York University", "Niagara", "Nicholls State", "Norfolk State", "North Carolina", "North Carolina A&T", "North Carolina-Asheville", "North Carolina Central", "North Carolina-Charlotte", "North Carolina-Greensboro", "North Carolina State", "North Carolina-Wilmington", "North Dakota", "North Dakota State", "Northeastern", "Northeastern State", "Northeast Mississippi Community College", "Northern Arizona", "Northern Colorado", "Northern Illinois", "Northern Iowa", "Northern Kentucky", "North Park", "North Texas", "Northwestern", "Northwestern Oklahoma", "Northwestern Oklahoma State", "Northwestern State", "Northwest Florida State", "Northwest Nazarene", "Northwood", "Notre Dame", "Oakland", "Ohio", "Ohio State", "Ohio Wesleyan", "Oklahoma", "Oklahoma Baptist", "Oklahoma City", "Oklahoma Science and Arts", "Oklahoma State", "Oklahoma Wesleyan", "Old Dominion", "Oral Roberts", "Oregon", "Oregon State", "Ouachita Baptist", "Pacific", "Paine", "Penn State", "Pennsylvania", "Pennsylvania-Kutztown", "Pepperdine", "Pfeiffer", "Phillips", "Pikeville", "Pittsburgh", "Portland", "Portland State", "Potsdam", "Prairie View A&M", "Princeton", "Providence", "Puget Sound", "Purdue", "Queens (NY)", "Quincy", "Rhode Island", "Rice", "Richmond", "Rider", "Robert Morris (IL)", "Rochester (NY)", "Rockhurst", "Rutgers", "Sacramento State", "Sacred Heart", "Saginaw Valley", "Saint Augustine's", "Saint Francis (PA)", "Saint Joseph's", "Saint Louis", "Saint Mary's (CA)", "Saint Mary's (MN)", "Saint Peter's", "Saint Rose", "Saint Vincent", "Salem International", "Sam Houston State", "San Diego", "San Diego State", "San Francisco", "San Jose State", "Santa Clara", "Scranton", "Seattle", "Seton Hall", "Seward County Community College", "Shaw", "Shippensburg", "Siena", "Slippery Rock", "South Alabama", "South Carolina", "South Carolina-Aiken", "South Carolina State", "South Carolina Upstate", "South Dakota", "South Dakota State", "Southeastern Illinois", "Southeastern Louisiana", "Southeastern Oklahoma State", "Southeast Missouri State", "Southern", "Southern California", "Southern Illinois", "Southern Methodist", "Southern Mississippi", "Southern Nazarene", "Southern Utah", "South Florida", "Southwest Baptist", "Springfield", "St. Ambrose", "St. Anselm", "St. Bonaventure", "St. Cloud State", "St. Francis Brooklyn", "St. John's (NY)", "St. Mary's (CA)", "St. Mary's (TX)", "St. Peter's", "St. Thomas (FL)", "Stanford", "Stephen F. Austin", "Stetson", "Stony Brook", "Syracuse", "Tampa", "Tarleton State", "Temple", "Tennessee", "Tennessee-Chattanooga", "Tennessee-Martin", "Tennessee State", "Tennessee Tech", "Texas", "Texas A&M", "Texas A&M-Commerce", "Texas A&M-Corpus Christi", "Texas-Arlington", "Texas Christian", "Texas-El Paso", "Texas-Pan American", "Texas-San Antonio", "Texas Southern", "Texas State", "Texas Tech", "Texas Wesleyan", "Thomas More", "Toledo", "Towson", "Trinity Valley Community College", "Troy State", "Truman State", "Tulane", "Tulsa", "Tuskegee", "UCLA", "Utah", "Utah State", "Utah Valley", "Valdosta State", "Valparaiso", "Vanderbilt", "Venezuela", "Vermont", "Villanova", "Virginia", "Virginia Commonwealth", "Virginia Military Institute", "Virginia Tech", "Virginia Union", "Voorhees", "Vorhees", "Wake Forest", "Walsh", "Washington", "Washington & Jefferson", "Washington State", "Wayne State (MI)", "Weber State", "Western Carolina", "Western Illinois", "Western Kentucky", "Western Michigan", "Western Washington", "West Florida", "West Georgia", "Westminster (PA)", "West Texas A&M", "West Virginia", "West Virginia State", "West Virginia Tech", "West Virginia Wesleyan", "Wheaton (IL)", "Whitworth", "Wichita State", "Wilberforce", "William & Mary", "William Jessup", "William Paterson", "William Penn", "Wingate", "Winona State", "Winston-Salem State", "Winthrop (SC)", "Wisconsin", "Wisconsin-Eau Claire", "Wisconsin-Green Bay", "Wisconsin-Milwaukee", "Wisconsin-Parkside", "Wisconsin-River Falls", "Wisconsin-Stevens Point", "Wisconsin-Whitewater", "Wofford", "Wooster", "Wright State", "Wyoming", "Xavier", "Xavier (LA)", "Yale", "Yonsei (KOR)", "Youngstown State"]; for (e in a) t.push({ val: a[e], text: a[e] }); return t }() }, Country: { name: "Country", label: "Country", order: 380, default: "", type: "select", searchFields: ["text"], placeholder: "Search for a country", desc: "", options: function () { var e, t = [{ val: "", text: "All Countries" }], a = ["International", "Angola", "Argentina", "Australia", "Belize", "Boznia & Herzegovina", "Brazil", "Cameroon", "Canada", "China", "Congo", "Croatia", "Czech Republic", "Democratic Republic of Congo", "Dominican Republic", "England", "Finland", "France", "Georgia", "Germany", "Great Britain", "Greece", "Haiti", "Iran", "Ireland", "Israel", "Italy", "Jamaica", "Latvia", "Lithuania", "Macedonia", "Mali", "Mexico", "Montenegro", "Netherlands", "New Zealand", "Nigeria", "Panama", "Poland", "Puerto Rico", "Russia", "Scotland", "Senegal", "Serbia", "Serbia and Montenegro", "Slovenia", "South Korea", "Spain", "St. Vincent & Grenadines", "Sudan", "Sudan (UK)", "Sweden", "Switzerland", "Tanzania", "Turkey", "U.S. Virgin Islands", "Ukraine", "Uruguay", "USA", "USSR", "Venezuela", "Yugoslavia"]; for (e in a) t.push({ val: a[e], text: a[e] }); return t }() }, Height: { name: "Height", label: "Height", order: 400, default: "", type: "select", desc: "", options: [{ val: "", text: "All Heights" }, { val: "LT 6-0", text: "< 6-0" }, { val: "GT 6-0", text: "> 6-0" }, { val: "LT 6-4", text: "< 6-4" }, { val: "GT 6-4", text: "> 6-4" }, { val: "LT 6-7", text: "< 6-7" }, { val: "GT 6-7", text: "> 6-7" }, { val: "LT 6-10", text: "< 6-10" }, { val: "GT 6-10", text: "> 6-10" }, { val: "LT 7-0", text: "< 7-0" }, { val: "GT 7-0", text: "> 7-0" }] }, Weight: { name: "Weight", label: "Weight", order: 400, default: "", type: "select", desc: "", options: [{ val: "", text: "All Weights" }, { val: "LT 200", text: "< 200" }, { val: "GT 200", text: "> 200" }, { val: "LT 225", text: "< 225" }, { val: "GT 225", text: "> 225" }, { val: "LT 250", text: "< 250" }, { val: "GT 250", text: "> 250" }, { val: "LT 275", text: "< 275" }, { val: "GT 275", text: "> 275" }, { val: "LT 300", text: "< 300" }, { val: "GT 300", text: "> 300" }] }, DefenseCategory: { name: "DefenseCategory", label: "Defense Category", order: 500, default: "Overall", type: "select", desc: "", options: [{ val: "Overall", text: "Overall" }, { val: "3 Pointers", text: "3 Pointers" }, { val: "2 Pointers", text: "2 Pointers" }, { val: "Less Than 6Ft", text: "Less Than 6Ft" }, { val: "Less Than 10Ft", text: "Less Than 10Ft" }, { val: "Less Than 10Ft", text: "Less Than 10Ft" }, { val: "Greater Than 15Ft", text: "Greater Than 15Ft" }] }, MinGames: { name: "MinGames", label: "Min Games", order: 540, default: "", type: "number", desc: "The minimum number of games played", placeholder: "0", validation: /\d*/, selected: { val: "" } }, GeneralRange: { name: "GeneralRange", label: "Shot Range", order: 420, type: "select", desc: "Shot range for shot dashboard.", default: "Overall", options: [{ val: "Overall", text: "Overall" }, { val: "Catch and Shoot", text: "Catch and Shoot" }, { val: "Pullups", text: "Pullups" }, { val: "Less Than 10 ft", text: "Less Than 10 ft" }] }, DribbleRange: { name: "DribbleRange", label: "Dribble Range", order: 430, type: "select", desc: "Dribble range for shot dashboard.", default: "0 Dribbles", options: [{ val: "0 Dribbles", text: "0 Dribbles" }, { val: "1 Dribble", text: "1 Dribble" }, { val: "2 Dribbles", text: "2 Dribbles" }, { val: "3-6 Dribbles", text: "3-6 Dribbles" }, { val: "7+ Dribbles", text: "7+ Dribbles" }] }, TouchTimeRange: { name: "TouchTimeRange", label: "Touch Time Range", order: 450, type: "select", desc: "Touch Time range for shot dashboard.", default: "Touch < 2 Seconds", options: [{ val: "Touch < 2 Seconds", text: "0 - 2 Seconds" }, { val: "Touch 2-6 Seconds", text: "2-6 Seconds" }, { val: "Touch 6+ Seconds", text: "6+ Seconds" }] }, CloseDefDistRange: { name: "CloseDefDistRange", label: "Closest Defender Distance Range", order: 460, type: "select", desc: "Closest Defender Distance Range range for shot dashboard.", default: "0-2 Feet - Very Tight", options: [{ val: "0-2 Feet - Very Tight", text: "0 - 2 Feet (Very Tight)" }, { val: "2-4 Feet - Tight", text: "2-4 Feet (Tight)" }, { val: "4-6 Feet - Open", text: "4-6 Feet (Open)" }, { val: "6+ Feet - Wide Open", text: "6+ Feet (Wide Open)" }] }, RangeType: { name: "RangeType", label: "Range Type", order: 700, type: "number", desc: "", skipLabel: !0, default: 0, selected: { val: 0 } }, StartPeriod: { name: "StartPeriod", label: "Start Period", order: 701, type: "number", desc: "", skipLabel: !0, default: 1, selected: { val: 1 } }, EndPeriod: { name: "EndPeriod", label: "End Period", order: 701, type: "number", desc: "", skipLabel: !0, default: 10, selected: { val: 10 } }, StartRange: { name: "StartRange", label: "Start Range", order: 701, type: "number", desc: "", skipLabel: !0, default: 0, selected: { val: 0 } }, EndRange: { name: "EndRange", label: "End Range", order: 702, type: "number", desc: "", skipLabel: !0, default: 28800, selected: { val: 28800 } } }), function () { function t(e) { return e % 1 != 0 && (e = Math.round(e)), 9 < e ? e : "0" + e } stats.filter("convertMin", function () { return function (e) { return !e.minutes && !e.seconds || 0 == e.minutes && 0 == e.seconds ? 0 : t(Number(e.minutes)) + ":" + t(Number(e.seconds)) } }) }(), stats.filter("countdownClock", function () { return function (e) { if (null == e) return e; var t, a, n = 7200, s = 28800, r = "", o = 0; e <= n && (r = "Q1", o = n - e), n < e && e <= 14400 && (r = "Q2", o = n - e + n), 14400 < e && e <= 21600 && (r = "Q3", o = n - e + 14400), 21600 < e && e <= s && (r = "Q4", o = n - e + 21600), s < e && (a = e - s, o = 3e3 * (t = Math.ceil(a / 3e3)) - e + s, r = "OT" + t); var i = o / 10; return [r, [("0" + Math.floor(i / 60)).substr(-2), ("0" + Math.floor(i % 60)).substr(-2)].join(":")].join(" - ") } }), stats.filter("decimalTime", function () { return function (e, t) { var a = 0, n = Math.min(e, 4), s = Math.max(e - 4, 0); if (!t) return a = 7200 * n + 3e3 * s; var r = t.split(":"), o = +r[0], i = +r[1]; return e <= 4 ? a = 7200 * (e - 1) + (7200 - (600 * o + 10 * i)) : (a = 3e3 * (s - 1) + (3e3 - (600 * o + 10 * i)), a += 28800), a } }), stats.filter("equality", function () { return function (e, t, a, n) { if (e && t) { var s = { E: function (e) { return n && "string" == typeof e[n] ? -1 < e[n].toLowerCase().indexOf(a.toLowerCase()) : n ? e[n] == a : "string" == typeof e ? -1 < e.toLowerCase().indexOf(a.toLowerCase()) : e == a }, NE: function (e) { return n && "string" == typeof e[n] ? -1 === e[n].toLowerCase().indexOf(a.toLowerCase()) : n ? e[n] != a : "string" == typeof e ? -1 === e.toLowerCase().indexOf(a.toLowerCase()) : e != a }, G: function (e) { return n ? e[n] > a : a < e }, GE: function (e) { return n ? e[n] >= a : a <= e }, L: function (e) { return n ? e[n] < a : e < a }, LE: function (e) { return n ? e[n] <= a : e <= a }, R: function (e) { try { var t = new RegExp(a, "ig"); return n ? t.test(e[n]) : t.test(e) } catch (e) { return !0 } } }[t.toUpperCase()]; if (s) return e.filter(s) } } }), stats.filter("eventDesc", function () { return function (e) { return e.length ? e.replace("#@#", " & ") : e } }), function () { function e(n) { return function (e, t, a) { return n(t)(e, a) } } stats.filter("format", e), e.$inject = ["$filter"] }(), function () { function e(a) { return function (e) { if (!e) return e; var t = { GameID: e = e.toString(), LeagueID: e.substr(0, 2), st: +e.substr(2, 1), yearid: e.substr(3, 2) }; return t.isPre = 1 === t.st, t.isReg = 2 === t.st, t.isAllstar = 3 === t.st, t.isPlayoffs = 4 === t.st, t.isPlayin = 5 === t.st, t.isFinals = t.isPlayoffs && "4" === e.charAt(7), t.league = a("leagueIdToName")(t.LeagueID), t.SeasonType = a("seasonTypeIdToSeasonType")(t.st), 4 === t.st || 5 === t.st ? (t.round = +e.substr(7, 1), t.series = +e.substr(8, 1), t.game = +e.substr(9, 1)) : t.gamenumber = +e.substr(-4), t.seasonyear = (45 <= parseInt(t.yearid, 10) ? "19" : "20") + t.yearid, t.seasonyear = +t.seasonyear, t.Season = a("seasonyear")(t.seasonyear), t } } stats.filter("gameIdToObject", e), e.$inject = ["$filter"] }(), stats.filter("gameStateClockFilter", function () { return function (e, t) { return /(start|end|final|halftime)/gi.test(t) ? "" : e } }), stats.filter("gameStateStatusFilter", function () { return function (e, t, a) { return 3 == +t && 4 < +a ? "Final/OT" : e } }), stats.filter("groupBy", function () { var c = { asArray: !1, isCaseSensitive: !0 }; return function (e, t, a) { if (e) { var n, s = angular.extend({}, c, a), r = {}, o = []; for (n in e) { var i = e[n], l = ""; angular.isString(t) ? l = i[t] : angular.isFunction(t) && (l = t(i)), r[l] || (r[l] = { group: l, items: [] }, o.push(r[l])), r[l].items.push(i) } return s.asArray ? o : r } } }), function () { function e(e, a) { return function (t) { if (!t) return t; var e = a.LeagueID.options.find(function (e) { return e.val == t }); return e ? e.text : t } } stats.filter("leagueIdToName", e), e.$inject = ["$filter", "SPLITS"] }(), stats.filter("leagueRanking", function () { return function (e) { return e && "NR" != e ? "#" + e : "NR" } }), stats.filter("lineupToolFilter", function () { return function (e) { return e.split("_").filter(function (e) { return "_" !== e }).join(" ") } }), stats.filter("lineup", function () { return function (e) { return e.split(" - ").map(function (e) { var t = e.split(","), a = t[1] || "", n = t[0]; return a.charAt(0) + "." + n }).join(", ") } }), stats.filter("minutesToSeconds", function () { return function (e) { if (!e) return null; var t = (e + "").split(":"); return 2 !== t.length ? null : 60 * t[0] + +t[1] } }), stats.filter("notFirst", function () { return function (e) { return e.shift(), e } }), stats.filter("ordinal", function () { return function (e, t) { if (!e) return "-"; var a = ["th", "st", "nd", "rd"], n = e % 100, s = a[(n - 20) % 10] || a[n] || a[0]; return t ? s : e + s } }), stats.filter("padLeft", function () { return function (e, t, a) { if (null == e) return "-"; if (t = parseInt(t, 10) || 0, e = (a = a.toString()) + e.toString(), !t) return e; for (; e.length < t;)e = a + e; return e.slice(-t) } }), stats.filter("param", function () { return function (t, e) { return (e ? "?" : "") + Object.keys(t).map(function (e) { return e + "=" + t[e] }).join("&") } }), stats.filter("percent", function () { return function (e, t) { if (1 === e) return t ? "100%" : 100; if (null == e || isNaN(e) || e === 1 / 0) return "-"; var a = (100 * e).toFixed(1); return t ? a + "%" : a } }), stats.filter("periodToText", function () { return function (e) { return e <= 4 ? "Q" + e : "OT" + (e - 4) } }), stats.filter("permode", function () { return function (e, t, a, n) { if (null === e) return "-"; if ("" === e) return ""; if (!e && 0 !== e) return e; var s = { MIN: { PerGame: 1, Per100Possessions: 1, Per100Plays: 1, PerPossession: 3, PerPlay: 3, default: 0 }, DIST_MILES: { default: 1 }, NBA_FANTASY_PTS: { PerMinute: 2, PerPlay: 3, PerPossession: 3, default: 1 }, PARTIAL_POSS: { default: 0 }, CHARGES_DRAWN: { Totals: 0, default: 2 }, default: { Total: 0, Totals: 0, PerMinute: 2, PerPlay: 3, PerPossession: 3, default: n ? +n : 1 } }, r = s[a] || s.default, o = void 0 !== r[t] ? r[t] : r.default; return e.toFixed(o) } }), stats.filter("playerFirstLast", function () { return function (e, t) { var a = { fn: "", ln: "" }; return e && "string" == typeof e && (a.fn = e.match(/([a-zA-Z\-.]+)(.*)/)[1], a.ln = e.match(/([a-zA-Z\-.]+)(.*)/)[2]), t ? a[t] : a } }), function () { function e(s, e) { return function (e, t) { var a = e.map(function (e) { var t = { type: parseInt(e.SEASON_ID.substr(0, 1), 10), year: parseInt(e.SEASON_ID.substr(1, 4), 10) }; return t.Season = s("seasonyear")(t.year), t.SeasonType = s("seasonTypeIdToSeasonType")(t.type), t }).filter(function (e) { return 3 !== e.type }), n = a[a.length - 1]; if (n.year !== t.SeasonYear) return t; if (n.SeasonType === t.SeasonType) return t; if ("Playoffs" === n.SeasonType && "Regular Season" === t.SeasonType) return t; switch (t.SeasonType) { case "Playoffs": case "All Star": t.SeasonType = "Regular Season"; break; case "Regular Season": t.SeasonType = "Pre Season"; break; case "Pre Season": t.SeasonType = "Regular Seaspon", t.SeasonYear = t.SeasonYear - 1, t.Season = s("seasonyear")(t.SeasonYear) }return t } } stats.filter("playerSeason", e), e.$inject = ["$filter", "SPLITS"] }(), function () { function e(r) { return function (e, t, a) { for (var n = [], s = e; s <= t; s += 1)a ? n.push(r(a)(s)) : n.push(s); return n } } stats.filter("range", e), e.$inject = ["$filter"] }(), stats.filter("reverse", function () { return function (e) { if (e && Array.isArray(e)) return e.slice().reverse() } }), stats.filter("seasonToSeasonYear", function () { return function (e) { if (e) { var t = parseInt(e.substr(0, 4), 10); return isNaN(t) ? e : t } } }), function () { function e(s) { return function (e) { var t = parseInt(e, 10), a = s.SeasonType.options; if (!t) return ""; 4 < t && (t = 2); var n = a.find(function (e) { return e.st === t }); return n ? n.val : "" } } stats.filter("seasonTypeIdToSeasonType", e), e.$inject = ["SPLITS"] }(), stats.filter("seasonyear", function () { return function (e) { return e + "-" + (+e + 1).toString().slice(-2) } }), function () { function t(e, t) { 1 !== e.etype && 2 !== e.etype || (e.SHOT_ATTEMPTED_FLAG = 1, e.SHOT_DISTANCE = Math.sqrt(e.locX * e.locX + e.locY * e.locY), 3 === e.opt1 && (e.locY < 88 && e.locX < 0 ? e.SHOT_ZONE_BASIC = "Left Corner 3" : e.locY < 88 && 0 < e.locX ? e.SHOT_ZONE_BASIC = "Right Corner 3" : 418 < e.locY ? e.SHOT_ZONE_BASIC = "Backcourt" : e.SHOT_ZONE_BASIC = "Above the Break 3"), 2 === e.opt1 && (-80 < e.locX && e.locX < 80 && e.locY < 139 ? e.SHOT_DISTANCE < 40 && -12 < e.locY ? e.SHOT_ZONE_BASIC = "Restricted Area" : e.SHOT_ZONE_BASIC = "In The Paint (Non-RA)" : e.SHOT_ZONE_BASIC = "Mid-Range"), e.SHOT_DISTANCE = Math.floor(e.SHOT_DISTANCE / 10)) } stats.filter("shotZone", function () { return function (e) { if (!e) return e; e.forEach(t) } }) }(), stats.filter("slice", function () { return function (e, t, a) { return e && Array.isArray(e) ? e.slice(t, a) : e } }), function () { function e(s) { return function (e, t) { if (null === e) return "-"; var a = /_fmtD(\d+)$/; if (-1 < (t += "").indexOf("_fmtPCT")) return (100 * e).toFixed(1); if (-1 < t.indexOf("_PG")) return e.toFixed(1); if (-1 < t.indexOf("_RATING")) return e.toFixed(1); if (null === a.exec(t)) return -1 < t.indexOf("PCT") ? (100 * e).toFixed(1) : -1 < t.indexOf("JERSEY") ? "#" + e : -1 < t.indexOf("_fmtINT") ? s("number")(e, 0) : e; var n = a.exec(t)[1]; return e.toFixed(n) } } stats.filter("statFieldFormatter", e), e.$inject = ["$filter"] }(), stats.filter("statFieldToText", function () { return function (e) { return e = (e += "").replace(/_fmt.*$/, " ").replace("PCT", "%").replace("_NUM", " ").replace(/_/g, " ").replace("Regular_Season", " Regular Season") } }), function () { function e(s) { return function (e, t, a) { parseInt(t, 10); var n = isNaN(+t) ? "percent" === t || -1 < a.indexOf("PCT") ? s("percent")(e) : "winPct" === t ? s("winPct")(e) : "none" === t ? e : s("permode")(e, t, a) : s("number")(e, t); return "" === n || null === n ? "-" : n } } stats.filter("statNumber", e), e.$inject = ["$filter"] }(), function () { function e(o) { return function (e, t, a) { if (!e) return e; var n = e.slice(0), s = !1, r = parseInt(a); return "-" === t.substr(0, 1) && (t = t.substr(1), s = !0), o("statsSort")(n, t, s), r && (n = n.slice(0, a)), n } } stats.filter("statOrder", e), e.$inject = ["$filter"] }(), stats.filter("statRank", function () { return function (a, n, s) { return a && a.forEach(function (e, t) { 0 === t ? e[s] = 1 : e[n] === a[t - 1][n] ? e[s] = a[t - 1][s] : e[s] = t + 1 }), a } }), function () { function e(a) { return function (e) { var t = document.createElement("textarea"); return t.innerHTML = e, a.trustAsHtml(t.value) } } stats.filter("statsTrusted", e), e.$inject = ["$sce"] }(), stats.filter("statsSort", function () { return function (e, t, a) { e.sort(function (e, t, a, n) { var s = t ? a[e] : n[e], r = t ? n[e] : a[e]; "gdate" === e && (s = new Date(s), r = new Date(r)); return null === a[e] || void 0 === a[e] ? 1 : null === n[e] || void 0 === n[e] || r < s ? -1 : s < r ? 1 : 0 }.bind(null, t, a)) } }), stats.filter("teamnameToCode", function () { return function (e) { return e ? e.toString().replace(/ /g, "_").toLowerCase() : e } }), stats.filter("toFeetAndInches", function () { return function (e) { return e = parseInt(e, 10), [Math.floor(e / 12), e % 12].join("-") } }), stats.filter("toInches", function () { return function (e) { var t = e.split("-"), a = 12 * (parseInt(t[0], 10) || 0) + (parseInt(t[1], 10) || 0); return isNaN(a) || 0 === a ? null : a } }), function () { function e(r) { return function (e, t, a, n) { if (!e || !t) return e; var s = r.getById(e[t]); return s ? "".concat(s.city, " ").concat(s.name) : "".concat(e[a], " ").concat(e[n]) } } stats.filter("toTeamName", e), e.$inject = ["TeamsService"] }(), stats.filter("uniqueKey", function () { return function (e, a) { var n = {}; return e.filter(function (e) { var t = e[a]; return !n[t] && (n[t] = !0) }) } }), stats.filter("winPct", function () { return function (e) { return (e = +e).toFixed(3).substr(1 === e ? 0 : 1) } }), stats.config(["$locationProvider", "$routeProvider", function (e, a) { if (!window.nbaStatsRoute) return; e.html5Mode(!0); var n = window.location.pathname;[["/game/", "/", "angular/views/game/game-traditional.html"], ["/game/", "/advanced/", "angular/views/game/game-advanced.html"], ["/game/", "/four-factors/", "angular/views/game/game-four-factors.html"], ["/game/", "/misc/", "angular/views/game/game-misc.html"], ["/game/", "/scoring/", "angular/views/game/game-scoring.html"], ["/game/", "/usage/", "angular/views/game/game-usage.html"], ["/game/", "/hustle/", "angular/views/game/game-hustle.html"], ["/game/", "/defense/", "angular/views/game/game-defense.html"], ["/game/", "/matchups/", "angular/views/game/game-matchups.html"], ["/game/", "/playbyplay/", "angular/views/game/game-playbyplay.html"], ["/game/", "/tracking/", "angular/views/game/game-playertracking.html"], ["/game/", "/charts/", "angular/views/game/game-charts.html"], ["/game/", "/shotchart/", "angular/views/game/game-shotchart.html"], ["/game/", "/rotations/", "angular/views/game/game-rotations.html"], ["/player/", "/", "angular/views/player/player-stats-profile.html"], ["/player/", "/stats/", "angular/views/player/player-stats-profile.html"], ["/player/", "/fantasy/", "angular/views/player/player-fantasy.html"], ["/player/", "/traditional/", "angular/views/player/player-traditional.html"], ["/player/", "/advanced/", "angular/views/player/player-advanced.html"], ["/player/", "/misc/", "angular/views/player/player-misc.html"], ["/player/", "/scoring/", "angular/views/player/player-scoring.html"], ["/player/", "/shooting/", "angular/views/player/player-shooting.html"], ["/player/", "/usage/", "angular/views/player/player-usage.html"], ["/player/", "/career/", "angular/views/player/player-career.html"], ["/player/", "/boxscores/", "angular/views/player/player-boxscores.html"], ["/player/", "/boxscores-traditional/", "angular/views/player/player-boxscores-traditional.html"], ["/player/", "/boxscores-advanced/", "angular/views/player/player-boxscores-advanced.html"], ["/player/", "/boxscores-misc/", "angular/views/player/player-boxscores-misc.html"], ["/player/", "/boxscores-scoring/", "angular/views/player/player-boxscores-scoring.html"], ["/player/", "/boxscores-usage/", "angular/views/player/player-boxscores-usage.html"], ["/player/", "/shots-dash/", "angular/views/player/player-shots-dash.html"], ["/player/", "/rebounds-dash/", "angular/views/player/player-rebounds-dash.html"], ["/player/", "/passes-dash/", "angular/views/player/player-passes-dash.html"], ["/player/", "/defense-dash/", "angular/views/player/player-defense-dash.html"], ["/player/", "/news/", "angular/views/player/player-news.html"], ["/player/", "/head-to-head/", "angular/views/player/player-matchups-head-to-head.html"], ["/player/", "/by-position/", "angular/views/player/player-matchups-by-position.html"], ["/team/", "/", "angular/views/team/team-profile.html"], ["/team/", "/stats/", "angular/views/team/team-profile.html"], ["/team/", "/traditional/", "angular/views/team/team-traditional.html"], ["/team/", "/advanced/", "angular/views/team/team-advanced.html"], ["/team/", "/four-factors/", "angular/views/team/team-four-factors.html"], ["/team/", "/misc/", "angular/views/team/team-misc.html"], ["/team/", "/scoring/", "angular/views/team/team-scoring.html"], ["/team/", "/opponent/", "angular/views/team/team-opponent.html"], ["/team/", "/shooting/", "angular/views/team/team-shooting.html"], ["/team/", "/lineups-traditional/", "angular/views/team/team-lineups-traditional.html"], ["/team/", "/lineups-advanced/", "angular/views/team/team-lineups-advanced.html"], ["/team/", "/lineups-four-factors/", "angular/views/team/team-lineups-four-factors.html"], ["/team/", "/lineups-misc/", "angular/views/team/team-lineups-misc.html", "lineups-misc"], ["/team/", "/lineups-scoring/", "angular/views/team/team-lineups-scoring.html", "lineups-scoring"], ["/team/", "/lineups-opponent/", "angular/views/team/team-lineups-opponent.html", "lineups-opponent"], ["/team/", "/players-traditional/", "angular/views/team/team-players-traditional.html"], ["/team/", "/players-advanced/", "angular/views/team/team-players-advanced.html"], ["/team/", "/players-misc/", "angular/views/team/team-players-misc.html"], ["/team/", "/players-scoring/", "angular/views/team/team-players-scoring.html"], ["/team/", "/players-usage/", "angular/views/team/team-players-usage.html"], ["/team/", "/onoffcourt-traditional/", "angular/views/team/team-onoffcourt-traditional.html"], ["/team/", "/onoffcourt-advanced/", "angular/views/team/team-onoffcourt-advanced.html"], ["/team/", "/onoffcourt-four-factors/", "angular/views/team/team-onoffcourt-four-factors.html"], ["/team/", "/onoffcourt-misc/", "angular/views/team/team-onoffcourt-misc.html"], ["/team/", "/onoffcourt-scoring/", "angular/views/team/team-onoffcourt-scoring.html"], ["/team/", "/onoffcourt-opponent/", "angular/views/team/team-onoffcourt-opponent.html"], ["/team/", "/onoffcourt-summary/", "angular/views/team/team-onoffcourt-summary.html"], ["/team/", "/boxscores/", "angular/views/team/team-boxscores.html"], ["/team/", "/boxscores-traditional/", "angular/views/team/team-boxscores-traditional.html"], ["/team/", "/boxscores-advanced/", "angular/views/team/team-boxscores-advanced.html"], ["/team/", "/boxscores-four-factors/", "angular/views/team/team-boxscores-four-factors.html"], ["/team/", "/boxscores-misc/", "angular/views/team/team-boxscores-misc.html"], ["/team/", "/boxscores-scoring/", "angular/views/team/team-boxscores-scoring.html"], ["/team/", "/seasons/", "angular/views/team/team-seasons.html"], ["/team/", "/franchise-leaders/", "angular/views/team/team-franchise-leaders.html"], ["/team/", "/yearoveryear/", "angular/views/team/team-yearoveryear.html"], ["/team/", "/shots-dash/", "angular/views/team/team-shots-dash.html"], ["/team/", "/rebounds-dash/", "angular/views/team/team-rebounds-dash.html"], ["/team/", "/passes-dash/", "angular/views/team/team-passes-dash.html"], ["/team/", "/matchups/", "angular/views/team/team-matchups.html"], ["/summer-league/", "/team/:LeagueID/:TeamName/", "angular/views/summerleague/team.html"]].filter(function (e) { var t = "/stats" + e[0]; return 0 === n.indexOf(t) }).forEach(function (e) { var t = e[1]; a.when(t, { templateUrl: "/stats/templates/" + e[2], reloadOnSearch: !1 }) }) }]), function () { function e(a, e, n, s) { var r = angular.element(e), o = angular.element(s); function i(e) { var t = o.scrollTop() + o.height(); r.offset().top + r.height() <= t + r.height() && (a.hasFired = !0, n(a.defaults.callback.bind(this, r), a.defaults.delay)), a.hasFired && a.defaults.triggerOnce && (angular.element(s).off("scroll", i), angular.element(s).off("resize", i)) } a.hasFired = !1, a.defaults = { triggerOnce: !0, delay: 500, callback: function () { } }, a.$watch("inViewport", function (e) { e && (a.defaults = angular.extend({}, a.defaults, e), a.hasFired = !1, i()) }, !0), angular.element(s).on("scroll", i), angular.element(s).on("resize", i) } stats.directive("inViewport", function () { return { restrict: "A", scope: { inViewport: "=" }, controller: e } }), e.$inject = ["$scope", "$element", "$timeout", "$window"] }(), function () { function e(n, e, s, r, a) { function t(e, t) { n.alphaText = s.find('[data-type-alpha="' + n.alpha + '"]').eq(0).text(), n.betaText = s.find('[data-type-beta="' + n.beta + '"]').eq(0).text(), n.gammaText = s.find('[data-type-gamma="' + n.gamma + '"]').eq(0).text(), n.navigationDTM && (a.triggerEvent("navigation", "Tertiary: " + [n.alphaText, n.betaText, n.gammaText].join(" ")), n.navigationDTM = !1) } n.$watch("omega", t), n.$watch("alpha", t), n.$watch("beta", t), n.$watch("gamma", t), n.$on("onCompareSearch", function (e, t) { n.search = "undefined" !== t.slice(1) ? "#!" + t : "" }), s.on("click", ".tertiary-nav-component__dropdown a", function () { n.showAlpha = !1, n.showBeta = !1, n.showGamma = !1, n.showOmega = !1, n.navigationDTM = !0 }), s.on("click", ".tertiary-nav-overlay", function () { n.showAlpha = !1, n.showBeta = !1, n.showGamma = !1, n.showOmega = !1, n.$apply() }), s.on("click", ".team-route-link", function (e) { var t = $(this).data("type-omega"), a = r.absUrl().replace(/\/team\/\d+/, "/team/" + t); n.showAlpha = !1, n.showBeta = !1, n.showGamma = !1, n.showOmega = !1, window.location.href = a, n.$apply() }), s.on("click", ".tertiary-nav-component:last-child", function () { var e = s.find(".tertiary-nav-component:not(.ng-hide)"), t = e.length, a = e.eq(t - 2); a && a.length && a.find(".toggle-nav-component__button a").click() }), e.on("click", function (e) { var t; (n.showAlpha || n.showBeta || n.showGamma || n.showOmega) && (t = e.target, $.contains(s.get(0), t) || (n.showAlpha = !1, n.showBeta = !1, n.showGamma = !1, n.showOmega = !1, n.$apply())) }) } stats.directive("navDropdown", function () { return { restrict: "E", template: function (e) { return e.html() }, scope: { alpha: "@", beta: "@", gamma: "@", omega: "@", routeId: "@", sections: "=", teams: "=" }, controller: e } }), e.$inject = ["$scope", "$document", "$element", "$location", "DtmService"] }(), function () { function e(s, e, t) { for (var a in t) "nbaWith" === a || (0 === a.indexOf("nbaWithData") ? function (e, t) { var a = r(t.substr(11)), n = e[t]; s.$watch(n, function (e) { s[a] = e }, !0) }(t, a) : 0 === a.indexOf("nbaWith") && function (e, t) { var a = r(t.substr(7)); e.$observe(t, function (e) { s[a] = e }) }(t, a)) } function r(e) { return e.charAt(0).toLowerCase() + e.slice(1) } stats.directive("nbaWith", function () { return { scope: !0, link: e } }) }(), function () { function e(t, e, a) { function n() { var e; t.fields && t.filter && (e = t.filter.value.split("*"), t.field = a("filter")(t.fields, { name: e[0] }, !0)[0], t.field || (t.field = t.fields[0]), t.comparator = a("filter")(t.comparators, { k: e[1] })[0], t.value = e[2]) } function s() { var e; t.field && t.comparator && (e = "PLAYER_HEIGHT_INCHES" !== t.field.name || 60 < t.value ? t.value : a("toInches")(t.value), t.filter.value = [t.field.name, t.comparator.k, e].join("*"), t.filter.text = [t.field.text, t.comparator.v, e].join(" "), t.$emit("filterUpdated", t.filter)) } t.comparators = [{ k: "gt", v: "" }, { k: "lt", v: "<" }], t.toggled = !1, t.remove = function () { t.$emit("removeFilter", t.filter) }, t.$watch("filter", n), t.$watch("fields", n), t.$watch("field", s), t.$watch("comparator", s), t.$watch("value", s) } stats.directive("querytoolCustomFilter", function () { return { restrict: "A", replace: !0, scope: { filter: "=", fields: "=" }, template: ["<table>", " <tr>", '   <td class="field"><select ng-model="field" ng-options="v.text for v in fields"></select></td>', '   <td class="comparator"><select ng-model="comparator" ng-options="v.v for v in comparators"></select></td>', '   <td class="val"><input type="text" pattern="[0-9]*" inputmode="numeric" ng-model="value" /></td>', '   <td class="close"><button ng-click="remove()"><i class="fa fa-times"></i></button></td>', " </tr>", "</div>"].join(""), controller: e } }), e.$inject = ["$scope", "$element", "$filter"] }(), function () { function e(a, n, s) { var e; a.filters || (a.filters = (e = s.search().CF) ? e.split("|").map(function (e, t) { return { name: "CF" + t, value: e } }) : []), a.maxFilters = 8; var t = a.filters.length; a.addFilter = function () { a.filters.length >= a.maxFilters || (t += 1, a.filters.push({ name: "CF" + t, value: "**" }), a.filters = a.filters.slice(0)) }, a.$on("removeFilter", function (e, t) { a.filters = n("filter")(a.filters, { name: "!" + t.name }), r(a.filters, s) }), a.$on("filterUpdated", function (e, t) { a.filters = a.filters.slice(0), r(a.filters, s) }), a.$watch("fields", function (e) { a.fields = e }) } function r(e, t) { var a = e.map(function (e) { return e.value }).join("|"); t.search("CF", a || null) } stats.directive("querytoolCustomFilters", function () { return { restrict: "A", replace: !1, scope: { filters: "=", fields: "=" }, template: ['<button class="[ button ] add-filter" ng-disabled="filters.length >= maxFilters" ng-click="addFilter()"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;Add Stat Filter</button>', '<div ng-repeat="filter in filters">', '<div querytool-custom-filter fields="fields" filter="filter"></div>', "</div>"].join(""), controller: e } }), e.$inject = ["$scope", "$filter", "$location"] }(), function () { function e(t, e, a) { function n() { var e; t.fields && t.filter && (e = t.filter.value.split("*"), t.field = a("filter")(t.fields, { name: e[0] }, !0)[0], t.field || (t.field = t.fields[0]), t.comparator = a("filter")(t.comparators, { k: e[1] })[0], t.value = e[2]) } function s() { t.field && t.comparator && (t.filter.value = [t.field.name, t.comparator.k].join("*"), t.filter.text = [t.field.text, t.comparator.v].join(" "), t.$emit("oppFilterUpdated", t.filter)) } t.comparators = [{ k: "gt", v: ">" }, { k: "lt", v: "<" }], t.toggled = !1, t.remove = function () { t.$emit("oppRemoveFilter", t.filter) }, t.$watch("filter", n), t.$watch("fields", n), t.$watch("field", s), t.$watch("comparator", s), t.$watch("value", s) } stats.directive("statsOppFilter", function () { return { restrict: "A", replace: !0, scope: { filter: "=", fields: "=" }, template: ["<table>", " <tr>", '   <td class="field"><select ng-model="field" ng-options="v.text for v in fields"></select></td>', '   <td class="comparator"><select ng-model="comparator" ng-options="v.v for v in comparators"></select></td>', '   <td class="text">Opp {{field.text}}</td>', '   <td class="close"><button ng-click="remove()"><i class="fa fa-times"></i></button></td>', " </tr>", "</div>"].join(""), controller: e } }), e.$inject = ["$scope", "$element", "$filter"] }(), function () { function e(a, n, s) { var e; a.oppFilters || (a.oppFilters = (e = s.search().MATCHUP) ? e.split("|").map(function (e, t) { return { name: "MATCHUP" + t, value: e } }) : []), a.maxFilters = 8; var t = a.oppFilters.length; a.addFilter = function () { a.oppFilters.length >= a.maxFilters || (t += 1, a.oppFilters.push({ name: "MATCHUP" + t, value: "*" }), a.oppFilters = a.oppFilters.slice(0)) }, a.$on("oppRemoveFilter", function (e, t) { a.oppFilters = n("filter")(a.oppFilters, { name: "!" + t.name }), r(a.oppFilters, s) }), a.$on("oppFilterUpdated", function (e, t) { a.oppFilters = a.oppFilters.slice(0), r(a.oppFilters, s) }), a.$watch("fields", function (e) { a.fields = e }) } function r(e, t) { var a = e.map(function (e) { return e.value }).join("|"); t.search("MATCHUP", a || null) } stats.directive("querytoolOppFilters", function () { return { restrict: "A", replace: !1, scope: { oppFilters: "=", oppFields: "=" }, template: ['<button class="[ button ] add-filter" ng-disabled="oppFilters.length >= maxFilters" ng-click="addFilter()"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;Add Matchup Filter</button>', '<div ng-repeat="oppFilter in oppFilters">', '<div stats-opp-filter fields="oppFields" filter="oppFilter"></div>', "</div>"].join(""), controller: e } }), e.$inject = ["$scope", "$filter", "$location"] }(), function () { function e(s, r, o) { function t() { var e, t, a = s.splits, n = s.params; for (e in a) { "multi" !== a[e].type ? t = a[e].selected.val : "multi" === a[e].type && (t = a[e].selected.map(function (e) { return e.val }).join(",")), t == a[e].default ? o.search(e, null) : o.search(e, t), n[e] = t } s.$emit("runit"), r.$broadcast("hideAllMultiSelects") } s.runit = t, s.$on("updateFilters", function (e) { t() }) } stats.directive("querytoolRunIt", function () { return { restrict: "E", replace: !1, template: ['<button class="run-it" ng-click="runit();">RUN IT</button>'].join(""), controller: e } }), e.$inject = ["$scope", "$rootScope", "$location"] }(), function () { function e(n, s, e, r, t, a, o, i) { n.asyncSearch = "", n.split.display = n.split.options[0].text, n.$watch("asyncData", function (e) { var t, a; 0 < e.length && (n.split.options = n.split.options.concat(e), t = n.split.selected.val, a = r("filter")(n.split.options, { PERSON_ID: t }, !0), n.split.selected = { text: a[0].DISPLAY_LAST_COMMA_FIRST, val: t }, s.$broadcast("asyncSplitLoaded", { split: n.split.name, val: n.split.selected.val }), n.split.isLoaded = !0, n.allOptions = "All " + n.split.label + "s", n.type && "team" == n.type && angular.forEach(n.split.options, function (e) { var t = r("filter")(i.get(), e.val)[0]; e.abbr = t.abbr })) }); var l = ['<div class="multiselect-box">', "<ul>", '<li class="multiselect-box__search">', '<input type="text" placeholder="{{split.placeholder}}..." ng-model="asyncSearch" ng-model-options="{ debounce: 500 }" />', '<span class="clear-search" ng-if="asyncSearch" ng-click="clearSearch()"><i class="fa fa-times"></i></span>', "</li>", '<li ng-click="selectAll()" ng-show="split.selected.val!==\'\'" class="multiselect-box__all" ng-class="{\'selected\': isSelected(\'\') !== false}">', "{{allOptions}}", "</li>", "</ul>", '<ul ng-show="showResults">', '<li ng-repeat="option in asyncData | filter:asyncSearch | limitTo:resultsLimit | orderBy:\'ROSTERSTATUS\':true track by option.$hash" ng-click="toggleItem(option, $event)" class="multiselect-box__option" ng-class="{\'selected\': isSelected(option) !== false}">', "{{ option.DISPLAY_FIRST_LAST }}", "</li>", "</ul>", "</div>"].join(""), c = angular.element(l), u = e(c), d = angular.element(a[0].parentElement), p = (d[0].offsetLeft, d[0].clientWidth, a[0].offsetTop + a[0].clientHeight); function m() { if (n.asyncSearch && n.asyncSearch.length < 3) return n.showResults = !1, void (n.split.selected = { val: "", text: "" }); 2 < n.asyncSearch.length ? (n.results = r("filter")(n.asyncData, n.asyncSearch), 0 < n.results.length && "" !== n.asyncSearch && (n.showResults = !0)) : n.showResults = !1 } c.css({ top: p, position: "absolute", "z-index": 900 }), d.prepend(c), u(n), n.toggleMultiSelect = function () { s.$broadcast("hideAllMultiSelects", { caller: n.split.name }), p = a[0].offsetTop + a[0].clientHeight; var e = a[0].clientWidth; c.css({ top: p, width: e }), c.toggleClass("ms-open"), a.toggleClass("multiselect--active") }, n.$on("hideAllMultiSelects", function (e, t) { t && t.caller === n.split.name || (c.css({ top: -99999 }), c.removeClass("ms-open"), a.removeClass("multiselect--active")) }), n.$watch("split.selected", function (e) { e.text && 0 < e.text.length ? n.split.display = n.split.selected.text : n.split.display = "All " + n.split.label + "s" }), n.toggleItem = function (e, t) { n.split.selected = { text: e.DISPLAY_LAST_COMMA_FIRST, val: e.PERSON_ID } }, n.isSelected = function (e) { return n.split.selected.val === e.PERSON_ID }, n.clearSearch = function () { n.asyncSearch = "" }, n.selectAll = function (e) { n.split.selected = "" }, n.setFocus = function () { s.$broadcast("hideAllMultiSelects") }, n.doSearch = m, n.showResults = !1, n.$watch("asyncSearch", m) } stats.directive("querytoolSplitSearchAsync", function () { return { restrict: "EA", scope: { split: "=?", asyncData: "=", resultsLimit: "=" }, template: ['<div class="inner" ng-class="{\'inner--active\':(split.selected.val!=split.default.val)}">', '   <div class="labels">{{ ::split.label }}</div>', '   <div class="ms-close" ng-click="toggleMultiSelect();"><i class="fa fa-caret-up" aria-hidden="true"></i></div>', '   <div class="reset" ng-click="selectAll();"><i class="fa fa-times" aria-hidden="true"></i></div>', '   <div class="multiselect-info" ng-click="toggleMultiSelect()">{{split.display}}</div>', "</div>"].join(""), controller: e } }), e.$inject = ["$scope", "$rootScope", "$compile", "$filter", "$attrs", "$element", "$location", "TeamsService"] }(), stats.directive("querytoolTableAddRows", function () { return { restrict: "A", replace: !1, template: ['<div class="addrows" ng-if="visibleRows < totalRows">', ' <button ripple class="addrows__button">Load More Results</button>', ' <div class="addrows__info">Showing 1 - {{ visibleRows }} of {{ totalRows }} Results</div>', ' <p class="addrows__help" ng-if="totalRows>250">', '   <span class="em">Looks like you\'ve put in a query with a large range of results.<br/>Try using additional filters to narrow down your data.</span>', " </p>", "</div>"].join("") } }), function () { function e(e, t) { var a = "nba-stat-table", n = "__overflow", s = e.find("." + a); e.append("<div querytool-table-add-rows></div>"), e.find("[sort]").attr("ripple", ""); var r, o = e.find("." + a + n).clone().removeClass(a + n).addClass(a + "__overlay"), i = +o.data("fixed") || 0; 0 !== i && (r = "th:nth-child(n+" + (i += 1) + "), td:nth-child(n+" + i + ")", o.find(r).remove(), s.append(o)) } function t(l, n, c, s, a, r) { var o, t = { rowsPerPage: 50, deeplink: !0, sortField: "", sortDirection: 1 }, i = angular.extend({}, t), u = (o = {}, n.find(".nba-stat-table__overflow thead tr:last-child th").each(function (e, t) { var a = $(t), n = { $elm: a, field: a.data("field"), text: a.hasClass("grouped") ? a.attr("data-field") : a.text(), hasRank: void 0 !== a.data("rank"), hasDir: void 0 !== a.data("dir"), canSort: void 0 !== a.data("sort"), canFilter: void 0 !== a.data("cf"), isFilterList: void 0 !== a.data("cf-list"), isGroup: a.hasClass("grouped") }; n.dir = n.hasDir ? +a.data("dir") : +i.dir, n.field && (o[n.field] = n) }), o); l.currentPage = 1, l.descending = 1 == +i.sortDirection, l.column = i.sortField, l.broadcast = S, l.$watch("rows", function (e) { if (!e) return; f() }, !0), l.$watch("options", function (e) { if (!e) return; i = angular.extend({}, t, e), f() }, !0), l.$watch("filters", function (e) { f() }, !0), l.$watch("currentPage", h, !0), l.$watch("visibleRows", h, !0), r(function () { n.on("mousedown", ".page-nav.left", e), n.on("mousedown", ".page-nav.right", d), n.on("mousedown", ".addrows__button", p), n.find("[sort]").on("mousedown", m) }); var e = function () { 1 !== l.currentPage && (--l.currentPage, S("$statsTablePageChange", { $elm: n, page: l.currentPage }), l.$apply()) }, d = function () { l.currentPage !== l.totalPages && (l.currentPage += 1, S("$statsTablePageChange", { $elm: n, page: l.currentPage }), l.$apply()) }, p = function (e) { l.visibleRows >= l.totalRows || (e.metaKey ? l.visibleRows = l.totalRows : l.visibleRows = Math.min(l.visibleRows + i.rowsPerPage, l.totalRows), l.currentPage = 1, S("$statsTableAddRows", { $elm: n, visibleRows: l.visibleRows }), l.$apply()) }; function m(e) { var t = $(this), a = t.data("field"), n = void 0 !== t.data("rank"), s = void 0 !== t.data("dir"), r = 0, r = a === l.column ? 0 : s ? +t.data("dir") : +i.dir; g(a, { apply: !0, field: a, hasRank: n, dir: r }) } function f() { var e, t, a; l.rows && (e = l.rows.slice(0), l.set = function (e, t) { if (!t || 0 === t.length) return e; for (var a in t) { var n = t[a]; if (!n || !n.value) return; var s = n.value.split("*"), r = s[0], o = s[1], i = s[2]; r && o && i && (-1 < r.indexOf("PCT") && -1 === r.indexOf("_RANK") && (i /= 100), e = c("equality")(e, o, i, r)) } return e }(e, l.filters) || [], l.totalRows = l.set.length, l.visibleRows = i.rowsPerPage, l.totalPages = Math.ceil(l.totalRows / l.visibleRows), l.currentPage = 1, l.descending = !0, l.column = "", S("$statsTableFilter", { $elm: n, rows: l.set, filters: l.filters }), n.find("[sort]").removeClass("sorted"), (t = s.search().sort || i.sortField) && (a = { apply: !1, field: t, hasRank: !1, dir: +s.search().dir || +u[t].dir }, g(t, a)), h()) } function h(e) { var t, a; l.rows && l.rows.length && (a = (t = (l.currentPage - 1) * l.visibleRows) + l.visibleRows, l.page = l.set.slice(t, a)) } var g = function (e, t) { l.column = e, -1 === t.dir ? l.descending = !1 : 0 === t.dir ? l.descending = !l.descending : l.descending = !0, i.deeplink && (s.search("sort", e), s.search("dir", l.descending ? 1 : -1)); var a = t.hasRank ? e + "_RANK" : e; l.set.forEach(function (e, t) { var a = e + "_RANK"; t.__rank = t[a] ? t[a] : null }.bind("", e)), l.set.sort(function (e, t, a, n) { var s = t ? a[e] : n[e], r = t ? n[e] : a[e]; return null === a[e] || void 0 === a[e] ? 1 : null === n[e] || void 0 === n[e] || r < s ? -1 : s < r ? 1 : 0 }.bind(null, a, l.descending)), l.page = l.set.slice(0), l.currentPage = 1, h(), t.apply && l.$apply(), r(v) }; function v() { var e = n.find("table").eq(0), t = e.find("th[data-field='" + l.column + "']"), a = e.find("thead tr:last-child th").index(t) + 1; n.find(".sorted").removeClass("sorted asc desc").end().find("thead tr:last-child > *:nth-child(" + a + ")").addClass("sorted").addClass(l.descending ? "desc" : "asc").end().find("tbody tr > *:nth-child(" + a + ")").addClass("sorted").end(), S("$statsTableSort", { $elm: n, column: l.column, descending: l.descending }) } function S(e, t) { a.$broadcast(e, t) } r(function () { S("$statsTableLoad", { $elm: n }) }), r(function () { n.on("click", "tbody > tr", function (e) { var t = $(e.currentTarget), a = t.attr("index") || t.attr("data-index"); S("$statsTableRowClick", { $elm: n, $row: t, index: +a, data: l.page[a] }) }) }), r(function () { var e = n.find(".nba-stat-table__overflow [cf]").map(function (e, t) { var a, n = $(t), s = n.attr("data-field"), r = n.hasClass("grouped") ? n.attr("data-field") : n.text(), o = void 0 !== n.attr("cf-list"), i = []; return o && (a = c("groupBy")(l.rows, s), (i = Object.keys(a).sort()).unshift("")), { name: s, text: r, type: o ? "list" : "text", list: i } }); l.$emit("customFields", e) }) } stats.directive("querytoolStatTable", function () { return { restrict: "E", require: "nbaWith", templateUrl: function (e, t) { return ["/stats/templates/angular/tables/", t.template, ".html"].join("") }, scope: { template: "@", title: "@", rows: "<", headers: "<", footer: "<", options: "<", filters: "<", params: "<", ai: "<", limit: "=" }, compile: e, controller: t } }), t.$inject = ["$scope", "$element", "$filter", "$location", "$rootScope", "$timeout"] }(), function () { function e(e, r, t) { r.on("click", function (e) { 0 === r.find(".ink").length && r.append("<span class='ink'></span>"); var t, a = r.find(".ink"); a.removeClass("animate"), a.height() || a.width() || (t = Math.max(r.outerWidth(), r.outerHeight()), a.css({ height: t, width: t })); var n = e.pageX - r.offset().left - a.width() / 2, s = e.pageY - r.offset().top - a.height() / 2; a.css({ top: s + "px", left: n + "px" }).addClass("animate") }) } stats.directive("ripple", function () { return { restrict: "A", link: e } }) }(), function () { function e(e, t, a) { e.$watch("scrollLeft", function (e) { t.scrollLeft(e) }) } stats.directive("scrollLeft", function () { return { restrict: "A", replace: !1, scope: { scrollLeft: "=" }, link: e } }) }(), function () { function e(e, t, a, n, s) { var r = angular.element(window), o = angular.element(document.body), i = a.bodyClass, l = a.targetId, c = "." + a.target, u = angular.element(c), d = u.offset().top; function p() { r.scrollTop() >= d ? o.addClass(i) : o.removeClass(i) } p(), r.on("scroll", function (e) { p() }), r.on("resize", function () { p(), d = u.offset().top }), e.scrollToId = function () { var e = s.hash(); t.yOffset = 65, s.hash(l), t(), s.hash(e) } } stats.directive("scrollToTop", function () { return { restrict: "E", controller: e, template: '<div class="scroll-top" ng-click="scrollToId()"><div class="scroll-top__inner"><i class="fa fa-chevron-up" aria-hidden="true" title="Scroll to top"></i></div></div>' } }), e.$inject = ["$scope", "$anchorScroll", "$attrs", "$element", "$location"] }(), function () { function e(e, a, n) { var s, r, o = angular.element(window), i = angular.element(document.body), l = angular.element(".dropdown__base, .dropdown__category > .dropdown__category-list, .dropdown__subcategory > .dropdown__subcategory-list"), c = n.elementClass, u = n.bodyClass ? n.bodyClass : null, d = a.offset().top, p = window.innerWidth | document.documentElement.clientWidth | document.body.clientWidth, m = "none" !== angular.element("#header-ad").css("display"), f = Number(angular.element("#header-ad").css("height").slice(0, -2)); function t() { var e, t; o.scrollTop() >= d || p < 1024 && o.scrollTop() >= d - f ? (a.addClass(c), e = Number(angular.element("." + n.elementClass).css("height").slice(0, -2)), t = o[0].innerHeight ? o[0].innerHeight : o.height(), r = 0 < f - o.scrollTop() && m ? f - o.scrollTop() : 0, l.css("height", t - e - r), l.css("overflow-y", "auto"), p < 1024 ? (s = 0 < r ? "relative" : "fixed", angular.element(".nav-inner").css("position", s), angular.element(".dropdown__base").css("top", r)) : angular.element(".nav-inner").css("position", "fixed"), u && i.addClass(u)) : (a.removeClass(c), function () { Number(angular.element(".nav-inner").css("height").slice(0, -2)); var e = o[0].innerHeight ? o[0].innerHeight : o.height(), t = o.scrollTop(); l.css("height", e + t - 50 - d), l.css("overflow-y", "auto"), angular.element(".nav-inner").css("position", "relative") }(), u && i.removeClass(u)) } t(), o.on("scroll", function (e) { t() }), o.on("resize", function () { t(), d = a.offset().top, p = window.innerWidth | document.documentElement.clientWidth | document.body.clientWidth, f = Number(angular.element("#header-ad").css("height").slice(0, -2)), m = "none" !== angular.element("#header-ad").css("display") }) } stats.directive("setClassScrollTop", function () { return { restrict: "A", controller: e } }), e.$inject = ["$scope", "$element", "$attrs"] }(), function () { function e(a) { var n = { ABC: "abc.png", ESPN: "espn.svg", "ESPN 2": "espn2.png", "NBA TV": "nbatv.svg", NBATV: "nbatv.svg", TNT: "tnt.svg", LP: "lp.svg" }; a.$watch("bc", function (e) { var t = n[e]; t ? (a.src = "/stats/media/img/broadcast-logos/" + t, a.hasLogo = !0) : a.hasLogo = !1 }) } stats.directive("statsBroadcasterLogo", function () { return { restrict: "E", scope: { bc: "@" }, template: ['<div broadcaster-logo class="broadcaster {{ bc }}">', ' <img ng-if="hasLogo" class="broadcast-logo" title="bc" ng-src="{{ src }}" />', ' <span ng-if="!hasLogo" class="broadcast-text">{{ bc }}</span>', "</div>"].join(""), controller: e } }), e.$inject = ["$scope"] }(), function () { function e(a, e, t, u) { var d = this, p = "yyyy-MM-dd", n = (new Date).getFullYear() + 1; d.yearRange = []; for (var s = n; 1945 < s; s--)d.yearRange.push(s); function r() { var e = u("date")(new Date, p), t = u("date")(d.date, p), a = d.currentDate.getFullYear(), n = d.currentDate.getMonth(), s = new Date(a, n, 1).getDay(), r = new Date(a, n + 1, 0).getDate(), o = []; d.weeks = []; for (var i = r + (7 - (s + r) % 7) % 7, l = -1 * s; l < i; l += 1) { var c = {}; c.offset = l + 1, c.date = new Date(a, n, c.offset), c.dateString = c.date.toISOString(), c.dcode = u("date")(c.date, p), c.dom = c.date.getDate(), c.isOtherMonth = c.offset <= 0 || c.offset > r, c.isSelected = c.dcode == t, c.isToday = c.dcode == e, o.push(c) } for (; o.length;)d.weeks.push(o.splice(0, 7)) } d.setMonth = function (e) { d.currentDate.setMonth(d.currentDate.getMonth() + e), r() }, d.setDate = function (e, t, a) { d.date = new Date(e, t, a), d.currentDate = d.date }, d.setYear = function (e) { d.currentDate.setYear(e), d.showYearView = !1, r() }, d.setToday = function () { d.date = new Date, d.currentDate = d.date, d.isOpen = !1, a.$apply() }, d.showYearView = !1, t.on("click", "td", function (e) { var t = $(this).data("date") || ""; d.date = new Date(t), d.isOpen = !1, a.$apply() }), a.$watch("cal.date", function (e) { d.currentDate = e ? new Date(e) : new Date, d.year = d.currentDate.getFullYear(), d.month = d.currentDate.getMonth(), r() }, !0) } stats.directive("statsCalendar", function () { return { restrict: "E", templateUrl: "/stats/templates/angular/directives/stats-calendar.html", scope: { date: "=?", isOpen: "=", options: "=" }, controllerAs: "cal", controller: e, bindToController: !0 } }), e.$inject = ["$scope", "$document", "$element", "$filter"] }(), function () { function e(s, r, o) { function e() { var e = parseFloat(s.player, 10), t = parseFloat(s.vs, 10), a = e + t, n = Math.min(e / a * 80, 80); r.css({ width: "0%" }), o(function () { r.css({ width: n + "%" }), t <= e && !s.invert || e <= t && s.invert ? r.addClass("leader") : r.removeClass("leader") }, 100) } s.$watch("player", e), s.$watch("vs", e), s.$watch("invert", e) } stats.directive("statsCompareBar", function () { return { restrict: "AE", scope: { player: "@", vs: "@", invert: "=" }, controller: e } }), e.$inject = ["$scope", "$element", "$timeout"] }(), function () { function e(n, e, s) { function t() { var e; n.fields && n.filter && (e = n.filter.value.split("*"), n.field = s("filter")(n.fields, { name: e[0] }, !0)[0], n.field || (n.field = n.fields[0]), n.comparator = s("filter")(n.comparators, { k: e[1] })[0], n.value = e[2]) } function a() { var e, t, a; n.field && n.comparator && (t = n.field.name, a = n.value, e = "PLAYER_HEIGHT_INCHES" !== t || 60 < a ? a : s("toInches")(a), n.filter.value = [n.field.name, n.comparator.k, e].join("*"), n.filter.text = [n.field.text, n.comparator.v, e].join(" "), n.$emit("filterUpdated", n.filter)) } e.addClass("stats-custom-filter"), n.comparators = [{ k: "E", v: "=" }, { k: "NE", v: "" }, { k: "G", v: ">" }, { k: "GE", v: "" }, { k: "L", v: "<" }, { k: "LE", v: "" }, { k: "R", v: ".*" }], n.toggled = !1, n.remove = function () { n.$emit("removeFilter", n.filter) }, n.$watch("filter", t), n.$watch("fields", t), n.$watch("field", a), n.$watch("comparator", a), n.$watch("value", a) } stats.directive("statsCustomFilter", function () { return { restrict: "A", replace: !0, scope: { filter: "=", fields: "=" }, template: ["<table>", " <tr>", '   <td class="field"><div class="label">Field</div><select ng-model="field" ng-options="v.text for v in fields"></select></td>', '   <td class="comparator"><div class="label">Is</div><select ng-model="comparator" ng-options="v.v for v in comparators"></select></td>', '   <td ng-show="field.type===\'text\'" class="val"><div class="label">Value</div><input type="text" ng-model="value" ng-model-options="{debounce: {default:500, blur:0}  }"></td>', '   <td ng-show="field.type===\'list\'" class="list"><div class="label">Value</div><select ng-model="value" ng-options="v for v in field.list"></select></td>', '   <td class="close"><button ng-click="remove()"><i class="fa fa-times"></i></button></td>', " </tr>", "</table>"].join(""), controller: e } }), e.$inject = ["$scope", "$element", "$filter"] }(), function () { function e(a, e, n, s, r) { var t; e.addClass("stats-custom-filters"), a.filters || (a.filters = (t = s.search().CF) ? t.split(":").map(function (e, t) { return { name: "CF" + t, value: e } }) : []), a.maxFilters = 5; var o = a.filters.length; a.addFilter = function () { a.filters.length >= a.maxFilters || (o += 1, a.filters.push({ name: "CF" + o, value: "**" }), a.filters = a.filters.slice(0)) }, a.$on("removeFilter", function (e, t) { a.filters = n("filter")(a.filters, { name: "!" + t.name }), i(a.filters, s) }), a.$on("filterUpdated", function (e, t) { a.filters = a.filters.slice(0), i(a.filters, s), r.triggerEvent("setCustomFilter", r.setCustomFilterProps(a.filters)) }), a.$watch("fields", function (e) { a.fields = e }) } function i(e, t) { var a = e.map(function (e) { return e.value }).join(":"); t.search("CF", a || null) } stats.directive("statsCustomFilters", function () { return { restrict: "A", replace: !1, scope: { filters: "=", fields: "=" }, template: ['<div ng-repeat="filter in filters">', '   <div stats-custom-filter fields="fields" filter="filter"></div>', "</div>", "<div>", '   <a class="add-filter" ng-click="addFilter()" ng-show="filters.length < maxFilters"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;Add Custom Filter</a>', "</div>"].join(""), controller: e } }), e.$inject = ["$scope", "$element", "$filter", "$location", "DtmService"] }(), function () { function e(r, e, t, a, o) { e.addClass("stats-video-player"); var i, n = !1, s = !1, l = t(function () { if ("undefined" == typeof CVP) return; t.cancel(l), (i = new CVP({ id: "cvp_" + Date.now(), width: "576", height: "324", wmode: "transparent", flashVars: { wmode: "transparent", contentId: "", site: "nba", profile: "1", context: "nba", autostart: "on", aspenContext: "stats", containerUrl: "container.xml", configUrl: "config.xml" }, embed: { containerSwf: "https://s.cdn.turner.com/xslo/cvp/assets/container/nba/stats/2.0.0.1/nba_stats_container.swf", expressInstallSwf: "https://i.cdn.turner.com/xslo/cvp/assets/flash/expressInstall.swf", options: { wmode: "transparent", quality: "high", bgcolor: "#000000", allowFullScreen: "true", allowScriptAccess: "always" } }, onPlayerReady: h, onContentPlay: p, onContentEnd: m, onContentComplete: f, onCVPReady: g })).embedSWF("player") }, 100), c = 0, u = document.createElement("script"); function d(e) { var t = e.videoid, a = e.url, n = e.m + "/" + e.d + "/" + e.y, s = e.vtm.abbr + " vs " + e.htm.abbr + " " + n + " - " + (r.currentIndex + 1) + " of " + r.playlist.length; r.item = e, t += "&url=" + a, t += "&he=" + s, i && i.play(t), r.$apply(), o.$broadcast("onFocusGameEvent", e) } function p() { var e = _nba.analytics.parseJson(this.getContentEntry(this.getContentId())); e.videoPlayerName = "LSTCVP", e.isExpired = "no", e.category = "nba/statsvideo", _nba.analytics.videoStart(e) } function m() { var e = _nba.analytics.parseJson(this.getContentEntry(this.getContentId())); e.videoPlayerName = "LSTCVP", e.isExpired = "no", e.category = "nba/statsvideo", _nba.analytics.videoEnd(e) } function f() { c += 1; var e = r.playlist[c]; e && d(e) } function h(e) { s && n && d(r.playlist[c]) } function g(e) { n = !0; var t = window.parent.location.href.match(/([^/]*)\/*$/)[1]; -1 < window.parent.location.href.indexOf("team") && "stats" === t && i && i.setAdSection("nba.com_site_stats_scores"), h() } u.src = "https://s.cdn.turner.com/xslo/cvp/js/cvp/2.8.3.4/cvp.min.js", e.get(0).appendChild(u), r.$watch("playlist", function () { if (!r.playlist) return; s = !0, c = 0, h() }), r.$on("$statsTableRowClick", function (e, t) { r.currentIndex = t.index, d(t.data) }) } stats.directive("statsCvp2Player", function () { return { restrict: "E", replace: !1, scope: { playlist: "=" }, templateUrl: "/stats/templates/angular/directives/stats-cvp2-player.html", controller: e } }), e.$inject = ["$scope", "$element", "$interval", "$location", "$rootScope"] }(), function () { function e(n, e, t, a, s) { e.addClass("stats-video-player"); var r = !1, o = !1, i = t(function () { if ("undefined" == typeof CVP) return; t.cancel(i) }, 100), l = 0; n.$watch("playlist", function () { if (!n.playlist) return; o = !0, l = 0, p() }), n.$on("$statsTableRowClick", u), n.$on("$shotchartShotClick", u); var c = document.createElement("script"); function u(e, t) { n.currentIndex = t.index, d(t.data) } function d(e) { var t = "video/wsc/league/" + e.uuid, a = (e.url, e.m + "/" + e.d + "/" + e.y); e.vtm.abbr, e.htm.abbr, n.currentIndex, n.playlist.length; n.item = e, n.$apply(), _nba.cvp && _nba.cvp.play({ instanceName: "embed_statsPlayer", contentId: t }), s.$broadcast("onFocusGameEvent", e) } function p() { o && r && d(n.playlist[l]) } c.src = "https://s.cdn.turner.com/nba/tmpl_asset/static/nba-cms3-base/latest/js/pkgCvpExternalScout-min.js", c.setAttribute("data-analytics-league", "nba"), c.setAttribute("data-analytics-section", "stats"), c.setAttribute("data-cvp-adfree", "true"), c.setAttribute("data-cvp-adsection", "nba.com_video_homepage"), c.setAttribute("data-cvp-autostart", "true"), c.setAttribute("data-cvp-autoplay", "true"), c.setAttribute("data-cvp-context", "nba_league_wsc"), c.setAttribute("data-cvp-contentid", "/video/wsc/league/"), c.setAttribute("data-cvp-domid", "statsPlayer"), c.setAttribute("data-cvp-videoplayername", "LUCVP"), c.setAttribute("data-cvp-headline", "false"), c.setAttribute("data-cvp-videoplayertype", "main"), c.setAttribute("data-cvp-description", "true"), e.find(".nbaCvpWrapper").get(0).appendChild(c), _nba.PubSub.subscribe("cvp.cvp.ready", function () { _nba.cvp.createInstance({ domId: "statsPlayer", autoplay: !0, autostart: !0, adFree: !0, instanceName: "embed_statsPlayer", context: "nba_league", analytics: { videoPlayerName: "LUCVP", videoPlayerType: "main" } }) }), _nba.PubSub.subscribe("cvp.player.ready", function (e) { r = !0; window.parent.location.href.match(/([^/]*)\/*$/)[1]; window.parent.location.href.indexOf("team"), 0; p() }), _nba.PubSub.subscribe("cvp.content.end", function () { l += 1; var e = n.playlist[l]; e && d(e); var t = _nba.analytics.parseJson(this.getContentEntry(this.getContentId())); t.videoPlayerName = "LSTCVP", t.isExpired = "no", t.category = "nba/statsvideo", _nba.analytics.videoEnd(t) }), _nba.PubSub.subscribe("cvp.content.play", function () { var e = _nba.analytics.parseJson(this.getContentEntry(this.getContentId())); e.videoPlayerName = "LSTCVP", e.isExpired = "no", e.category = "nba/statsvideo", _nba.analytics.videoStart(e) }), _nba.PubSub.subscribe("cvp.content.complete", function () { l += 1; var e = n.playlist[l]; e && d(e) }) } stats.directive("statsCvp3Player", function () { return { restrict: "E", replace: !1, scope: { playlist: "=" }, templateUrl: "/stats/templates/angular/directives/stats-cvp3-player.html", controller: e } }), e.$inject = ["$scope", "$element", "$interval", "$location", "$rootScope"] }(), function () { function e(a, e, t, n) { function s(e) { var t; a.selected = null, e && void 0 !== e[0] && (t = e.map(function (e) { return e.options }), a.options = [].concat.apply([], t), e.slice(0).reverse().forEach(function (e) { e.selected.val !== e.default && (a.selected = e.selected) }), a.default = n.findDefault(e[0]), a.selected || (a.selected = a.default)) } function r(t) { a.splitGroup.forEach(function (e) { t.key !== e.name ? e.selected = n.findDefault(e) : (e.selected = t, a.selected = t) }), "true" === a.autorun && a.$emit("updateFilters") } e.addClass("stats-filter-select"), a.setSplit = r, a.resetSplit = function () { r(a.default) }, a.$watch("splitGroup", s, !0), s(a.splitGroup) } stats.directive("statsFilterCombo", function () { return { restrict: "A", scope: { splitGroup: "=", label: "@", autorun: "@" }, template: ['<div class="inner" ng-class="{toggled: (split.selected.val!=split.default)}">', " <label>", '   <div class="label">{{ ::label }}</div>', '   <div class="reset" ng-click="resetSplit();"><i class="fa fa-times" aria-hidden="true"></i></div>', '   <select ng-model="selected" ng-change="setSplit(selected)" ng-options="v.text group by v.label for v in options"></select>', " </label>", "</div>"].join(""), controller: e } }), e.$inject = ["$scope", "$element", "$location", "SplitsService"] }(), function () { function e(a, e, n, t, s) { n.addClass("stats-filter-date"), a.showCal = !1, a.$watch("dt", function (e) { e && (a.split.selected.val = t("date")(a.dt, "MM/dd/yyyy") || "", a.split.selected.text = a.split.label + " : " + a.split.selected.val) }), a.$watch("split", function (e) { e && (e.selected.label = e.label, e.selected.key = e.name, a.dt = e.selected.val, "true" === a.autorun && a.$emit("updateFilters")) }), a.$watch("split.selected.val", function (e) { "true" === a.autorun && a.$emit("updateDateFilters") }), e.on("click", function (e) { var t; a.showCal && (t = e.target, $.contains(n.get(0), t) || (a.showCal = !1, a.$apply())) }) } stats.directive("statsFilterDate", function () { return { restrict: "AE", scope: { split: "=?", autorun: "@" }, template: ['<div class="inner">', '  <div class="label">{{ ::split.label }}</div>', '  <input type="text" placeholder="{{ ::split.placeholder }}" name="{{ ::split.name }}" class="form-control" ng-click="showCal=!showCal;" ng-model="split.selected.val" />', '  <div class="stats-calendar-dropdown" ng-show="showCal==true">', '    <div class="date-picker-splash">', '      <stats-calendar data-date="dt" data-is-open="showCal"></stats-calendar>', "    </div>", "  </div>", "</div>"].join(""), controller: e } }), e.$inject = ["$scope", "$document", "$element", "$filter", "SplitsService"] }(), function () { function e(t, e, a) { function n(e) { "true" === t.autorun && t.$emit("updateFilters") } t.setSplit = n, t.resetSplit = function () { t.split.selected = a.findDefault(t.split), n() } } stats.directive("statsFilterNumber", function () { return { restrict: "A", scope: { split: "=?", autorun: "@", min: "@" }, template: ['<div class="inner">', '   <div class="label">{{ ::split.label }}</div>', '   <div class="reset" ng-if="split.selected.val!==split.default" ng-click="resetSplit();"><i class="fa fa-times" aria-hidden="true"></i></div>', '   <input type="number" class="form-control" min="{{ ::min }}" placeholder="{{ ::split.placeholder }}" name="{{ ::split.name }}" ng-model="split.selected.val" ng-change="setSplit(split.selected)" />', "</div>"].join(""), controller: e } }), e.$inject = ["$scope", "$location", "SplitsService"] }(), function () { function e(i, e, a) { i.activeFilters = [], i.activeParams = [], i.resetParam = function (e) { var t = i.splits[e.key]; if (!t) return; t.selected = a.findDefault(t), i.$emit("updateFilters") }, i.resetFilter = function (e) { i.$broadcast("removeFilter", e) }, i.$watch("params", function (e) { if (!e || !i.splits) return; i.activeParams = Object.keys(e).reduce(function (e, t, a) { var n, s = e[a], r = i.splits[a]; if (!r) return t; if (r.default === s) return t; if (!0 === r.skipLabel) return t; { var o; "select" === r.type || "search" === r.type ? ((n = r.options.find(function (e) { return e.val == s })).key = a, n.order = r.order, t.push(n)) : "datepicker" === r.type || "number" === r.type || "text" === r.type ? (n = { key: a, val: r.selected.val, text: r.label + " : " + r.selected.val, order: r.order }, t.push(n)) : "pseudo" === r.type && r.selected && (o = void 0 === r.label ? "" : r.label, o += "" !== o ? ": " : "", n = { key: a, val: r.selected.text, text: o + r.selected.text }, t.push(n)) } return t }.bind("", e), []) }, !0), i.$watch("filters", function (e) { i.activeFilters = e }, !0) } stats.directive("statsFilterPills", function () { return { restrict: "E", replace: !1, template: ['<a class="stats-filter-pill stats-filter-pill--param" ng-repeat="p in activeParams | orderBy:\'order\'" ng-click="resetParam(p)">', ' <span class="stats-filter-pill__text">{{ ::p.text }}</span>', ' <i class="fa fa-angle-right" aria-hidden="true"></i>', ' <i class="fa fa-angle-left" aria-hidden="true"></i>', "</a>", '<a class="stats-filter-pill stats-filter-pill--filter" ng-repeat="f in activeFilters" ng-click="resetFilter(f)">', ' <span class="stats-filter-pill__text">{{ f.text }}</span>', ' <i class="fa fa-angle-right" aria-hidden="true"></i>', ' <i class="fa fa-angle-left" aria-hidden="true"></i>', "</a>"].join(""), controller: e } }), e.$inject = ["$scope", "$location", "SplitsService"] }(), function () { function e(a, n, e, t) { a.onMouseDown = function (e, t) { s = a.handles[t], o = e.screenX, n.on("mousemove", i), n.on("mouseup", l) }; var s, r = e.find(".track"), o = 0; function i(e) { var t; s && (t = (e.screenX - o) / r.width() * 100, s.style.left = s.pct + t + "%", a.$apply()) } function l(e) { s = null, n.off("mousemove", i), n.off("mouseup", l) } a.handles = { left: { side: "left", pct: 0, style: { left: "0%" }, val: 0, display: "" }, right: { side: "right", pct: 100, style: { left: "100%" }, val: 0, display: "" } } } stats.directive("statsFilterRangeOld", function () { return { restrict: "A", scope: { min: "=", max: "=", marks: "=", formatter: "=", autorun: "@" }, template: ['<div class="range">', '  <div class="inner">', '    <div ng-repeat="m in marks track by $index" class="mark" ng-style="{ \'left\': (m.pct*100)+\'%\' }"></div>', '    <div class="mark" style="left:100%;"></div>', '    <div class="track"></div>', '    <div class="bar"></div>', '    <div ng-mousedown="onMouseDown($event, \'left\');" ng-style="handles.left.style" class="handle handle--left"></div>', '    <div ng-mousedown="onMouseDown($event, \'right\');" ng-style="handles.right.style" class="handle handle--right"></div>', "  </div>", "</div>"].join(""), controller: e } }), e.$inject = ["$scope", "$document", "$element", "SplitsService"] }(), function () { function e(s, e, r, o) { s.reset = function () { var e, t = s.splits; for (e in t) { var a = t[e], n = o.findDefault(a); a.selected = n } r.googs("reset-filters", "use", document.location.pathname), s.$emit("updateFilters") } } stats.directive("statsFilterReset", function () { return { restrict: "E", replace: !1, template: ['<a ng-click="reset();"><i class="fa fa-refresh" aria-hidden="true"></i> Reset Filters</a>'].join(""), controller: e } }), e.$inject = ["$scope", "$location", "AnalyticsService", "SplitsService"] }(), function () { function e(t, e, a, n, s) { function r(e) { t.split.selected = e, t.search = e.text, t.showResults = !1, "true" === t.autorun && t.$emit("updateFilters") } t.setSplit = r, t.resetSplit = function () { r(s.findDefault(t.split)) }, t.doSearch = function () { t.results = e("filter")(t.split.options, t.search) }, t.onBlur = function () { t.showResults = !1, n(function () { t.search = t.split.selected.text }, 1e3) }, t.onFocus = function () { t.showResults = !0 }, t.search = t.split.selected.text } stats.directive("statsFilterSearch", function () { return { restrict: "A", scope: { split: "=?", autorun: "@" }, template: ['<div class="inner">', '   <div class="label">{{ ::split.label }}</div>', '   <div class="reset" ng-if="split.selected.val!==split.default" ng-click="resetSplit();"><i class="fa fa-times" aria-hidden="true"></i></div>', '   <input type="text" class="form-control" placeholder="{{ ::split.placeholder }}" name="{{ ::split.name }}" ng-model="search" ng-change="doSearch()" ng-focus="onFocus()" />', '   <div class="search-results" ng-show="showResults">', "     <ul>", '       <li ng-repeat="r in results">', '         <a ng-click="setSplit(r)">{{ ::r.text }}</a>', "       </li>", "     </ul>", "   </div>", "</div>"].join(""), controller: e } }), e.$inject = ["$scope", "$filter", "$location", "$timeout", "SplitsService"] }(), function () { function e(t, e, a, n) { function s(e) { "true" === t.autorun && t.$emit("updateFilters") } e.addClass("stats-filter-select"), t.setSplit = s, t.resetSplit = function () { t.split.selected = n.findDefault(t.split), s() } } stats.directive("statsFilterSelect", function () { return { restrict: "A", scope: { split: "=?", autorun: "@" }, template: ['<div class="inner" ng-class="{toggled: (split.selected.val!=split.default)}">', "   <label>", '     <div class="label">{{ ::split.label }}</div>', '     <div class="reset" ng-click="resetSplit();"><i class="fa fa-times" aria-hidden="true"></i></div>', '     <select name="{{ ::split.name }}" ng-model="split.selected" ng-change="setSplit(split.selected)" ng-options="v.text for v in split.options"></select>', "   </label>", "</div>"].join(""), controller: e } }), e.$inject = ["$scope", "$element", "$location", "SplitsService"] }(), function () { function e(e, t, a, n) { t.addClass("stats-filter-toggle"), e.setSplit = function () { "true" === e.autorun && e.$emit("updateFilters") } } stats.directive("statsFilterToggle", function () { return { restrict: "A", scope: { split: "=?", autorun: "@" }, template: ['<div class="inner" ng-class="{toggled: (split.selected.val!=split.default)}">', '   <div class="label">{{ ::split.label }}</div>', '   <div class="reset" ng-click="resetSplit();"><i class="fa fa-times" aria-hidden="true"></i></div>', '   <label class="outer-label" for="split_{{ ::split.name }}">', '     <div class="switch tiny">', '       <input class="switch-input" type="checkbox" ng-change="setSplit()" ng-attr-id="split_{{ ::split.name }}" ng-model="split.selected.val" ng-true-value="\'{{ split.val.true }}\'" ng-false-value="\'{{ split.val.false }}\'">', '       <label class="switch-paddle" for="split_{{ ::split.name }}">', '         <span class="show-for-sr">{{ ::split.label }}</span>', "       </label>", "     </div>", "   </label>", "</div>"].join(""), controller: e } }), e.$inject = ["$scope", "$element", "$location", "SplitsService"] }(), function () { function e(e, t) { var a = angular.element(window), n = angular.element(".dropdown__base, .dropdown__category > .dropdown__category-list, .dropdown__subcategory > .dropdown__subcategory-list"); n.css("overflow-y", "auto"); var s = t[0].getBoundingClientRect().bottom; function r() { var e; e = a[0].innerHeight ? a[0].innerHeight : a.height(), n.css("height", e - s) } r(), a.on("resize", function () { r() }) } stats.directive("statsFixedNav", function () { return { restrict: "A", controller: e } }), e.$inject = ["$scope", "$element"] }(), function () { function e(e, t, a) { t.addClass("stats-glossary-toggle"), e.$watch("toggle", function () { e.toggle && a.googs("stat-glossary", "open", document.location.pathname) }) } stats.directive("statsGlossaryToggle", function () { return { restrict: "E", replace: !1, template: [' <a class="stats-glossary-toggle__link" ng-class="{\'stats-glossary-toggle__link--opened\':toggle}"  ng-click="toggle=!toggle;">', '   <i class="fa fa-book" aria-hidden="true"></i> Glossary', " </a>"].join(""), scope: { toggle: "=" }, controller: e } }), e.$inject = ["$scope", "$element", "AnalyticsService"] }(), function () { function e(e, a, n) { function s() { var e = n.location != n.parent.location ? document.referrer : document.location, t = { command: "resize", path: n.location.pathname, height: a.outerHeight(), "width:": a.outerWidth() }; parent.postMessage(angular.toJson(t), e) } e.$watch(function () { return a.outerHeight() }, function (e, t) { s() }), n.addEventListener("resize", function () { s() }) } stats.directive("statsIframeDirective", function () { return { restrict: "A", scope: {}, controller: e } }), e.$inject = ["$scope", "$element", "$window"] }(), stats.directive("statsLoader", function () { return { restrict: "A", template: ['<div ng-if="statsLoader" class="loader">', '<img src="/stats/media/img/pacifier.svg" />', "</div>"].join(""), scope: { statsLoader: "=" } } }), stats.directive("statsNoDataMsg", function () { return { restrict: "A", replace: !1, template: ['<div ng-if="text && statsNoDataMsg">{{ text }}</div>', '<div ng-if="!text && statsNoDataMsg">No statistics are currently available for the selected filters.</div>'].join(""), scope: { statsNoDataMsg: "=", text: "@" } } }), function () { function e(p, m, f, h, e, t, a) { var g = f.data("field"); !function (e) { if (!e || null === e[g] || 0 === e[g]) return; if (p.ai && p.ai.disablePopup) return; var t = angular.extend({ CFID: p.row.CFID || "", CFPARAMS: p.row.CFPARAMS || "", PlayerID: p.row.PLAYER_ID || "0", TeamID: p.row.TEAM_ID || "0", GameID: p.row.GAME_ID || p.row.Game_ID || "", ContextMeasure: g, Season: "", SeasonType: "" }, p.params); p.row.TEAM_ID && (t.TeamID = p.row.TEAM_ID); { var a; t.GameID && (a = h("gameIdToObject")(t.GameID), t.Season = a.Season, t.SeasonType = a.SeasonType) } var n = document.location.pathname.split("/")[2]; switch (t.section = n) { case "game": case "leaders": break; case "teams": case "players": t.CFID = "", t.CFPARAMS = ""; break; case "lineups": t.CFID = "", t.CFPARAMS = "", t.islineup = 1, t.GroupID = t.GROUP_ID = p.row.GROUP_ID; break; case "team": case "player": break; case "vs": "0" === t.PlayerID ? t.CFID = "" : (t.CFID = "", t.TeamID = "0"); break; case "impact": t.OnOff = p.row.GROUP_SET || "", "TeamVsPlayers" === p.ai ? t.GroupMode = "TEAM" : "PlayersVsPlayers" === p.ai ? t.GroupMode = "PLAYERS" : t.GroupMode = null }var s = parseInt(t.Season.substring(0, 4), 10), r = !!t.Split && "yoy" == t.Split.toLowerCase(), o = "Pre Season" == t.SeasonType, i = !o || o && 2013 < s, l = 2013 < s, c = !o || o && 2016 < s, u = [{ type: "video", state: (void 0 === p.row.VIDEO_AVAILABLE_FLAG || 1 === p.row.VIDEO_AVAILABLE_FLAG) && l && i, value: 1 }, { type: "shotchart", state: void 0 !== m.shotchart && 2e3 < s && c, value: 2 }, { type: "tracking", state: !1, value: 4 }, { type: "movement", state: !1, value: 8 }].reduce(function (e, t) { return e + (t.state ? t.value : 0) }, 0); r && t.CFPARAMS && (t.Season = t.CFPARAMS); var d = h("param")(t); t.GameID && p.row.EVENTNUM && (d = "GameID=" + t.GameID + "&GameEventID=" + p.row.EVENTNUM + "&Season=" + t.Season + "&title=" + p.title); 0 < u && f.parent().wrapInner('<a target="_blank" rel="noopener nofollow" href="/stats/events/?flag=' + u + "&" + d + '"></a>') }(p.row) } stats.directive("statsPopup", function () { return { restrict: "AE", scope: { eventid: "@", params: "<", row: "<", ai: "<", title: "@" }, controller: e } }), e.$inject = ["$scope", "$attrs", "$element", "$filter", "$location", "$timeout", "ReferrerService"] }(), function () { function e(s, e, a, t, r, n, o) { function i(t) { var e, a = s.splits[t.key]; a && ("select" === a.type || "search" === a.type ? (e = a.options.find(function (e) { return e.val == t.val })) && (a.selected = e) : "datepicker" !== a.type && "number" !== a.type && "text" !== a.type || (a.selected.text = t.text, a.selected.val = t.val, delete a.selected.$$hashKey)) } a.addClass("stats-recent-filters"), s.showRecent = !1, s.recentFilters = n.get(), s.runRecent = function (e) { var t, a = s.splits; for (t in a) { var n = a[t]; n.selected = o.findDefault(n) } e.forEach(i), s.$emit("updateFilters"), r.googs("recent-filters", "use"), s.showRecent = !1 }, s.$on("runit", function (e) { s.recentFilters = n.get() }), e.on("click", function (e) { var t; s.showRecent && (t = e.target, $.contains(a.get(0), t) ? r.googs("recent-filters", "open", document.location.pathname) : (s.showRecent = !1, s.$apply())) }) } stats.directive("statsRecentFilters", function () { return { restrict: "E", replace: !1, template: [' <a class="stats-recent-filters__toggle" ng-click="showRecent=!showRecent;">', '   <i class="fa fa-clock-o" aria-hidden="true"></i> Recent Filters', " </a>", ' <div class="stats-recent-filters__list" ng-if="showRecent">', '    <div class="stats-recent-filters__link" ng-repeat="fs in recentFilters">', '     <a ng-click="runRecent(fs);">', '      <span ng-repeat="f in fs">{{ ::f.text }} <span ng-if="!$last"> - </span></span>', "    </a>", "   </div>", " </div>"].join(""), controller: e } }), e.$inject = ["$scope", "$document", "$element", "$location", "AnalyticsService", "RecentFiltersService", "SplitsService"] }(), function () { function e(t, e, a, n, s, r) { function o() { var e = r.runSplits(t.splits, t.params); s.add(e), a.googs("run-it", "use", document.location.pathname), n.triggerEvent("setFilter", n.setFilterProps(t.splits)), t.$emit("runit") } t.runit = o, t.$on("updateFilters", function (e) { o() }) } stats.directive("statsRunIt", function () { return { restrict: "E", replace: !1, template: ['<button class="run-it" ripple ng-click="runit();">Run It</button>'].join(""), controller: e } }), e.$inject = ["$scope", "$location", "AnalyticsService", "DtmService", "RecentFiltersService", "SplitsService"] }(), function () { function e(e, t, a, n, s, r, o) { t.addClass("stats-share-button"); var i = this || {}, l = {}; function c() { i.showSharePanel && u() } function u() { var t = decodeURIComponent(a.absUrl()); if (l[t]) return l[t]; o.getLinks(t).then(function (e) { l[t] = e, i.url = e.link }) } e.$watch("vm.showSharePanel", function () { i.showSharePanel && (u(), i.title = t.attr("title"), s.googs("stat-share", "open", document.location.pathname), r.triggerEvent("share", document.location.href)) }), e.$on("$locationChangeSuccess", function (e, t, a) { n.cancel(void 0), n(c, 1e3) }) } stats.directive("statsShareButton", function () { return { restrict: "E", replace: !1, template: [' <a class="stats-share-button__link" ng-class="{\'stats-share-button__link--opened\':vm.showSharePanel}" ng-click="vm.showSharePanel = !vm.showSharePanel;">', '   <i class="fa fa-share-alt" aria-hidden="true"></i> Share', " </a>", ' <div class="stats-share-button__panel" ng-show="vm.showSharePanel">', '   <div class="stats-share-button__inner">', '     <span class="stats-share-button__label">Share on:</span>', '     <a class="stats-share-button__icon" target="_blank" rel="noopener nofollow" ng-href="http://www.facebook.com/sharer/sharer.php?u={{vm.url}}&title={{vm.title}}"><i class="fa fa-facebook"></i></a>', '     <a class="stats-share-button__icon" target="_blank" rel="noopener nofollow" ng-href="https://twitter.com/intent/tweet?url={{vm.url}}&via=nbastats&text={{vm.title}}"><i class="fa fa-twitter"></i></a>', '     <input class="stats-share-button__text-input" type="text" ng-value="vm.url" />', "   </div>", " </div>"].join(""), controller: e, controllerAs: "vm" } }), e.$inject = ["$scope", "$element", "$location", "$timeout", "AnalyticsService", "DtmService", "SocialService"] }(), function () { function e(n, t, e, a, s, r, o, i) { n.multiSearch = ""; var l = i.get(); n.allOptions = "All " + n.split.label.replace("VS", "") + "s", n.type && "team" == n.type && angular.forEach(n.split.options, function (e) { var t = a("filter")(l, e.val)[0]; e.abbr = t.abbr }); var c = ['<div class="multiselect-box">', "<ul>", '<li class="multiselect-box__search" ng-hide="!hasSearch">', '<input type="text" placeholder="Search..." ng-model="multiSearch" />', '<span class="clear-search" ng-if="multiSearch" ng-click="clearSearch()"><i class="fa fa-times"></i></span>', "</li>", '<li ng-click="selectAll()" class="multiselect-box__all" ng-class="{\'selected\': !split.selected.length}">', "{{allOptions}}", "</li>", '<li ng-repeat="option in split.options | filter:multiSearch" ng-click="toggleItem(option, $event)" class="multiselect-box__option" ng-class="{\'selected\': isSelected(option) !== false}">', "{{ option.text }}", "</li>", "</ul>", "</div>"].join(""), u = ['<div class="multiselect-box">', "<ul>", '<li class="multiselect-box__search" ng-hide="!hasSearch">', '<input type="text" placeholder="Search..." ng-model="multiSearch" />', '<span class="clear-search" ng-if="multiSearch" ng-click="clearSearch()"><i class="fa fa-times"></i></span>', "</li>", '<li ng-click="selectAll()" class="multiselect-box__all" ng-class="{\'selected\': !split.selected.length}">', "{{allOptions}}", "</li>", '<li ng-repeat="option in split.options | filter:multiSearch" ng-click="toggleItem(option, $event)" class="multiselect-box__option" ng-class="{\'selected\': isSelected(option) !== false}">', "{{ option.text }}", "</li>", "</ul>", "</div>"].join(""), d = { default: c, range: u, years: u, team: ['<div class="multiselect-box">', "<ul>", '<li class="multiselect-box__search" ng-hide="!hasSearch">', '<input type="text" placeholder="Search..." ng-model="multiSearch" />', '<span class="clear-search" ng-if="multiSearch" ng-click="clearSearch()"><i class="fa fa-times"></i></span>', "</li>", '<li ng-click="selectAll()" class="multiselect-box__all" ng-class="{\'selected\': !split.selected.length}">', "{{allOptions}}", "</li>", '<li ng-repeat="option in split.options | filter:multiSearch" ng-click="toggleItem(option, $event)" class="multiselect-box__option" ng-class="{\'selected\': isSelected(option) !== false}">', "{{ option.text }}", "</li>", "</ul>", "</div>"].join("") }, p = n.type ? d[n.type] : d.default, m = angular.element(p), f = e(m), h = angular.element(r[0].parentElement), g = (h[0].offsetLeft, h[0].clientWidth, r[0].offsetTop + r[0].clientHeight); m.css({ top: g, position: "absolute", "z-index": 999 }), h.prepend(m), f(n), n.toggleMultiSelect = function () { t.$broadcast("hideAllMultiSelects", { caller: n.split.name }), g = r[0].offsetTop + r[0].clientHeight; var e = r[0].clientWidth; m.css({ top: g, width: e }), m.toggleClass("ms-open"), r.toggleClass("multiselect--active") }, n.$on("hideAllMultiSelects", function (e, t) { t && t.caller === n.split.name || (m.css({ top: -99999 }), m.removeClass("ms-open"), r.removeClass("multiselect--active")) }), n.$watch("split.selected.length", function (e) { 0 === e ? -1 === n.split.label.indexOf("VS") ? n.split.display = "All " + n.split.label + "s" : n.split.display = n.split.label.replace("VS", "VS All") + "s" : n.split.display = 1 == e ? n.split.selected[0].text : e + " " + n.split.label.replace("VS ", "") + "s" }), n.toggleItem = function (e, t) { var a = n.isSelected(e); !1 !== a ? n.split.selected.splice(a, 1) : n.split.selected.push(e) }, n.isSelected = function (e) { var t; return n.split.selected && (t = n.split.selected.indexOf(e)), -1 < t && t }, n.clearSearch = function () { n.multiSearch = "" }, n.selectAll = function (e) { n.split.selected = [] } } stats.directive("statsSplitMultiselect", function () { return { restrict: "EA", scope: { split: "=?", hasSearch: "@search", type: "@type" }, template: ['<div class="inner" ng-class="{\'inner--active\':(split.selected.length>0)}">', '   <div class="labels" ng-click="toggleMultiSelect()">{{ ::split.label }}</div>', '   <div class="ms-close" ng-click="toggleMultiSelect();"><i class="fa fa-caret-up" aria-hidden="true"></i></div>', '   <div class="reset" ng-click="selectAll();"><i class="fa fa-times" aria-hidden="true"></i></div>', '   <div class="multiselect-info" ng-click="toggleMultiSelect()">{{split.display}}</div>', "</div>"].join(""), controller: e } }), e.$inject = ["$scope", "$rootScope", "$compile", "$filter", "$attrs", "$element", "$location", "TeamsService"] }(), function () { function e(e, t) { var a = "nba-stat-table", n = "__overflow", s = e.find("." + a); e.addClass("stats-table-next"), e.prepend('<div stats-table-pagination data-location="top"></div>'), e.append('<div stats-table-pagination data-location="bottom"></div>'), e.find("[sort]").attr("ripple", ""); var r, o = e.find("." + a + n).clone().removeClass(a + n).addClass(a + "__overlay"), i = +o.data("fixed") || 0; 0 !== i && (r = "th:nth-child(n+" + (i += 1) + "), td:nth-child(n+" + i + ")", o.find(r).remove(), s.append(o)) } function t(l, s, c, n, a, r) { var o, i, t = { rowsPerPage: 50, deeplink: !0, sortField: "", sortDirection: 1 }, u = angular.extend({}, t), d = (o = {}, s.find(".nba-stat-table__overflow thead tr:last-child th").each(function (e, t) { var a = $(t), n = { $elm: a, field: a.data("field"), text: a.hasClass("grouped") ? a.attr("data-field") : a.text(), hasRank: void 0 !== a.data("rank"), hasDir: void 0 !== a.data("dir"), canSort: void 0 !== a.data("sort"), canFilter: void 0 !== a.data("cf"), isFilterList: void 0 !== a.data("cf-list"), isGroup: a.hasClass("grouped") }; n.dir = n.hasDir ? +a.data("dir") : +u.dir, n.field && (o[n.field] = n) }), o); l.currentPage = 1, l.rowsPerPage = u.rowsPerPage, l.descending = 1 == +u.sortDirection, l.column = u.sortField, l.broadcast = y, l.$watch("rows", function (e) { if (!e) return; h() }, !0), l.$watch("options", function (e) { if (!e) return; u = angular.extend({}, t, e), h() }, !0), l.$watch("filters", function (e) { h() }, !0), l.$watch("currentPage", g, !0), l.$watch("visibleRows", g, !0), r(function () { s.on("mousedown", ".page-nav.left", e), s.on("mousedown", ".page-nav.right", p), s.on("mousedown", ".table-addrows__button", m), s.find("[sort]").on("mousedown", f) }); var e = function () { 1 !== l.currentPage && ("All" === l.currentPage ? l.currentPage = 1 : --l.currentPage, y("$statsTablePageChange", { $elm: s, page: l.currentPage }), l.$apply()) }, p = function () { l.currentPage !== l.totalPages && ("All" === l.currentPage ? l.currentPage = 1 : l.currentPage += 1, y("$statsTablePageChange", { $elm: s, page: l.currentPage }), l.$apply()) }, m = function (e) { l.visibleRows >= l.totalRows || (e.metaKey ? l.visibleRows = l.totalRows : l.visibleRows = Math.min(l.visibleRows + u.rowsPerPage, l.totalRows), l.currentPage = 1, y("$statsTableAddRows", { $elm: s, visibleRows: l.visibleRows }), l.$apply()) }; function f(e) { var t = $(this), a = t.data("field"), n = void 0 !== t.data("rank"), s = void 0 !== t.data("dir"), r = 0, r = a === l.column ? 0 : s ? +t.data("dir") : +u.dir; v(a, { apply: !0, field: a, hasRank: n, dir: r }) } function h() { var e, t, a; l.rows && (e = l.rows.slice(0), l.set = function (e, t) { if (!t || 0 === t.length) return e; for (var a in t) { var n = t[a]; if (!n || !n.value) return; var s = n.value.split("*"), r = s[0], o = s[1], i = s[2]; r && o && i && (-1 < r.indexOf("PCT") && -1 === r.indexOf("_RANK") && (i /= 100), e = c("equality")(e, o, i, r)) } return e }(e, l.filters) || [], l.totalRows = l.set.length, l.visibleRows = u.rowsPerPage, l.totalPages = Math.ceil(l.totalRows / l.visibleRows), l.currentPage = 1, l.descending = !0, l.column = "", y("$statsTableFilter", { $elm: s, rows: l.set, filters: l.filters }), s.find("[sort]").removeClass("sorted"), (t = n.search().sort || u.sortField) && d[t] && (a = { apply: !1, field: t, hasRank: d[t].hasRank || !1, dir: +n.search().dir || +d[t].dir }, v(t, a)), g()) } function g(e) { var t, a; l.rows && l.rows.length && (a = "All" === l.currentPage ? (t = 0, l.totalRows) : (t = (l.currentPage - 1) * l.visibleRows) + l.visibleRows, l.page = l.set.slice(t, a), r.cancel(i), i = r(S)) } var v = function (e, t) { l.column = e, -1 === t.dir ? l.descending = !1 : 0 === t.dir ? l.descending = !l.descending : l.descending = !0, u.deeplink && (n.search("sort", e), n.search("dir", l.descending ? 1 : -1)); var a = t.hasRank ? e + "_RANK" : e; l.set.forEach(function (e, t) { var a = e + "_RANK"; t.__rank = t[a] ? t[a] : null }.bind("", e)), c("statsSort")(l.set, a, l.descending), l.page = l.set.slice(0), l.currentPage = 1, g(), t.apply && l.$apply(), r.cancel(i), i = r(S) }; function S() { var e = s.find("table").eq(0), t = e.find("th[data-field='" + l.column + "']"), a = e.find("thead tr:last-child th").index(t) + 1; s.find(".sorted").removeClass("sorted asc desc").end().find("thead tr:last-child > *:nth-child(" + a + ")").addClass("sorted").addClass(l.descending ? "desc" : "asc").end().find("tbody tr > *:nth-child(" + a + ")").addClass("sorted").end(), y("$statsTableSort", { $elm: s, column: l.column, descending: l.descending, rows: l.set }) } function y(e, t) { a.$broadcast(e, t) } r(function () { y("$statsTableLoad", { $elm: s }) }), r(function () { s.on("click", "tbody > tr", function (e) { var t = $(e.currentTarget), a = t.attr("index") || t.attr("data-index"), n = t.attr("paged-index") || t.attr("data-paged-index"); y("$statsTableRowClick", { $elm: s, $row: t, index: +a, pagedIndex: +n, data: l.page[a] }) }) }), r(function () { var e = s.find(".nba-stat-table__overflow [cf]").map(function (e, t) { var a, n = $(t), s = n.attr("data-field"), r = n.hasClass("grouped") ? n.attr("data-field") : n.text(), o = void 0 !== n.attr("cf-list"), i = []; return o && (a = c("groupBy")(l.rows, s), (i = Object.keys(a).sort()).unshift("")), { name: s, text: r, type: o ? "list" : "text", list: i } }); l.$emit("customFields", e) }) } stats.directive("nbaStatTable", function () { return { restrict: "E", require: "nbaWith", templateUrl: function (e, t) { return ["/stats/templates/angular/tables/", t.template, ".html"].join("") }, scope: { template: "@", title: "@", rows: "<", footer: "<", options: "<", filters: "<", params: "<", ai: "<", season: "@" }, compile: e, controller: t } }), t.$inject = ["$scope", "$element", "$filter", "$location", "$rootScope", "$timeout"] }(), function () { function e(t, e, a, n) { var s = "stats-table-pagination"; e.addClass(s), n(function () { e.find("." + s + "__inner").addClass(s + "__inner--" + e.data("location")) }); var r = this; r.data = { page: 1, pages: [] }, t.nav = function (e) { if ("All" === r.data.page) return; r.data.page = Math.min(Math.max(1, r.data.page + e), t.totalPages) }, t.$watch("totalPages", function () { r.data.pages = a("range")(1, t.totalPages), r.data.pages.unshift("All") }), t.$watch("currentPage", function () { r.data.page = t.currentPage }), t.$watch("vm.data.page", function () { t.currentPage = r.data.page }) } stats.directive("statsTablePagination", function () { return { restrict: "A", replace: !1, template: ['<div class="stats-table-pagination__inner" ng-if="totalPages > 1">', '   <div class="stats-table-pagination__info">', "     {{ totalRows }} Rows | Page ", '     <select class="stats-table-pagination__select" ng-model="vm.data.page" ng-options="p for p in vm.data.pages"></select>', "     of {{totalPages}}", '     <a class="stats-table-pagination__prev" alt="Previous Page" ng-click="nav(-1)">', '       <i class="fa fa-angle-left" aria-hidden="true"></i>', "     </a>", '     <a class="stats-table-pagination__next" alt="Next Page" ng-click="nav(1)">', '       <i class="fa fa-angle-right" aria-hidden="true"></i>', "     </a>", "   </div>", "</div>"].join(""), controller: e, controllerAs: "vm" } }), e.$inject = ["$scope", "$element", "$filter", "$timeout"] }(), function () { function e(D, e, b, t, n, a) { e.bind("contextmenu", function () { return !1 }), e.addClass("stats-video-player"); var s = !1; D.currentIndex = 0, a.yOffset = 100; var r = e, o = "https://videos.nba.com/nba/static/missing.mp4", i = "https://videos.nba.com/nba/static/nba-logo_1280x720.jpg", l = "https://videos.nba.com/nba/static/nba-logo_960x540.jpg", c = "https://videos.nba.com/nba/static/nba-logo_320x180.jpg", u = "stats_video_quality", d = "stats_cc_mode", p = { low: 320, med: 960, high: 1280 }; D.$watch("playlist", function () { if (!D.playlist || !D.playlist.length) return; s = !0, function () { if (!s) return; C(D.playlist) }() }), D.$on("$statsTableRowClick", P), D.$on("$shotchartShotClick", P), D.$watch("currentIndex", function (e) { D.$emit("$statsVideoPlayerIndexUpdated", e) }); var m = window.videojs("stats-videojs-player", { textTrackSettings: !1, autoplay: !0, muted: !1, controls: !0, liveui: !1, preload: "auto", fluid: !0, plugins: { videoJsResolutionSwitcher: { default: T().video, dynamicLabel: !0 } }, controlBar: { pictureInPictureToggle: !0 === document.pictureInPictureEnabled } }), x = window.ADB.va.MediaHeartbeat, f = window.ADB.va.MediaHeartbeatConfig, h = window.ADB.va.MediaHeartbeatDelegate, g = new f; g.trackingServer = "nbaprop.hb.omtrdc.net", g.playerName = "stats-video-player", g.channel = "nba:stats", g.debugLogging = !1, g.appVersion = "2.0", g.ssl = !0, g.ovp = "HTML5"; var v = new h; v.getCurrentPlaybackTime = function () { return m.currentTime() || 0 }; var I = window.s_nbasites ? new x(v, g, window.s_nbasites) : null; function S(e) { try { var t = D.playlist[D.currentIndex]; if (!t) return; var a = b("gameIdToObject")(t.gi), n = t.dsc, s = t.videos ? t.videos.uuid : "", r = t.gdate, o = t.gi, i = t.va || "", l = t.ha || "", c = "".concat(i, " @ ").concat(l, ", ").concat(r), u = t.PLAYER_NAME || t.pn || "", d = t.pid, p = t.team ? t.team.abbr : "", m = t.team ? t.team.id : t.tid, f = a.SeasonType, h = a.seasonyear, g = t.p, v = t.ACTION_TYPE, S = t.SHOT_TYPE, y = v ? "".concat(v, ";").concat(S) : "".concat(t.atype, ";").concat(t.stype), P = x.createMediaObject(n, s, e || 0, x.StreamType.VOD), T = { "nba.gamematchup": c, "nba.gameid": o, "nba.digitalproduct": "nba:web", "nba.playername": u, "nba.playerid": d, "nba.teamid": m, "nba.teamname": p, "nba.seasontype": f, "nba.season": h, "nba.gamequarter": b("periodToText")(g), "nba.contentkeywords": y }; P.setValue(x.MediaObjectKey.StandardVideoMetadata, {}), I.trackSessionStart(P, T), I.trackPlay() } catch (e) { console.error("catch in stats video player", e) } } function y() { var e = document.cookie.split("; ").map(function (e) { return e }).map(function (e) { return e.split("=") }), t = {}; return e.map(function (e) { return t[e[0]] = e[1] }), t } function P(e, t) { "$shotchartShotClick" === e.name ? D.currentIndex = t.data ? t.data.idx : t.index : D.currentIndex = t.pagedIndex, window.s_nbasites && (I.trackSessionEnd(), S(m.duration())), r && r[0] && (document.pictureInPictureElement || a("stats-video-player_container")), C(D.playlist) } function T() { var e = window.outerWidth, t = {}; if (y() && y()[u]) switch (+y()[u]) { case 1280: t = { video: p.high, poster: "lth", label: "high", src: "lurl" }; break; case 960: t = { video: p.med, poster: "mth", label: "med", src: "murl" }; break; case 320: t = { video: p.low, poster: "sth", label: "low", src: "surl" } } else t = e < 640 ? { video: p.low, poster: "sth", label: "high", src: "lurl" } : e < 960 ? { video: p.med, poster: "mth", label: "med", src: "murl" } : { video: p.high, poster: "lth", label: "high", src: "surl" }; return t } function C(a) { var s; D.item = a, $("body .stats-events-page tr.events-current-playing-video").length && $("body .stats-events-page tr.events-current-playing-video").each(function (e, t) { $(t).removeClass("events-current-playing-video") }), $('[data-paged-index="' + D.currentIndex + '"]').length && $('[data-paged-index="' + D.currentIndex + '"]').addClass("events-current-playing-video"), a[D.currentIndex] && a[D.currentIndex].hasVideos ? (s = [{ type: "video/mp4", src: a[D.currentIndex].videos ? a[D.currentIndex].videos.lurl : a[D.currentIndex].lurl, label: "high", res: p.high }, { type: "video/mp4", src: a[D.currentIndex].videos ? a[D.currentIndex].videos.murl : a[D.currentIndex].murl, label: "med", res: p.med }, { type: "video/mp4", src: a[D.currentIndex].videos ? a[D.currentIndex].videos.surl : a[D.currentIndex].surl, label: "low", res: p.low }], m.poster(a[D.currentIndex].videos ? a[D.currentIndex].videos[T().poster] : a[D.currentIndex][T().poster]), n(function () { D.videoDesc = b("eventDesc")(D.item[D.currentIndex].dsc) }, 0), m.ready(function () { var e, t, n; e = m, t = s, n = D.playlist[D.currentIndex], e.updateSrc(t), e.on("resolutionchange", function () { var e = m.remoteTextTracks(); e && e.tracks_ && e.tracks_.length && e.tracks_.forEach(function (e) { m.removeRemoteTextTrack(e) }); var t = m.currentResolution().sources[0].res; document.cookie = "".concat(u, "=").concat(t, "; Path=/"), D.playlist.length < 2 && m.poster(n[T().poster]), m.addRemoteTextTrack({ kind: "captions", label: "English", language: "en", srclang: "en", id: n.uuid, src: n.vtt }, !1); var a = m.remoteTextTracks(); a && a.length && (y() && y()[d] && (a[0].mode = "showing"), $("li.vjs-menu-item.vjs-captions-menu-item").on("click", function (e) { document.cookie = "".concat(d, "=", !0, "; Path=/") }), $("li.vjs-menu-item").on("click", function (e) { "captions off" === $(e.currentTarget).children()[0].innerHTML && (document.cookie = "".concat(d, "=", "; Path=/")) })) }), m.currentResolution(T().label, function (e, t) { return e.src(t[0]) }), m.addRemoteTextTrack({ kind: "captions", label: "English", language: "en", srclang: "en", id: a[D.currentIndex].videos ? a[D.currentIndex].videos.uuid : a[D.currentIndex].uuid, src: a[D.currentIndex].videos ? a[D.currentIndex].videos.vtt : a[D.currentIndex].vtt }, !1).addEventListener("load", function (e) { var t = m.remoteTextTracks(); t && t.length && (y() && y()[d] && (t[0].mode = "showing"), $(".vjs-subs-caps-button .vjs-menu-item-text").on("click", function (e) { var t = $(e.currentTarget).text(); document.cookie = "captions off" === t ? "".concat(d, "=", "; Path=/") : "".concat(d, "=", !0, "; Path=/") })) }), m.play().catch(function () { }) })) : a[D.currentIndex] && !a[D.currentIndex].hasVideos ? m.ready(function () { switch (T().poster) { case "lth": m.poster(i); break; case "mth": m.poster(l); break; default: m.poster(c) }n(function () { D.videoDesc = "Video Loading" }, 0), m.play().catch(function () { }) }) : m.ready(function () { m.src(o), n(function () { D.videoDesc = "Video Not Available" }, 0), m.play().catch(function () { }) }), t.$broadcast("onFocusGameEvent", a) } m.on("loadedmetadata", function () { I && S(m.duration()) }), m.on("play", function () { !isNaN(m.duration()) && I && I.trackPlay() }), m.on("pause", function () { I && I.trackPause(), $(".vjs-subs-caps-button .vjs-menu-item-text").on("click", function (e) { var t = $(e.currentTarget).text(); document.cookie = "captions off" === t ? "".concat(d, "=", "; Path=/") : "".concat(d, "=", !0, "; Path=/") }) }), m.on("ended", function () { var e, a, t = 1 < D.playlist.length, n = void 0 !== D.playlist[D.currentIndex + 1]; t && n && (D.currentIndex = D.currentIndex + 1, D.playlist[D.currentIndex].hasVideos || (e = D.playlist.slice(D.currentIndex), a = null, e.forEach(function (e, t) { !a && e.hasVideos && (a = t + D.currentIndex) }), a && (D.currentIndex = a)), C(D.playlist), I && (I.trackComplete(), I.trackSessionEnd())) }) } stats.directive("statsVideoPlayer", function () { return { restrict: "E", replace: !1, scope: { playlist: "=" }, templateUrl: "/stats/templates/angular/directives/stats-video-player.html", controller: e } }), e.$inject = ["$scope", "$element", "$filter", "$rootScope", "$timeout", "$anchorScroll"] }(), function () { function e(t, e, a) { var n = a.statsWith.split(" as "); 2 == n.length && t.$watch(n[0], function (e) { t[n[1]] = e }, !0) } stats.directive("statsWith", function () { return { scope: !0, link: e } }) }(), function () { function e(e, a, t, n, s) { var r = angular.element(window), o = angular.element(".nav-container"), i = "none" !== o.css("display") ? Number(o.css("height").slice(0, -2)) : 0, l = a.parent().offset().top - i, c = Number(a.css("height").slice(0, -2)); a.parent().css("min-height", c); var u = window.innerWidth | document.documentElement.clientWidth | document.body.clientWidth; function d() { r.scrollTop() >= l ? p("fixed", i.toString() + "px") : p("relative", "auto") } function p(e, t) { a.css({ position: e, top: t }) } function m() { u = window.innerWidth | document.documentElement.clientWidth | document.body.clientWidth, c = Number(a.css("height").slice(0, -2)), a.parent().css("min-height", c), l = a.parent().offset().top - i } s(function () { m(), d(); var e = 0, t = setInterval(function () { m(), d(), 5 <= ++e && clearInterval(t) }, 1500) }, 0), r.on("scroll", function (e) { 750 <= u && d() }), r.on("resize", function (e) { m(), 750 <= u && d() }) } stats.directive("stickyHeader", function () { return { restrict: "A", controller: e } }), e.$inject = ["$scope", "$element", "$attrs", "$location", "$timeout"] }(), function () { function e(a, e, t, n, s, r, o) { a.isLoading = !0, a.hasBoxscore = !1, a.hasRoster = !1, a.activeSection = "boxscore"; var i = { league: e.data("league"), leagueid: e.data("league-id"), season: e.data("season"), gameid: e.data("game-id") }; a.data = { vtm: { tid: e.data("vtm-id") }, htm: { tid: e.data("htm-id") } }; var l, c = 6e4, u = 1e4; function d() { var e, t = a.boxscore && a.boxscore.st ? a.boxscore.st : 1; 3 !== t && (e = 2 === t ? u : c, n(p.bind("", i), e)) } function p(e) { s.get(e.gameid, e).then(function (e) { a.isLoading = !1, a.boxscore = e, a.hasBoxscore = e.st && 1 < e.st, d() }).catch(function (e) { console.error("error getting game detail", e), d() }), r.get(e.gameid, e).then(function (e) { a.events = e }).catch(function (e) { console.error("error getting play by play", e) }) } p(i), l = i, o.get(l).then(function (e) { a.players = e, a.hasRoster = !0, a.data.vtm.pls = t("filter")(e, { tid: a.data.vtm.tid }), a.data.htm.pls = t("filter")(e, { tid: a.data.htm.tid }) }).catch(function (e) { console.error("error getting players") }) } stats.controller("AfricaGameController", e), e.$inject = ["$scope", "$element", "$filter", "$timeout", "MobileGameDetailService", "MobilePlayByPlayService", "MobilePlayerInfoService"] }(), function () { function e(a, e, n, t, s, r, o, i) { a.isLoading = !0, a.toSlug = function (e) { return e ? e.toLowerCase().replace(/[.`']/g, "").replace(/ /g, "-") : void 0 }; var l = e.data("season-section"), c = o.get(l), u = { LeagueID: "00", Season: c.SeasonYear }; a.Season = u.Season, a.SeasonYear = n("seasonyear")(u.Season), a.flags = c.Flags; var d; function p() { r.get(u).then(function (e) { var t; a.isLoading = !1, a.noData = !e.length, a.noData || ((a.draftboard = e).forEach(function (e) { e.round = +e.field_pick_round, e.overall = +e.field_pick_number, e.pick = e.overall - 30 * (e.round - 1), e.field_team_traded_to && (e.isTraded = !0, e.tradeName = e.field_team_traded_to.split(" ").pop(), i.findBy("name", e.tradeName, { isSpecial: !1 }).pop(), e.tradeAbbr = e.tradeName), e.prospect_position && (e.pos = e.prospect_position) }), a.rounds = n("groupBy")(e, "field_pick_round", { asArray: !0 }), a.nextIndex = (t = e.find(function (e) { return !e.field_draft_prospect })) ? parseInt(t.field_pick_number, 10) - 1 : 60, 0 === a.nextIndex && (a.nextIndex = 1), a.last = a.draftboard[a.nextIndex - 1], a.hasNext = a.nextIndex < 60, a.hasNext ? a.next = a.draftboard[a.nextIndex] : s.cancel(d)) }).catch(function () { console.error("Draftboard Data Error") }) } p(), a.flags.isLive && (d = s(p, 15e3)) } stats.controller("DraftBoardController", e), e.$inject = ["$scope", "$element", "$filter", "$http", "$interval", "DraftboardService", "SeasonsService", "TeamsService"] }(), function () { function e(t, a, e, n, s, r, o, i) { t.scrollTo = function (e) { var t = s.hash(); a.yOffset = 50, s.hash(e), a(), s.hash(t) }; var l = o.get("DraftCombineLanding"), c = l.Flags, u = c.activeGames ? c.activeGames.split(",") : []; t.liveUpdate = !0 === c.liveUpdate, t.activeGames = u.map(function (e) { return e.trim() }), t.hasScrimmages = 0 < t.activeGames.length; var d = i.get(["LeagueID", { name: "Season", as: "SeasonYear", initial: l.Season, default: l.Season, seasonRange: [l.SeasonYearFrom, l.SeasonYear] }]); function p() { r.get(t.params, { dontCache: !0 }).then(function (e) { e.length && (t.players = e, t.centers = m(e, "C"), t.guards = m(e, "G"), t.forwards = m(e, "F")) }) } function m(e, t) { return e.filter(function (e) { return -1 < e.POSITION.indexOf(t) }) } t.splits = d.splits, t.params = d.params, t.isLoading = !0, t.noData = !1, r.get(t.params).then(function (e) { t.liveUpdate && n(p, 6e4), t.isLoading = !1, t.players = e, t.centers = m(e, "C"), t.guards = m(e, "G"), t.forwards = m(e, "F"), t.noData = 0 === e.length }).catch(function (e) { t.isLoading = !1, t.noData = !0 }) } stats.controller("DraftCombineHomepageController", e), e.$inject = ["$scope", "$anchorScroll", "$element", "$interval", "$location", "DraftCombineAllNonShootingService", "SeasonsService", "SplitsService"] }(), function () { function e(a, e, t, n, s, r, o, i) { var l = s(function () { i.get(a.GameID).then(function (e) { 3 === (a.boxscore = e).game.st && s.cancel(l) }).catch(function (e) { console.error("error loading boxscore") }) }, 3e4); a.setPeriod = function (e) { var t = angular.element("#qtr" + e); t.length && $("html, body").animate({ scrollTop: t.offset().top - 50 }, 250) }, a.scrollTop = function () { r.hash(""), e() }, a.isLoading = !0, a.$on("$routeChangeSuccess", function (e, t) { o.GameID && o.GameID != a.GameID && (a.GameID = o.GameID, a.gameObject = n("gameIdToObject")(a.GameID), a.isLoading = !0, i.get(a.GameID).then(function (e) { a.isLoading = !1, 3 === (a.boxscore = e).game.st && s.cancel(l) }).catch(function (e) { console.error("error loading boxscore"), a.isLoading = !1, a.noData = !0 })) }) } stats.controller("DraftCombineScrimmageController", e), e.$inject = ["$scope", "$anchorScroll", "$element", "$filter", "$interval", "$location", "$routeParams", "CombineScrimmageService"] }(), function () { function e(a, e, t, n, s, r, o, i) { var l = { agility: { service: s, seasons: "DraftCombineAgility" }, anthro: { service: r, seasons: "DraftCombineAnthro" }, nonstationary: { service: o, seasons: "DraftCombineNonstationary" }, spotup: { service: i, seasons: "DraftCombineSpotUp" } }[e.data("section")], c = n.get(l.seasons), u = t.get(["LeagueID", { name: "Season", as: "SeasonYear", initial: c.Season, default: c.Season, seasonRange: [c.SeasonYearFrom, c.SeasonYear] }]); function d() { a.isLoading = !0, l.service.get(a.params).then(function (e) { a.playerStats = e, a.isLoading = !1, a.noData = 0 === e.rows.length }) } a.splits = u.splits, a.params = u.params, a.isLoading = !1, a.showSplits = !1, a.tableOptions = { rowsPerPage: 100 }, a.$on("runit", function (e) { d() }), a.$on("customFields", function (e, t) { a.customFields = t }), d() } stats.controller("DraftCombineController", e), e.$inject = ["$scope", "$element", "SplitsService", "SeasonsService", "DraftCombineAgilityService", "DraftCombineAnthroService", "DraftCombineNonStationaryService", "DraftCombineSpotUpService"] }(), function () { function e(a, e, t, n, s, r) { a.isLoading = !1, a.showSplits = !1; var o = s.get("DraftHistory"), i = n.get(["LeagueID", { name: "Season", default: o.SeasonYear, initial: o.SeasonYear, range: [o.SeasonYearFrom, o.SeasonYear], includeBefore: [{ val: "", text: "All Time" }] }, "College", { name: "TeamID", include: [{ val: "1610610035", text: "Toronto Huskies" }, { val: "1610610030", text: "Indianapolis Olympians" }, { val: "1610610036", text: "Washington Capitols" }, { val: "1610610025", text: "Chicago Stags" }, { val: "1610610034", text: "St. Louis Bombers" }, { val: "1610610031", text: "Pittsburgh Ironmen" }, { val: "1610610029", text: "Indianapolis Jets" }, { val: "1610610024", text: "Baltimore Bullets" }, { val: "1610610032", text: "Providence Steamrollers" }] }]); function l() { a.isLoading = !0, t.get(a.params).then(function (e) { a.isLoading = !1, a.datasets = e, a.noData = 0 === e.rows.length, a.noData && "2016" == a.params.Season && (a.params.Season = "2015", l()) }) } a.splits = i.splits, a.params = i.params, a.splits.TeamID.options[0].text = "All Franchises", a.params.OverallPick = "", a.params.RoundNum = "", a.params.RoundPick = "", a.params.TopX = "", a.options = { rowsPerPage: +e.data("rows-per-page") }, a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { l() }), a.isDefunctTeam = function (e) { return 0 === r.findBy("id", e).length }, l() } stats.controller("DraftHistoryController", e), e.$inject = ["$scope", "$element", "DraftHistoryService", "SplitsService", "SeasonsService", "TeamsService"] }(), function () { function e(e, t, a, n, s, r, o) { e.$on("$routeChangeSuccess", function (e, t) { }) } stats.controller("ArticlesCtrl", e), e.$inject = ["$scope", "$http", "$location", "$routeParams", "$route"] }(), function () { function e(s, r, t, a, n) { function e() { var e = t.search().Team; s.team = n.getByCode(e), a.get(e).then(function (e) { var t = new Date, a = new Date(t.getTime() - 864e5), n = r("date")(a, "MM/dd/yyyy h:mm:ss a"); s.items = e.filter(function (e) { return e.ListItemPubDate >= n }), s.isLoaded = !0, s.hasData = s.items.length }).catch(function (e) { s.isLoaded = !0, s.hasData = !1 }) } s.isLoaded = !1, s.hasData = !1, s.$on("$locationChangeSuccess", e), e() } stats.controller("FantasyNewsCtrl", e), e.$inject = ["$scope", "$filter", "$location", "FantasyNewsService", "TeamsService"] }(), function () { function e(l, c, e, u, t, a) { l.isLoading = !0, l.trustAsHtml = t.trustAsHtml, l.seeMore = function () { l.itemsPerPage = l.itemsPerPage + 10, l.noMoreData = l.itemsPerPage >= l.items.length }; var n = e.path(); n && (document.location = "/stats/articles" + n); var d = a.prefix + "wp-json/statscms/v1/type/beyondthenumber/?limit=100"; c({ method: "GET", url: d }).then(function (e) { var t = e.data, a = t.count; l.totalItems = a, l.items = t.posts, l.currentPage = 0, l.itemsPerPage = 10, l.noMoreData = !1, l.numberOfPages = Math.ceil(l.totalItems / l.itemsPerPage); for (var n, s = d + "&offset=", r = [], o = 100; o < a;) { var i = c.get(s + o); r.push(i), o += 100 } n = r, l.isLoading = !0, u.all(n).then(function (e) { e.forEach(function (e) { l.items = l.items.concat(e.data.posts) }), l.isLoading = !1 }) }) } stats.controller("FeaturedArchiveCtrl", e), e.$inject = ["$scope", "$http", "$location", "$q", "$sce", "CMSENV"] }(), function () { function e(l, c, e, u, t, a) { l.isLoading = !0, l.trustAsHtml = t.trustAsHtml, l.seeMore = function () { l.itemsPerPage = l.itemsPerPage + 10 }; var d = a.prefix + "wp-json/statscms/v1/type/spotlight/?limit=100"; c({ method: "GET", url: d }).then(function (e) { var t = e.data, a = t.count; l.totalItems = a, l.items = t.posts, l.currentPage = 0, l.itemsPerPage = 10, l.numberOfPages = Math.ceil(l.totalItems / l.itemsPerPage); for (var n, s = d + "&offset=", r = [], o = 100; o < a;) { var i = c.get(s + o); r.push(i), o += 100 } n = r, l.isLoading = !0, u.all(n).then(function (e) { angular.forEach(e, function (e) { var t = e.data.posts; angular.forEach(t, function (e) { l.items.push(e) }) }), l.isLoading = !1 }) }) } stats.controller("SpotlightArchiveCtrl", e), e.$inject = ["$scope", "$http", "$location", "$q", "$sce", "CMSENV"] }(), function () { function e(u, e, n, o, t, a, s, r, i, l, c, d) { var p = o.get(["LeagueID", { name: "LeagueID", include: [{ val: "20", text: "G League" }, { val: "09", text: "Draft Combine" }], without: ["20", "09", "99", "14", "12"] }, { name: "SeasonType", without: ["All Star"] }, { name: "ReportType", initial: "Team" }]), m = o.get([{ name: "Location", include: [{ val: "Away", text: "Road" }], without: ["Road"] }, "VsConference", "VsDivision", "OpponentTeamID", "Outcome", "VsOpponents", { name: "Disabled", label: "Select Opponent Type", default: "Select VS Opponent", type: "pseudo", desc: "Opponent" }]); function f() { u.movedGames.length && u.movedPlayerGames && u.movedPlayerGames.length && (u.movedGames = u.movedGames.filter(function (e) { return !u.movedPlayerGames.includes(e) })), u.movedGames.length && u.movedTeamGames && u.movedTeamGames.length && (u.movedGames = u.movedGames.filter(function (e) { return !u.movedTeamGames.includes(e) })), u.movedGames.length || (u.cumeStats = {}), v() } function h() { var e = { LeagueID: u.splits.LeagueID.selected.val, SeasonType: u.splits.SeasonType.selected.val }; d.get(e).then(function (e) { var t, a; u.selectedSeason ? o.runSplits(u._splits.Season) : (u._splits.Season = e.CumeStatsSeasonList, t = e.CumeStatsSeasonList.rows.map(function (e) { return { val: e.SEASON_ID, text: n("seasonyear")(e.SEASON_ID) } }), a = o.get([{ name: "Season", label: "Season", default: e.CumeStatsSeasonList.rows[0].SEASON_ID, initial: e.CumeStatsSeasonList.rows[0].SEASON_ID, order: e.CumeStatsSeasonList.rows.length, type: "select", desc: "Select Cume Stats Season", options: t }]).splits, u._splits.Season = a.Season, u.selectedSeason = u._splits.Season.selected) }).then(function () { o.findDefault(u._splits.Season); var r, e = { LeagueID: u.splits.LeagueID.selected.val, Season: u._splits.Season ? u._splits.Season.selected.val : u.selectedSeason.val, SeasonType: u.splits.SeasonType.selected.val }; switch (u.splits.ReportType.selected.val) { case "Player": r = a; break; case "Team": r = s; break; default: return }u.teams = [], u.players = [], u.teamMatchUps = [], u.playerMatchUps = [], u.cumeStats = {}, u.movedGames = [], r.get(e).then(function (e) { var t, a, n, s; "cumestatsteamlist" === r.endpoint && (u.teams = e.CumeStatsTeamList.rows, (t = (u._splits.CumeStatsTeamList = e).CumeStatsTeamList.rows.map(function (e) { return { val: e.TEAM_ID, text: e.TEAM } })).unshift({ val: "", text: "Select A Team" }), a = o.get([{ name: e.CumeStatsTeamList.name, label: "Teams", order: e.CumeStatsTeamList.rows.length, default: "", type: "select", desc: "Select Cume Stats Team", options: t }]).splits, u._splits.CumeStatsTeamList = a.CumeStatsTeamList, u.selectedTeam = u._splits.CumeStatsTeamList.selected), "cumestatsplayerlist" === r.endpoint && (u.players = e.CumeStatsPlayerList.rows, (n = e.CumeStatsPlayerList.rows.map(function (e) { return { val: e.PERSON_ID, text: e.PLAYER } }).sort(function (e, t) { return e.text.split(" ").shift() < t.text.split(" ").shift() ? -1 : 0 })).unshift({ val: "", text: "Select A Player" }), s = o.get([{ name: e.CumeStatsPlayerList.name, label: "Players", order: e.CumeStatsPlayerList.rows.length, default: "", type: "select", desc: "Select Cume Stats Player", options: n }]).splits, u._splits.CumeStatsPlayerList = s.CumeStatsPlayerList, u.selectedPlayer = u._splits.CumeStatsPlayerList.selected), u.isLoadingPage = !1 }) }) } function g() { var t, e = { LeagueID: u.splits.LeagueID.selected.val, Season: u._splits.Season.selected.val, SeasonType: u.splits.SeasonType.selected.val, Outcome: u._splits.Outcome.selected.val, Location: u._splits.Location.selected.val, VsTeamID: "0" === u._splits.OpponentTeamID.selected.val ? "" : u._splits.OpponentTeamID.selected.val, VsDivision: u._splits.VsDivision.selected.val, VsConference: u._splits.VsConference.selected.val }; switch (u.splits.ReportType.selected.val) { case "Player": e.PlayerID = u._splits.CumeStatsPlayerList.selected.val, t = i; break; case "Team": e.TeamID = u._splits.CumeStatsTeamList.selected.val, t = r; break; default: return }u.teamMatchUps = [], u.playerMatchUps = [], u.cumeStats = {}, t.get(e).then(function (e) { if ("cumestatsplayergames" === t.endpoint) { if (!e.CumeStatsPlayerGames.rows.length) return void (u.noData = !0); u.playerMatchUps = e.CumeStatsPlayerGames.rows } if ("cumestatsteamgames" === t.endpoint) { if (!e.CumeStatsTeamGames.rows.length) return void (u.noData = !0); u.teamMatchUps = e.CumeStatsTeamGames.rows } }) } function v() { var e = { LeagueID: u.splits.LeagueID.selected.val, Season: u._splits.Season.selected.val, SeasonType: u.splits.SeasonType.selected.val }; switch (u.splits.ReportType.selected.val) { case "Player": var t = u.movedGames.map(function (e) { return e.GAME_ID }).reduce(function (e, t, a, n) { return "".concat(e + t).concat(1 < n.length && a !== n.length - 1 ? "|" : "") }, ""), a = c; e.PlayerID = u._splits.CumeStatsPlayerList.selected.val, e.GameIDs = t; break; case "Team": var n = u.movedGames.map(function (e) { return e.GAME_ID }).reduce(function (e, t, a, n) { return "".concat(e + t).concat(1 < n.length && a !== n.length - 1 ? "|" : "") }, ""); a = l, e.TeamID = u._splits.CumeStatsTeamList.selected.val, e.GameIDs = n; break; default: return }u.generateCumeStatsTables = function () { u.cumeStats = {}, u.isLoadingGrid = !0, a.get(e).then(function (e) { u.cumeStats = e, u.isLoadingGrid = !1 }) } } u.splits = p.splits, u.params = p.params, u._splits = m.splits, u.showSplits = !1, u.isLoadingPage = !0, u.noData = !1, u.handleTeam = function () { u.selectedTeam && u.selectedTeam.TEAM_ID && g() }, u.handlePlayer = function () { u.selectedPlayer && u.selectedPlayer.PERSON_ID && g() }, u.selectAllGames = function () { u.teamMatchUps.length && (u.selectedTeamGames = u.teamMatchUps); u.playerMatchUps.length && (u.selectedPlayerGames = u.playerMatchUps) }, u.moveSelectedGames = function () { u.selectedTeam && u.selectedTeamGames && u.selectedTeamGames.length ? (u.selectedTeamGames.forEach(function (e, t) { u.movedGames.push(e) }), u.movedGames = u.movedGames.filter(function (e, t, a) { return a.indexOf(e) === t })) : u.selectedPlayer && u.selectedPlayerGames && u.selectedPlayerGames.length ? (u.selectedPlayerGames.forEach(function (e, t) { u.movedGames.push(e) }), u.movedGames = u.movedGames.filter(function (e, t, a) { return a.indexOf(e) === t })) : u.movedGames = []; v() }, u.handleMovedGames = function () { u.movedGames && (u.movedPlayerGames || u.movedTeamGames) && (u.removeSelectedGame = f) }, u.removeAllGames = function () { u.movedGames = [], u.cumeStats = {} }, u.generateCSVFromTable = function () { var e = window.XLSX.utils.book_new(); { var t, a, n, s, r; "Team" === u.splits.ReportType.selected.val && (t = window.XLSX.utils.table_to_sheet($("table")[0], { raw: !0 }), a = window.XLSX.utils.table_to_sheet($("table")[2], { raw: !0 }), n = window.XLSX.utils.table_to_sheet($("table")[3], { raw: !0 }), s = window.XLSX.utils.table_to_sheet($("table")[6], { raw: !0 }), r = window.XLSX.utils.table_to_sheet($("table")[8], { raw: !0 }), window.XLSX.utils.book_append_sheet(e, t, "Player Stats"), window.XLSX.utils.book_append_sheet(e, a, "Team Stats"), window.XLSX.utils.book_append_sheet(e, n, "Opponent Stats"), window.XLSX.utils.book_append_sheet(e, s, "Player Highs"), u.cumeStats && u.cumeStats.GLeagueFreeThrows && u.cumeStats.GLeagueFreeThrows.rows.length && window.XLSX.utils.book_append_sheet(e, r, "Free Throws")) } { var o, i, l; "Player" === u.splits.ReportType.selected.val && (o = window.XLSX.utils.table_to_sheet($("table")[6], { raw: !0 }), i = window.XLSX.utils.table_to_sheet($("table")[8], { raw: !0 }), l = window.XLSX.utils.table_to_sheet($("table")[10], { raw: !0 }), window.XLSX.utils.book_append_sheet(e, o, "Opponent Stats"), window.XLSX.utils.book_append_sheet(e, i, "Player Highs"), u.cumeStats && u.cumeStats.GLeagueFreeThrows && u.cumeStats.GLeagueFreeThrows.rows.length && window.XLSX.utils.book_append_sheet(e, l, "Free Throws")) } var c = "NBA_Stats_CumeStats_" + (new Date).getTime() + ".xlsx"; window.XLSX.writeFile(e, c) }, u.currentYear = (new Date).getFullYear(), u.printReport = function () { window.print() }, u.label = function (e, t) { return "".concat(String(e + 1).padStart(2, "0"), " ", "", " ").concat(t) }, u.$on("updateFilters", function (e) { u.noData = !1, u.selectedVsOpponents = u._splits.VsOpponents.selected, u.selectedVsDivision = u._splits.VsDivision.selected, u.selectedVsConference = u._splits.VsConference.selected, u.selectedVsTeam = u._splits.OpponentTeamID.selected, u.selectedOutcome = u._splits.Outcome.selected, u.selectedSeason = u._splits.Season.selected, u._splits.VsOpponents.selected.val || (u.selectedVsDivision = o.findDefault(u._splits.VsDivision), u.selectedVsConference = o.findDefault(u._splits.VsConference), u.selectedVsTeam = o.findDefault(u._splits.OpponentTeamID)); var t = "CumeStatsPlayerList" === e.targetScope.split.name, a = "CumeStatsTeamList" === e.targetScope.split.name; t ? u._splits.CumeStatsPlayerList.selected.val ? g() : u.playerMatchUps = [] : a ? u._splits.CumeStatsTeamList.selected.val ? g() : u.teamMatchUps = [] : ("Season" !== e.targetScope.split.name && delete u.selectedSeason, h()), u.movedGames = [] }), h(), navigator.userAgent.match(/iPhone/i) && $("select[multiple]").each(function () { var t = $(this).on({ focusout: function () { var e = t.val() || []; setTimeout(function () { t.val(e.length ? e : [""]).change() }, 1e3) } }), e = '<option value="" disabled="disabled"'; e += 0 < (t.val() || []).length ? "" : ' selected="selected"', e += ">&laquo; click to select games &raquo;", e += "</option>", t.prepend(e) }) } stats.controller("CumeStatsController", e), e.$inject = ["$scope", "$timeout", "$filter", "SplitsService", "SeasonsService", "CumeStatsPlayerListService", "CumeStatsTeamListService", "CumeStatsTeamGamesService", "CumeStatsPlayerGamesService", "CumeStatsTeamService", "CumeStatsPlayerService", "CumeStatsSeasonListService"] }(), function () { function e(c, s, a, e, t, n, r, o) { c.currentSet = null; var i = n.get(["LeagueID", { name: "Season", default: "", includeBefore: [{ val: "", text: "" }] }, "SeasonType", "Conference", "DateFrom", "DateTo", "Division", "EndPeriod", "EndRange", "GameSegment", "LastNGames", "Location", "Month", "OpponentTeamID", "Outcome", "Period", "PlayerPosition", "PORound", { name: "PlayerPosition", as: "Position" }, "RangeType", { name: "PlayerExperience", as: "RookieYear" }, "SeasonSegment", "ShotClockRange", "StartPeriod", "StartRange", "StarterBench", "TeamID", "VsConference", "VsDivision", "PlayerID", "GroupQuantity", { name: "ClutchTime", default: "", includeBefore: [{ val: "", text: "Clutch Time Off" }] }, { name: "AheadBehind", default: "", includeBefore: [{ val: "", text: "Ahead or Behind Off" }] }, { name: "PointDiff", default: "", includeBefore: [{ val: "", text: "Point Diff Off" }] }, { name: "GameID", label: "", default: "", type: "pseudo" }, { name: "GameEventID", label: "Event #", default: "", skipLabel: !0, type: "pseudo" }, { name: "CFID", label: "", default: "", skipLabel: !0, order: 2, type: "pseudo" }, { name: "CFPARAMS", label: "", default: "", skipLabel: !0, order: 2, type: "pseudo" }, { name: "ContextFilter", label: "", default: "", skipLabel: !0, order: 2, type: "pseudo" }, { name: "ContextMeasure", label: "", default: "FG_PCT", order: 2, type: "pseudo" }, { name: "GroupID", label: "", default: "", skipLabel: !0, type: "pseudo" }, { name: "GROUP_ID", label: "", default: "", skipLabel: !0, type: "pseudo" }, { name: "OnOff", label: "", default: "", skipLabel: !0, type: "pseudo" }, { name: "GroupMode", label: "", default: "", skipLabel: !0, type: "pseudo" }, { name: "PlayerID1", label: "", default: "", skipLabel: !0, type: "pseudo" }, { name: "PlayerID2", label: "", default: "", skipLabel: !0, type: "pseudo" }, { name: "PlayerID3", label: "", default: "", skipLabel: !0, type: "pseudo" }, { name: "PlayerID4", label: "", default: "", skipLabel: !0, type: "pseudo" }, { name: "PlayerID5", label: "", default: "", skipLabel: !0, type: "pseudo" }, { name: "VsPlayerID1", label: "", default: "", skipLabel: !0, type: "pseudo" }, { name: "VsPlayerID2", label: "", default: "", skipLabel: !0, type: "pseudo" }, { name: "VsPlayerID3", label: "", default: "", skipLabel: !0, type: "pseudo" }, { name: "VsPlayerID4", label: "", default: "", skipLabel: !0, type: "pseudo" }, { name: "VsPlayerID5", label: "", default: "", skipLabel: !0, type: "pseudo" }, { name: "VsTeamID", label: "", default: "", skipLabel: !0, type: "pseudo" }]); c.splits = i.splits, c.params = i.params, c.ai = { currentIndex: 0 }, c.Season = s("seasonToSeasonYear")(c.params.Season), c.CFPARAMS = s("seasonToSeasonYear")(c.params.CFPARAMS); var l, u, d, p, m, f = c.Season, h = c.CFPARAMS; c.isNbaVideoPlayer = !1, (2013 < f || 2013 < h) && (c.isNbaVideoPlayer = !0), c.eventTitle = "", l = o, u = c.params, d = l.endpoints, u.ZoneMode ? l.endpoint = d.ShotzoneContext : u.GameEventID ? c.isNbaVideoPlayer ? l.endpoint = d.EventsAsset : l.endpoint = d.Events : u.EventList ? l.endpoint = d.Shotzone : u.GroupID ? l.endpoint = d.LineupAsset : u.GroupMode ? l.endpoint = d.Impact : c.isNbaVideoPlayer ? l.endpoint = d.DetailsAsset : l.endpoint = d.Details, p = t, c.params, m = p.endpoints, c.params.GROUP_ID ? p.endpoint = m.Lineup : c.params.GroupMode ? p.endpoint = m.Impact : p.endpoint = m.Shotchart; var g = parseInt(a.search().flag); function v() { var e; c.flags.video && (c.isLoadingVideo = !0, e = c.params, c.params.GameEventID && (e = { GameEventID: c.params.GameEventID, GameID: c.params.GameID }), o.get(e).then(function (e) { c.hasVideos = !0, c.isLoadingVideo = !1, c.meta = e.Meta.videoUrls, c.videos = e.playlist, c.videos.forEach(function (e, t, a, n) { var s = {}; s = 2014 <= t ? e[n] : e.find(function (e) { return e.gi === a.gi }); s && s.ldur && s.lth && s.lurl && (a.hasVideos = !0); a = c.CFPARAMS < 2015 || c.Season < 2015 ? angular.extend(a, s) : angular.extend(a, { videos: s }) }.bind("", c.meta, c.Season)), c.videos.forEach(T), y(), P() }).catch(function () { c.isLoadingVideo = !1 })) } function S() { c.flags.shotchart && (c.isLoadingShots = !0, t.get(c.params).then(function (e) { var t, a; c.isLoadingShots = !1, e && (c.hasShots = !0, c.zones = e.groupedShots, c.league = e.groupedLeague, c.shots = e.shots, c.gametitle = "", c.params.GameID && c.shots.length && (a = (t = c.shots[0]).GAME_DATE, c.gametitle = [t.VTM, " vs ", t.HTM, " - ", a.substr(4, 2), "/", a.substr(6, 2), "/", a.substr(0, 4)].join("")), y(), P()) }).catch(function () { c.isLoadingShots = !1 })) } function y() { var e; (c.hasShots || c.hasVideos) && (c.hasVideos || !c.hasShots ? !c.hasVideos || c.hasShots ? (c.events = c.videos.map(function (t) { var e = c.shots.find(function (e) { return e.GAME_ID === t.gi && e.GAME_EVENT_ID === t.ei }); return angular.extend({}, t, e) }), c.events.length && (c.events[0].isActive = !0), "" !== c.params.GameID && c.events.length && (e = c.events[0], c.splits.GameID.selected.text = e.vtm.abbr + " vs " + e.htm.abbr + " - " + e.date)) : c.events = c.videos : c.events = c.shots) } function P() { var e, t; a.search().title ? c.eventTitle = a.search().title : (e = Object.keys(c.splits).map(function (e) { return c.splits[e] }), t = (e = s("orderBy")(e, "order")).reduce(function (e, t) { var a = "", n = ""; if (!t || !t.selected) return e; var s = t.selected.val === t.default, r = "Season" === t.name || "SeasonType" === t.name, o = c.params.GameID, i = c.params.PlayerID, l = !!t.skipLabel; return s && !r || r && o || i && "TeamID" === t.name || l ? e : ("ContextMeasure" === t.name && (n = " for"), "GameID" === t.name && c.gametitle ? e + ("during " + c.gametitle) + " " : ("Season" === t.name && (a = "during the "), "TeamID" === t.name && (a = "the "), e += a + t.selected.text + n + " ")) }, ""), c.eventTitle = t) } function T(e) { var t = e.gc.substr(11, 3), a = e.gc.substr(14, 3), n = e.gc.substr(0, 10); e.vtm = r.getByAbbr(t), e.htm = r.getByAbbr(a), e.tid && (e.team = r.getById(e.tid)), e.vtmid = e.vtm.id, e.vtmta = e.vtm.abbr, e.htmid = e.htm.id, e.htmta = e.htm.abbr, e.date = s("date")(n, "yyyy-MM-dd"), e.gdate = n } c.flags = { video: 0 < (1 & g), shotchart: 0 < (2 & g), tracking: !1, movement: !1 }, c.$on("$statsTableRowClick", function (e, t, a) { c.events.forEach(function (e) { e.isActive = !1 }) }), c.$on("$statsTableFilter", function (e, t) { c.filteredEvents = t.rows ? t.rows : [] }), c.$on("$statsTableSort", function (e, t) { c.filteredEvents = t.rows ? t.rows : [] }), c.$on("$statsVideoPlayerIndexUpdated", function (e, t) { c.ai.currentIndex = t }), c.$on("customFields", function (e, t) { c.customFields = t }), c.$on("runit", function (e) { v(), S() }), v(), S(), P() } stats.controller("EventsController", e), e.$inject = ["$scope", "$filter", "$location", "PlayersService", "ShotchartService", "SplitsService", "TeamsService", "VideoEventsService"] }(), function () { function e(a, n, e, t, s) { var r, o = s.get("playerVsPlayerStats"), i = e.get([{ name: "Season", initial: o.Season, seasonRange: n.search().range }, { name: "SeasonType", initial: o.SeasonType, without: ["All Star"] }, "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "DateFrom", "DateTo", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames"]); for (r in a.splits = i.splits, a.params = i.params, a.params.MeasureType = "Advanced", a.params.PerMode = "Totals", a.params.PlayerIDList = 0, a.params.VsPlayerIDList = 0, a.showCol = { MIN: { visible: !1, index: 0, label: "MIN", format: "number", invert: !1 }, OFF_RATING: { visible: !1, index: 1, label: "OFF RATING", format: "number", invert: !1 }, DEF_RATING: { visible: !1, index: 2, label: "DEF RATING", format: "number", invert: !0 }, NET_RATING: { visible: !0, index: 3, label: "NET RATING", format: "number", invert: !1 }, AST_PCT: { visible: !1, index: 4, label: "AST %", format: "percent", invert: !1 }, AST_TO: { visible: !1, index: 5, label: "AST TO", format: "number", invert: !1 }, AST_RATIO: { visible: !0, index: 6, label: "AST RATIO", format: "number", invert: !1 }, OREB_PCT: { visible: !1, index: 7, label: "OREB %", format: "percent", invert: !1 }, DREB_PCT: { visible: !1, index: 8, label: "DREB %", format: "percent", invert: !1 }, REB_PCT: { visible: !0, index: 9, label: "REB %", format: "percent", invert: !1 }, TM_TOV_PCT: { visible: !1, index: 10, label: "TO RATIO", format: "percent", invert: !0 }, EFG_PCT: { visible: !0, index: 11, label: "EFG %", format: "percent", invert: !1 }, TS_PCT: { visible: !1, index: 12, label: "TS %", format: "percent", invert: !1 }, USG_PCT: { visible: !1, index: 13, label: "USG %", format: "percent", invert: !1 }, PACE: { visible: !1, index: 14, label: "PACE", format: "number", invert: !1 }, PIE: { visible: !0, index: 15, label: "PIE", format: "percent", invert: !1 } }, a.columns = [], a.showCol) a.showCol[r].name = r, a.columns.push(a.showCol[r]); function l() { t.getStats(a) } a.$on("runit", function (e) { for (var t in n.search().Split = [], a.splits) a.params[t] = a.splits[t].selected.val; l(), n.search() }), a.$watch("compare", function () { var e, t; a.compare.isReady && (e = a.compare.left.lineupIDs, e = JSON.stringify(e).replace("[", "").replace("]", "").replace(/"/g, ""), t = a.compare.right.lineupIDs, t = JSON.stringify(t).replace("[", "").replace("]", "").replace(/"/g, ""), a.params.PlayerIDList = e, a.params.VsPlayerIDList = t, l(), a.splits = i.splits) }, !0) } stats.controller("FantasyComparePlayerAdvancedController", e), e.$inject = ["$scope", "$location", "SplitsService", "VsFantasyCompareService", "SeasonsService"] }(), function () { function e(a, t, e, n, s) { var r, o = n.get("playerVsPlayerStats"), i = s.get(["LeagueID", { name: "Season", initial: o.Season }, { name: "SeasonType", initial: o.SeasonType, without: ["All Star"] }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateFrom", "DateTo"]); for (r in a.splits = i.splits, a.params = i.params, a.params.MeasureType = "Opponent", a.params.PerMode = "Totals", a.params.PlayerIDList = 0, a.params.VsPlayerIDList = 0, a.showCol = { MIN: { visible: !1, index: 0, label: "MIN", format: "number", invert: !1 }, OPP_FGM: { visible: !1, index: 1, label: "OPP FGM", format: "number", invert: !0 }, OPP_FGA: { visible: !1, index: 2, label: "OPP FGA", format: "number", invert: !0 }, OPP_FG_PCT: { visible: !0, index: 3, label: "OPP FG%", format: "percent", invert: !0 }, OPP_FG3M: { visible: !1, index: 4, label: "OPP 3PM", format: "number", invert: !0 }, OPP_FG3A: { visible: !1, index: 5, label: "OPP 3PA", format: "number", invert: !0 }, OPP_FG3_PCT: { visible: !0, index: 6, label: "OPP 3P%", format: "percent", invert: !0 }, OPP_FTM: { visible: !1, index: 7, label: "OPP FTM", format: "number", invert: !0 }, OPP_FTA: { visible: !1, index: 8, label: "OPP FTA", format: "number", invert: !0 }, OPP_FT_PCT: { visible: !0, index: 9, label: "OPP FT%", format: "percent", invert: !0 }, OPP_OREB: { visible: !1, index: 10, label: "OPP OREB", format: "number", invert: !0 }, OPP_DREB: { visible: !1, index: 11, label: "OPP DREB", format: "number", invert: !0 }, OPP_REB: { visible: !0, index: 12, label: "OPP REB", format: "number", invert: !0 }, OPP_AST: { visible: !0, index: 13, label: "OPP AST", format: "number", invert: !0 }, OPP_TOV: { visible: !1, index: 14, label: "OPP TOV", format: "number", invert: !1 }, OPP_STL: { visible: !0, index: 15, label: "OPP STL", format: "number", invert: !0 }, OPP_BLK: { visible: !0, index: 16, label: "OPP BLK", format: "number", invert: !0 }, OPP_PF: { visible: !1, index: 17, label: "OPP PF", format: "number", invert: !0 }, OPP_PTS: { visible: !1, index: 18, label: "OPP PTS", format: "number", invert: !0 } }, a.columns = [], a.showCol) a.showCol[r].name = r, a.columns.push(a.showCol[r]); function l() { e.getStats(a) } a.onrunit = function () { for (var e in t.search().Split = [], a.splits) a.params[e] = a.splits[e].selected.val; l(), t.search() }, a.$watch("compare", function () { var e, t; a.compare.isReady && (e = a.compare.left.lineupIDs, e = JSON.stringify(e).replace("[", "").replace("]", "").replace(/"/g, ""), t = a.compare.right.lineupIDs, t = JSON.stringify(t).replace("[", "").replace("]", "").replace(/"/g, ""), a.params.PlayerIDList = e, a.params.VsPlayerIDList = t, l(), a.splits = i.splits) }, !0) } stats.controller("FantasyCompareOpponentController", e), e.$inject = ["$scope", "$location", "VsFantasyCompareService", "SeasonsService", "SplitsService"] }(), function () { function e(a, n, e, t, s) { var r, o = s.get("playerVsPlayerStats"), i = e.get([{ name: "Season", initial: o.Season, seasonRange: n.search().SeasonRange }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "DateFrom", "DateTo", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames"]); for (r in a.splits = i.splits, a.params = i.params, a.params.MeasureType = "Misc", a.params.SeasonType = "Regular Season", a.params.PerMode = "Totals", a.params.PlayerIDList = 0, a.params.VsPlayerIDList = 0, a.showCol = { MIN: { visible: !1, index: 0, label: "MIN", format: "number", invert: !1 }, PTS_OFF_TOV: { visible: !0, index: 1, label: "PTS OFF TOV", format: "number", invert: !1 }, PTS_2ND_CHANCE: { visible: !0, index: 2, label: "PTS 2ND CHANCE", format: "number", invert: !1 }, PTS_FB: { visible: !0, index: 3, label: "PTS FB", format: "number", invert: !1 }, PTS_PAINT: { visible: !1, index: 4, label: "PTS PAINT", format: "number", invert: !1 }, OPP_PTS_OFF_TOV: { visible: !1, index: 5, label: "OPP PTS OFF TOV", format: "number", invert: !0 }, OPP_PTS_2ND_CHANCE: { visible: !1, index: 6, label: "OPP PTS 2ND CHANCE", format: "number", invert: !0 }, OPP_PTS_FB: { visible: !1, index: 7, label: "OPP PTS FB", format: "number", invert: !0 }, OPP_PTS_PAINT: { visible: !0, index: 8, label: "OPP PTS PAINT", format: "number", invert: !0 }, BLK: { visible: !1, index: 9, label: "BLK", format: "number", invert: !1 }, BLKA: { visible: !1, index: 10, label: "BLKA", format: "number", invert: !0 }, PF: { visible: !1, index: 11, label: "PF", format: "number", invert: !0 }, PFD: { visible: !1, index: 12, label: "PFD", format: "number", invert: !0 } }, a.columns = [], a.showCol) a.showCol[r].name = r, a.columns.push(a.showCol[r]); function l() { t.getStats(a) } a.$on("runit", function (e) { for (var t in n.search().Split = [], a.splits) a.params[t] = a.splits[t].selected.val; l(), n.search() }), a.$watch("compare", function () { var e, t; a.compare.isReady && (e = a.compare.left.lineupIDs, e = JSON.stringify(e).replace("[", "").replace("]", "").replace(/"/g, ""), t = a.compare.right.lineupIDs, t = JSON.stringify(t).replace("[", "").replace("]", "").replace(/"/g, ""), a.params.PlayerIDList = e, a.params.VsPlayerIDList = t, l(), a.splits = i.splits) }, !0) } stats.controller("FantasyComparePlayerMiscController", e), e.$inject = ["$scope", "$location", "SplitsService", "VsFantasyCompareService", "SeasonsService"] }(), function () { function e(a, n, e, t, s) { var r = s.get("playerVsPlayerStats"), o = "Totals" === (o = n.search().PerMode) || "PerGame" === o ? o : "PerGame"; n.search("PerMode", o); var i, l = e.get([{ name: "Season", initial: r.Season, seasonRange: n.search().range }, { name: "SeasonType", initial: r.SeasonType, without: ["All Star"] }, "PerMode", "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "DateFrom", "DateTo", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames"]); for (i in a.splits = l.splits, a.params = l.params, a.params.MeasureType = "Scoring", a.params.PlayerIDList = 0, a.params.VsPlayerIDList = 0, a.showCol = { MIN: { visible: !1, index: 0, label: "MIN", format: "number", invert: !1 }, PCT_FGA_2PT: { visible: !1, index: 1, label: "% FGA 2PT", format: "percent", invert: !1 }, PCT_FGA_3PT: { visible: !1, index: 2, label: "% FGA 3PT", format: "percent", invert: !1 }, PCT_PTS_2PT: { visible: !1, index: 3, label: "% PTS 2PT", format: "percent", invert: !1 }, PCT_PTS_2PT_MR: { visible: !0, index: 4, label: "% PTS 2PT MR", format: "percent", invert: !1 }, PCT_PTS_3PT: { visible: !0, index: 5, label: "% PTS 3PT", format: "percent", invert: !1 }, PCT_PTS_FB: { visible: !0, index: 6, label: "% PTS FB", format: "percent", invert: !1 }, PCT_PTS_FT: { visible: !0, index: 7, label: "% PTS FT", format: "percent", invert: !1 }, PCT_PTS_OFF_TOV: { visible: !1, index: 8, label: "% PTS OFF TOV", format: "percent", invert: !1 }, PCT_PTS_PAINT: { visible: !0, index: 9, label: "% PTS PAINT", format: "percent", invert: !1 }, PCT_AST_2PM: { visible: !1, index: 10, label: "% AST 2PM", format: "percent", invert: !1 }, PCT_UAST_2PM: { visible: !1, index: 11, label: "% UAST 2PM", format: "percent", invert: !1 }, PCT_AST_3PM: { visible: !1, index: 12, label: "% AST 3PM ", format: "percent", invert: !1 }, PCT_UAST_3PM: { visible: !1, index: 13, label: "% UAST 3PM", format: "percent", invert: !1 }, PCT_AST_FGM: { visible: !1, index: 14, label: "% AST FGM", format: "percent", invert: !1 }, PCT_UAST_FGM: { visible: !1, index: 15, label: "% UAST FGM", format: "percent", invert: !1 } }, a.columns = [], a.showCol) a.showCol[i].name = i, a.columns.push(a.showCol[i]); function c() { t.getStats(a) } a.$on("runit", function (e) { for (var t in n.search().Split = [], a.splits) a.params[t] = a.splits[t].selected.val; c(), n.search() }), a.$watch("compare", function () { var e, t; a.compare.isReady && (e = a.compare.left.lineupIDs, e = JSON.stringify(e).replace("[", "").replace("]", "").replace(/"/g, ""), t = a.compare.right.lineupIDs, t = JSON.stringify(t).replace("[", "").replace("]", "").replace(/"/g, ""), a.params.PlayerIDList = e, a.params.VsPlayerIDList = t, c(), a.splits = l.splits) }, !0), a.$on("$locationChangeStart", function () { }) } stats.controller("FantasyComparePlayerScoringController", e), e.$inject = ["$scope", "$location", "SplitsService", "VsFantasyCompareService", "SeasonsService"] }(), function () { function e(a, n, e, t, s) { var r, o = s.get("playerVsPlayerStats"), i = e.get([{ name: "Season", initial: o.Season, seasonRange: n.search().seasonRange }, { name: "SeasonType", initial: o.SeasonType, without: ["All Star"] }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "DateFrom", "DateTo", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames"]); for (r in a.splits = i.splits, a.params = i.params, a.params.MeasureType = "Base", a.params.PlayerIDList = 0, a.params.VsPlayerIDList = 0, a.showCol = { MIN: { visible: !1, index: 0, label: "MIN", format: "number", invert: !1 }, FGM: { visible: !1, index: 1, label: "FGM", format: "number", invert: !1 }, FGA: { visible: !1, index: 2, label: "FGA", format: "number", invert: !1 }, FG_PCT: { visible: !1, index: 3, label: "FG%", format: "percent", invert: !1 }, FG3M: { visible: !1, index: 4, label: "3PM", format: "number", invert: !1 }, FG3A: { visible: !1, index: 5, label: "3PA", format: "number", invert: !1 }, FG3_PCT: { visible: !1, index: 6, label: "3P%", format: "percent", invert: !1 }, FTM: { visible: !1, index: 7, label: "FTM", format: "number", invert: !1 }, FTA: { visible: !1, index: 8, label: "FTA", format: "number", invert: !1 }, FT_PCT: { visible: !1, index: 9, label: "FT%", format: "percent", invert: !1 }, OREB: { visible: !1, index: 10, label: "OREB", format: "number", invert: !1 }, DREB: { visible: !1, index: 11, label: "DREB", format: "number", invert: !1 }, REB: { visible: !0, index: 12, label: "REB", format: "number", invert: !1 }, AST: { visible: !0, index: 13, label: "AST", format: "number", invert: !1 }, TOV: { visible: !1, index: 14, label: "TOV", format: "number", invert: !0 }, STL: { visible: !0, index: 15, label: "STL", format: "number", invert: !1 }, BLK: { visible: !0, index: 16, label: "BLK", format: "number", invert: !1 }, BLKA: { visible: !0, index: 17, label: "BLKA", format: "number", invert: !1 }, PF: { visible: !1, index: 18, label: "PF", format: "number", invert: !1 }, PFD: { visible: !1, index: 19, label: "PFD", format: "number", invert: !1 }, PTS: { visible: !0, index: 20, label: "PTS", format: "number", invert: !1 } }, a.columns = [], a.showCol) a.showCol[r].name = r, a.columns.push(a.showCol[r]); function l() { t.getStats(a) } a.$on("runit", function (e) { for (var t in n.search().Split = [], a.splits) a.params[t] = a.splits[t].selected.val; l(), n.search() }), a.$watch("compare", function () { var e, t; a.compare.isReady && (e = a.compare.left.lineupIDs, e = JSON.stringify(e).replace("[", "").replace("]", "").replace(/"/g, ""), t = a.compare.right.lineupIDs, t = JSON.stringify(t).replace("[", "").replace("]", "").replace(/"/g, ""), a.params.PlayerIDList = e, a.params.VsPlayerIDList = t, l(), a.splits = i.splits) }, !0), a.$on("$locationChangeStart", function () { }) } stats.controller("FantasyCompareBaseController", e), e.$inject = ["$scope", "$location", "SplitsService", "VsFantasyCompareService", "SeasonsService"] }(), function () { function e(o, e, i, n, t, l, c, a, s, r, u) { o.isLoading = !0, o.noHTH = !0, o.limit = 5, o.showPlayersFiltered = !0, o.showPlayers2Filtered = !0; var d = r.get("playerVsPlayerStats"); function p(t) { var a = n.defer(); return s.get(o.params).then(function (e) { o.params.PerMode = "Totals", t.info = e.playerInfo, t.lineup.push(e.playerInfo), o.isLoading = !1, t.team = u.getById(t.info.TEAM_ID), t.type = "lineup", o.params.PlayerID = t.info.PERSON_ID, angular.isUndefined(i.search().vsLineupIDs) && (t.lineupShow = !0), a.resolve(t.lineup), t.lineupChosenParams && 0 !== t.lineupChosenParams.length || o.checkChange(t.info, t) }), a.promise } function m(t) { var a = n.defer(); return s.get(o.params).then(function (e) { o.params.PerMode = "Totals", t.info = e.playerInfo, o.isLoading = !1, t.hasPlayer = !0, t.team = u.getById(t.info.TEAM_ID), t.type = "player", o.params.PlayerID = t.info.PERSON_ID, a.resolve() }), a.promise } o.params = { Season: d.Season, LeagueID: "00", IsOnlyCurrentSeason: "0", SeasonType: "Regular Season", lineupIDs: 0, vsLineupIDs: 0, PlayerID: 0, lineupsPassed: !1 }, o.compare = { isReady: !1, left: { type: "", hasPlayer: !1, hasTeam: !1, hasLineup: !1, isLoading: !0, lineup: [], lineupChosen: [], lineupNamesIDs: [], lineupIDs: [], lineupShow: !1, lineupChosenParams: [], info: {}, checked: 0, tag: "left", opp: "right", showDropdown: !1, showPlayersFiltered: !1, query: "" }, right: { type: "", hasPlayer: !1, hasTeam: !1, hasLineup: !1, isLoading: !0, lineup: [], lineupShow: !1, lineupChosen: [], lineupNamesIDs: [], lineupIDs: [], lineupChosenParams: [], info: {}, checked: 0, tag: "right", opp: "left", showDropdown: !1, showPlayersFiltered: !1, query: "" } }, o.switchSides = function () { var e = o.compare.left; o.compare.left = o.compare.right, o.compare.right = e }, o.setStatType = function (e, t) { t.type = e, t.lineup = [], t.lineupChosen = [], t.lineupChosenParams = [], t.lineupIDs = [], t.lineupNamesIDs = [], t.checked = 0, t.hasTeam = !1, t.hasLineup = !1, t.hasPlayer = !1, o.params.lineupsPassed = !1, o.compare.isReady = !1, o.compare.left.showDropdown = !1, o.compare.right.showDropdown = !1 }, o.setLineup = function (e) { 0 !== e.lineup.length && (e.lineupShow = !1, e.hasLineup = !0, e.isReady = !0, e.type = "lineup") }, o.chooseLineup = function (e, t) { t.lineup = [], p(e), t.lineupShow = !0, t.team = e }, o.checkChange = function (e, t) { t.checked++, t.lineupChosen.length < 5 && (t.lineupChosen.push(e), t.lineupNamesIDs.push({ first_last: e.DISPLAY_FIRST_LAST, id: e.PERSON_ID }), o.params.lineupsPassed || t.lineupIDs.push(e.PERSON_ID)) }, o.onSelect = function (e, t, a, n, s) { o.$item = e, o.$model = t, o.$label = a, o.params.PlayerID = o.$model.id, ("lineup" == n.type ? p : m)(n), n.lineupRoutes = [], n.info = o.$model, n.info.paramID = o.params.PlayerID, n.isReady = !0, n.showPlayersFiltered = !1, angular.element(".input-" + s).focus(), n.query = "" }, o.filterOut = function (n) { return function (e) { var t, a = !1; for (t in n) if (a = e.id === n[t].PERSON_ID) break; return !a } }, o.change = function (e) { var t = "left" === e ? "right" : "left"; o.compare[e].showPlayersFiltered = !0, o.compare[t].showPlayersFiltered = !1 }, o.searchPlayerName = function (t) { return function (e) { return -1 !== (e.fn + " " + e.ln).toLowerCase().indexOf(t.toLowerCase()) } }, o.$watch("compare", function () { var e, t, a, n, s, r; o.compare.left.hasLineup && o.compare.right.hasLineup && (e = o.compare.left.lineupIDs, "object" === _typeof(e) && (e = e.map(function (e, t) { return e }).join(",")), t = o.compare.right.lineupIDs, "object" === _typeof(t) && (t = t.map(function (e, t) { return e }).join(",")), a = o.compare.left.lineupNamesIDs, "object" === _typeof(a) && (a = a.map(function (e, t) { return e.first_last }).join(",")), n = o.compare.right.lineupNamesIDs, "object" === _typeof(n) && (n = n.map(function (e, t) { return e.first_last }).join(",")), o.compare.isReady = !0, l.setSearchURL({ lineupIDs: e, vsLineupIDs: t, PlayerNames: a, VsPlayerNames: n }), o.search = "?" + i.url().split("?")[1], o.$broadcast("onCompareSearch", o.search), s = o.compare.left.lineupNamesIDs.map(function (e) { return e.first_last }).join("|"), r = o.compare.right.lineupNamesIDs.map(function (e) { return e.first_last }).join("|"), c.triggerEvent("fantasyCompareTool", s + "VS" + r)) }, !0), o.$on("$locationChangeStart", function () { var e, t, a, n; if (o.search = "?" + i.url().split("?")[1], o.$broadcast("onCompareSearch", o.search), angular.isUndefined(i.search().vsLineupIDs) || (o.params.lineupsPassed = !0, e = [], e = (e = i.search().lineupIDs).split(","), t = (t = i.search().vsLineupIDs).split(","), a = [], a = (a = i.search().PlayerNames).split(","), n = [], n = (n = i.search().VsPlayerNames).split(","), o.compare.left.lineupNamesIDs = e.map(function (e, t) { return { id: e, first_last: a[t] } }), o.compare.left.type = "lineup", o.compare.left.checked = e.length, o.compare.left.lineupIDs = e, o.compare.left.lineupShow = !1, o.compare.left.lineupChosen = e, o.compare.left.lineupChosenParams = e, o.compare.left.hasLineup = !0, o.compare.right.lineupNamesIDs = t.map(function (e, t) { return { id: e, first_last: n[t] } }), o.compare.right.type = "lineup", o.compare.right.checked = t.length, o.compare.right.lineupIDs = t, o.compare.right.lineupShow = !1, o.compare.right.lineupChosen = t, o.compare.right.lineupChosenParams = t, o.compare.right.hasLineup = !0, o.params.PlayerID = e[0]), !o.compare.isReady) { if (i.search().lineupIDs && i.search().vsLineupIDs) return o.params.lineupIDs = i.search().lineupIDs, o.compare.left.lineupIDs = i.search().lineupIDs, void p(o.compare.left).then(function () { o.compare.right.lineupIDs = i.search().vsLineupIDs, o.params.vsLineupIDs = i.search().vsLineupIDs, p(o.compare.right).then(function () { o.compare.isReady = !0 }) }); if (i.search().PlayerID && i.search().VsPlayerID) return o.params.PlayerID = i.search().PlayerID, void m(o.compare.left).then(function () { o.params.PlayerID = i.search().VsPlayerID, m(o.compare.right).then(function () { o.compare.isReady = !0 }) }) } }), o.pages = [{ value: "/advanced/", text: "Advanced" }, { value: "/misc/", text: "Misc" }, { value: "/scoring/", text: "Scoring" }, { value: "/usage/", text: "Usage" }], o.$emit("onFantasyInfo", {}), o.players = a.get(!0), o.isLoading = !1 } stats.controller("FantasyCompareSummaryController", e), e.$inject = ["$scope", "$filter", "$location", "$q", "$routeParams", "DeepLinksFactory", "DtmService", "PlayersService", "PlayerSummaryService", "SeasonsService", "TeamsService"] }(), function () { function e(a, n, e, t, s) { var r, o = s.get("playerVsPlayerStats"), i = e.get([{ name: "Season", initial: o.Season, seasonRange: n.search().range }, { name: "SeasonType", initial: o.SeasonType, without: ["All Star"] }]); for (r in a.splits = i.splits, a.params = { MeasureType: "Usage", LeagueID: "00", Season: a.splits.Season.selected.val, SeasonType: a.splits.SeasonType.selected.val, PerMode: "Totals", PlusMinus: "N", PaceAdjust: "N", Rank: "N", Outcome: "", Location: "", Month: 0, SeasonSegment: "", OpponentTeamID: 0, VsConference: "", VsDivision: "", GameSegment: "", Period: 0, LastNGames: 0, DateFrom: "", DateTo: "", PlayerIDList: 0, VsPlayerIDList: 0 }, a.showCol = { MIN: { visible: !1, index: 0, label: "MIN", format: "number", invert: !1 }, USG_PCT: { visible: !0, index: 1, label: "USG%", format: "percent", invert: !1 }, PCT_FGM: { visible: !0, index: 2, label: "%FGM", format: "percent", invert: !1 }, PCT_FGA: { visible: !0, index: 3, label: "%FGA", format: "percent", invert: !1 }, PCT_FG3M: { visible: !0, index: 4, label: "%3PM", format: "percent", invert: !1 }, PCT_FG3A: { visible: !0, index: 5, label: "%3PA", format: "percent", invert: !1 }, PCT_FTM: { visible: !0, index: 6, label: "%FTM", format: "percent", invert: !1 }, PCT_FTA: { visible: !1, index: 7, label: "%FTA", format: "percent", invert: !1 }, PCT_OREB: { visible: !1, index: 8, label: "%OREB", format: "percent", invert: !1 }, PCT_DREB: { visible: !1, index: 9, label: "%DREB", format: "percent", invert: !1 }, PCT_REB: { visible: !1, index: 10, label: "%REB", format: "percent", invert: !0 }, PCT_AST: { visible: !1, index: 11, label: "%AST", format: "percent", invert: !1 }, PCT_TOV: { visible: !1, index: 12, label: "%TOV", format: "percent", invert: !1 }, PCT_STL: { visible: !1, index: 13, label: "%STL", format: "percent", invert: !1 }, PCT_BLK: { visible: !1, index: 14, label: "%BLK", format: "percent", invert: !1 }, PCT_BLKA: { visible: !1, index: 15, label: "%BLKA", format: "percent", invert: !1 }, PCT_PF: { visible: !1, index: 15, label: "%PF", format: "percent", invert: !1 }, PCT_PFD: { visible: !1, index: 15, label: "%PFD", format: "percent", invert: !1 }, PCT_PTS: { visible: !1, index: 15, label: "%PTS", format: "percent", invert: !1 } }, a.columns = [], a.showCol) a.showCol[r].name = r, a.columns.push(a.showCol[r]); function l() { t.getStats(a) } a.$on("runit", function (e) { for (var t in n.search().Split = [], a.splits) a.params[t] = a.splits[t].selected.val; l(), n.search() }), a.$watch("compare", function () { var e, t; a.compare.isReady && (e = a.compare.left.lineupIDs, e = JSON.stringify(e).replace("[", "").replace("]", "").replace(/"/g, ""), t = a.compare.right.lineupIDs, t = JSON.stringify(t).replace("[", "").replace("]", "").replace(/"/g, ""), a.params.PlayerIDList = e, a.params.VsPlayerIDList = t, l(), a.splits = i.splits) }, !0) } stats.controller("FantasyCompareUsageController", e), e.$inject = ["$scope", "$location", "SplitsService", "VsFantasyCompareService", "SeasonsService"] }(), function () { function e(e, t, a) { "https:" == a.location.protocol ? e.draftUrl = t.trustAsResourceUrl("https://dwnba.fantasypros.com/n/") : e.draftUrl = t.trustAsResourceUrl("http://dwnba.fantasypros.com/n/") } stats.controller("FantasyDraftCtrl", e), e.$inject = ["$scope", "$sce", "$window"] }(), function () { function e(a, e, t, n, s, r) { var o = r.get("finals"); a.isLoaded = !1, a.hasData = !1, a.season = t.search().Season || o.SeasonYear, s.get(a.season).then(function (e) { a.isLoaded = !0, a.hasData = !0, a.games = e; var t = "Finals Infographic " + a.season; e.length && e[0].name && (t = t + " " + e[0].name), n.triggerEvent("viewInfographic", t) }).catch(function (e) { a.isLoaded = !0, a.hasData = !1, a.games = [] }) } stats.controller("FinalsController", e), e.$inject = ["$scope", "$filter", "$location", "DtmService", "FinalsInfographicService", "SeasonsService"] }(), function () { function e(n, e, a, s, t, r, o, i, l, c, u, d, p) { var m, f, h, g = !1, v = { advanced: r, "four-factors": o, misc: i, tracking: l, scoring: c, traditional: u, usage: d }, S = v[e.data("section")] || v.traditional, y = p.get([{ name: "bench", default: "Y", initial: "Y", type: "toggle", label: "Show Bench", val: { true: "Y", false: "N" } }]); n.splits = y.splits, n.setPeriod = function (e) { var t = { RangeType: e.RangeType, StartRange: e.startTime, EndRange: e.endTime }; n.params = angular.extend({}, n.params, t), s.search("RangeType", e.RangeType), s.search("StartRange", e.startTime), s.search("EndRange", e.endTime), D() }; var P = s.search().StartRange || 0, T = s.search().EndRange || 28800; function D() { n.isLoading = !0; var t = n.params.bench; delete n.params.bench, S.get(n.params, f, m).then(function (e) { n.isLoading = !1, "N" === t && (e[m].datatable = e[m].datatable.filter(b), e[f].datatable = e[f].datatable.filter(b)), n.linescores = { vtm: e[m], htm: e[f] }, n.teamTitles = { vtm: e[m].datafooter.TEAM_CITY + " " + e[m].datafooter.TEAM_NAME, htm: e[f].datafooter.TEAM_CITY + " " + e[f].datafooter.TEAM_NAME }, g = !0, n.noData = 0 === e[m].datatable.length || 0 === e[f].datatable.length, n.isAllStarGame = "All Star" === n.params.SeasonType && 20 == +n.params.Season.slice(-2) }) } function b(e) { return "" !== e.START_POSITION } function x(e) { var t, a = n.slider; g && (a.minValue === a.options.floor && a.maxValue === a.options.ceil ? (s.search("StartRange", null), s.search("EndRange", null)) : (s.search("StartRange", a.minValue), s.search("EndRange", a.maxValue), s.search("RangeType", 2), t = { RangeType: 2, StartRange: a.minValue, EndRange: a.maxValue }, n.params = angular.extend({}, n.params, t))) } n.slider = { minValue: P, maxValue: T, options: { floor: 0, ceil: 28800, showTicksValues: !1, noSwitching: !1, draggableRange: !0, translate: function (e) { return a("countdownClock")(e) } } }, n.$watch("slider", x, !0), n.$watch("boxscore", function (e) { if (!e || e.isLive) return; n.slider.options.ceil = n.boxscore.periods.max || n.slider.options.ceil, n.slider.maxValue = void 0 === s.search().EndRange ? n.slider.options.ceil : n.slider.maxValue, h = e.summary.GAME_ID, f = e.teamInfo.htm.id, m = e.teamInfo.vtm.id, n.periods = e.periods.ps.slice(0), n.selectedPeriod = n.periods.find(function (e) { return s.search().StartRange == e.startTime && s.search().EndRange == e.endTime }), n.selectedPeriod || (n.selectedPeriod = n.periods[0]); var t = a("gameIdToObject")(h); n.slider.showSlider = 1996 <= t.seasonyear, n.params = { GameID: h, Season: t.Season, SeasonType: t.SeasonType, RangeType: s.search().RangeType || 0, StartPeriod: s.search().StartPeriod || 1, EndPeriod: s.search().EndPeriod || 10, StartRange: s.search().StartRange || n.selectedPeriod.startTime, EndRange: s.search().EndRange || n.selectedPeriod.endTime, bench: n.splits.bench.selected.val }, n.ai = angular.extend(n.ai, { gamedate: e.gameInfo.GAME_DATE, gamename: e.teams.vtm.TEAM_CITY_NAME + " " + e.teams.vtm.TEAM_NICKNAME + " @ " + e.teams.htm.TEAM_CITY_NAME + " " + e.teams.htm.TEAM_NICKNAME }), D() }), n.$watch("showSplits", function () { t(function () { n.$broadcast("rzSliderForceRender") }) }, !0), n.$on("runit", function (e) { x(n.slider), D() }) } stats.controller("GameBoxscoreController", e), e.$inject = ["$scope", "$element", "$filter", "$location", "$timeout", "BoxscoreAdvancedService", "BoxscoreFourFactorsService", "BoxscoreMiscService", "BoxscorePlayerTrackingService", "BoxscoreScoringService", "BoxscoreTraditionalService", "BoxscoreUsageService", "SplitsService"] }(), function () { function e(t, a, e, n, s) { var r, o, i; t.$watch("boxscore", function (e) { if (!e) return; i = e.summary.GAME_ID, o = e.teamInfo.htm.id, r = e.teamInfo.vtm.id, t.params = { GameID: i }, t.isLoading = !0, n.get(t.params, o, r).then(function (e) { t.isLoading = !1, t.noData = !e.PlayerDefensiveStats || !e.PlayerDefensiveStats.rows.length, t.noData || (e.PlayerDefensiveStats.rows.forEach(function (e) { e.SECONDS = a("minutesToSeconds")(e.MIN) }), t.linescores = { vtm: a("filter")(e.PlayerDefensiveStats.rows, { TEAM_ID: r }), htm: a("filter")(e.PlayerDefensiveStats.rows, { TEAM_ID: o }) }, t.teamTitles = { vtm: t.linescores.vtm[0].TEAM_CITY + " " + (t.linescores.vtm[0].TEAM_NICKNAME || ""), htm: t.linescores.htm[0].TEAM_CITY + " " + (t.linescores.htm[0].TEAM_NICKNAME || "") }) }) }) } stats.controller("GameDefenseStatsController", e), e.$inject = ["$scope", "$filter", "$location", "BoxscoreDefenseService", "SplitsService"] }(), function () { function e(n, s, r, o, i, e, l) { function c(e) { return e } function u(e) { return "" !== e.START_POSITION } function d(e) { return "" === e.START_POSITION } function p(e, t) { return t.FAN_DUEL_PTS - e.FAN_DUEL_PTS } function m(e, t) { var a, n, s, r = "PTS REB AST STL BLK TO FGA FGM FG3A FG3M FTA FTM".split(" "), o = "PTS REB AST STL BLK TOV FG% 3P% FT%".split(" "), i = ["vtm", "htm"], l = { vtm: e, htm: t }, c = [], u = {}; for (a in i) for (var d in u[n = i[a]] = {}, r) { var p, m = r[d]; for (p in u[n][m] = 0, l[n]) { var f = l[n][p]; u[n][m] += f[m] || 0 } } for (a in i) u[n = i[a]].TOV = u[n].TO, u[n]["FG%"] = u[n].FGM / u[n].FGA * 100, u[n]["3P%"] = u[n].FG3M / u[n].FG3A * 100, u[n]["FT%"] = u[n].FTM / u[n].FTA * 100; for (s in o) { var h = o[s], g = { label: h }; for (a in i) g[n = i[a]] = u[n][h]; c.push(g) } return c } n.noData = !1, n.hasFanduel = !1, n.hasBoxscore = !1, n.hasLinescore = !1, n.hasGameflow = !1, n.$watch("boxscore", function (e) { var t, a; e && (n.hasBoxscore = !0, n.imgSeason = n.boxscore.season.substr(0, 4), n.GameID = e.summary.GAME_ID, n.vtm = angular.extend({}, n.boxscore.teamInfo.vtm), n.htm = angular.extend({}, n.boxscore.teamInfo.htm), n.pitpStats = { label: "PTS IN THE PAINT", vtm: angular.extend({}, n.boxscore.teamInfo.vtm, { value: n.boxscore.teams.vtm.otherStats.PTS_PAINT }), htm: angular.extend({}, n.boxscore.teamInfo.htm, { value: n.boxscore.teams.htm.otherStats.PTS_PAINT }) }, n.scStats = { label: "SECOND CHANCE PTS", vtm: angular.extend({}, n.boxscore.teamInfo.vtm, { value: n.boxscore.teams.vtm.otherStats.PTS_2ND_CHANCE }), htm: angular.extend({}, n.boxscore.teamInfo.htm, { value: n.boxscore.teams.htm.otherStats.PTS_2ND_CHANCE }) }, n.fbStats = { label: "FASTBREAK PTS", vtm: angular.extend({}, n.boxscore.teamInfo.vtm, { value: n.boxscore.teams.vtm.otherStats.PTS_FB }), htm: angular.extend({}, n.boxscore.teamInfo.htm, { value: n.boxscore.teams.htm.otherStats.PTS_FB }) }, t = s("gameIdToObject")(n.GameID), n.params = { GameID: n.GameID, SeasonType: t.SeasonType, Season: t.Season, RangeType: 0, StartPeriod: 1, EndPeriod: 10, StartRange: 0, EndRange: 1e4 }, n.isLoading = !0, n.hasLinescore = !1, r.get(n.params).then(function (e) { n.hasLinescore = !0, n.linescores = { vtm: e[n.boxscore.summary.VISITOR_TEAM_ID], htm: e[n.boxscore.summary.HOME_TEAM_ID] }, n.vtm.players = n.linescores.vtm.datatable.map(c), n.vtm.starters = s("filter")(n.linescores.vtm.datatable, u), n.vtm.bench = s("filter")(n.linescores.vtm.datatable, d), n.vtm.linescore = n.linescores.vtm.datafooter[0], n.htm.players = n.linescores.htm.datatable.map(c), n.htm.starters = s("filter")(n.linescores.htm.datatable, u), n.htm.bench = s("filter")(n.linescores.htm.datatable, d), n.htm.linescore = n.linescores.htm.datafooter[0], n.starterStats = m(n.vtm.starters, n.htm.starters), n.benchStats = m(n.vtm.bench, n.htm.bench), n.teamStats = m(n.vtm.players, n.htm.players), n.playerStatsBasic = { vtm: angular.extend({}, n.boxscore.teamInfo.vtm, { players: n.linescores.vtm.datatable }), htm: angular.extend({}, n.boxscore.teamInfo.htm, { players: n.linescores.htm.datatable }) } }), function () { n.hasGameflow = !1; var e = { GameID: n.GameID, RunType: "each second" }; o.get(e).then(function (e) { n.hasGameflow = !0, n.summary = e, n.summary.otherStats = { vtm: n.boxscore.teams.vtm.otherStats, htm: n.boxscore.teams.htm.otherStats }; var t = l.getById(n.boxscore.summary.VISITOR_TEAM_ID), a = l.getById(n.boxscore.summary.HOME_TEAM_ID); n.summary.colors = { vtm: t.color, htm: a.color } }) }(), a = { GameID: n.GameID }, n.hasFanduel = !1, i.get(a).then(function (e) { var t = e[0].rows; n.hasFanduel = 0 < t.length, n.vtm.fanduelPlayers = s("filter")(t, { TEAM_ID: n.vtm.id }), n.htm.fanduelPlayers = s("filter")(t, { TEAM_ID: n.htm.id }), n.vtm.fanduelLeader = n.vtm.fanduelPlayers.sort(p)[0], n.htm.fanduelLeader = n.htm.fanduelPlayers.sort(p)[0], n.fanduelStats = { vtm: { player: n.vtm.fanduelLeader, team: n.vtm }, htm: { player: n.htm.fanduelLeader, team: n.htm } } })) }) } stats.controller("GameGameChartsController", e), e.$inject = ["$scope", "$filter", "BoxscoreTraditionalService", "BoxscoreWinProbabilityService", "BoxscoreFanduelStatsService", "PlayersService", "TeamsService"] }(), function () { function e(a, e, t, n, s) { var r, o, i, l = s.get([{ name: "bench", default: "Y", initial: "Y", type: "toggle", label: "Show Bench", val: { true: "Y", false: "N" } }]); function c() { a.isLoading = !0, a.ai = {}; var t = a.params.bench; delete a.params.bench, n.get(a.params, o, r).then(function (e) { a.isLoading = !1, a.ai.seasoncode = +a.params.GameID.substr(2, 3), "N" === t && (e[r].datatable = e[r].datatable.filter(u), e[o].datatable = e[o].datatable.filter(u)), a.linescores = { vtm: e[r], htm: e[o] }, a.teamTitles = { vtm: e[r].datafooter.TEAM_CITY + " " + e[r].datafooter.TEAM_NAME, htm: e[o].datafooter.TEAM_CITY + " " + e[o].datafooter.TEAM_NAME }, a.noData = 0 === e[r].datatable.length || 0 === e[o].datatable.length }) } function u(e) { return "" !== e.START_POSITION } a.splits = l.splits, a.$watch("boxscore", function (e) { if (!e) return; i = e.summary.GAME_ID, o = e.teamInfo.htm.id, r = e.teamInfo.vtm.id, a.params = { GameID: i, bench: a.splits.bench.selected.val }, c() }), a.$on("runit", function (e) { c() }) } stats.controller("GameHustleStatsController", e), e.$inject = ["$scope", "$filter", "$location", "BoxscoreHustleService", "SplitsService"] }(), function () { function e(n, a, s, t, e) { var r, o, i, l, c; function u() { var e = n.selectedPlayerOff ? n.selectedPlayerOff.OFF_PLAYER_ID : "", t = n.selectedPlayerDef ? n.selectedPlayerDef.DEF_PLAYER_ID : ""; s.search("OFF_PLAYER_ID", e), s.search("DEF_PLAYER_ID", t), n.matchups = a("filter")(n.allPlayers, { DEF_PLAYER_ID: t, OFF_PLAYER_ID: e }) } n.$watch("boxscore", function (e) { if (!e) return; i = e.summary.GAME_ID, o = e.teamInfo.htm.id, r = e.teamInfo.vtm.id, l = s.search().OFF_PLAYER_ID || "", c = s.search().DEF_PLAYER_ID || "", n.params = { GameID: i }, n.isLoading = !0, t.get(n.params, o, r).then(function (e) { var t; n.isLoading = !1, n.noData = !e.PlayerMatchupsStats || !e.PlayerMatchupsStats.rows.length, n.noData || (e.PlayerMatchupsStats.rows.forEach(function (e) { e.SECONDS = a("minutesToSeconds")(e.MIN) }), n.allPlayers = e.PlayerMatchupsStats.rows, n.defensivePlayers = a("uniqueKey")(n.allPlayers, "DEF_PLAYER_ID"), n.offensivePlayers = a("uniqueKey")(n.allPlayers, "OFF_PLAYER_ID"), t = { OFF_PLAYER_NAME: "All Players", OFF_PLAYER_ID: "", OFF_TEAM_ABBREVIATION: "All", DEF_PLAYER_NAME: "All Players", DEF_PLAYER_ID: "", DEF_TEAM_ABBREVIATION: "All" }, n.offensivePlayers.unshift(t), n.defensivePlayers.unshift(t), n.selectedPlayerOff = n.offensivePlayers.find(function (e) { return +e.OFF_PLAYER_ID == +l }), n.selectedPlayerDef = n.defensivePlayers.find(function (e) { return +e.DEF_PLAYER_ID == +c }), n.selectedPlayerOff || (n.selectedPlayerOff = n.offensivePlayers[0]), n.selectedPlayerDef || (n.selectedPlayerDef = n.defensivePlayers[0]), n.matchups = a("filter")(n.allPlayers, { DEF_PLAYER_ID: n.selectedPlayerDef.DEF_PLAYER_ID, OFF_PLAYER_ID: n.selectedPlayerOff.OFF_PLAYER_ID })) }) }), n.setPlayer = u, n.swapSides = function (e) { e.preventDefault(); var t = n.selectedPlayerOff.OFF_PLAYER_ID, a = n.selectedPlayerDef.DEF_PLAYER_ID; n.selectedPlayerOff = n.offensivePlayers.find(function (e) { return e.OFF_PLAYER_ID === a }), n.selectedPlayerDef = n.defensivePlayers.find(function (e) { return e.DEF_PLAYER_ID === t }), n.selectedPlayerOff || (n.selectedPlayerOff = n.offensivePlayers[0]); n.selectedPlayerDef || (n.selectedPlayerDef = n.defensivePlayers[0]); u() }, n.selectedPlayerOff = {}, n.selectedPlayerDef = {}, n.offensivePlayers = [], n.defensivePlayers = [] } stats.controller("GameMatchupController", e), e.$inject = ["$scope", "$filter", "$location", "BoxscoreMatchupService", "SplitsService"] }(), function () { function e(i, e, l, t, a, n, s) { var r = l("range")(1, 14); i.hasData = !1, i.isLoaded = !1, i.setPeriod = function (e) { var t = angular.element("#qtr" + e); t.length && $("html, body").animate({ scrollTop: t.offset().top - 50 }, 250) }, i.pbpPeriods = {}, i.$watch("boxscore", function (e) { if (i.isLoaded = !0, e) { var t = e.summary.GAME_ID, a = l("gameIdToObject")(t); if (i.isNewLink = 2013 < l("seasonToSeasonYear")(a.Season), i.hideVideoIcon = +a.Season.substring(0, 4) < 2015, i.params = { GameID: t, SeasonType: a.SeasonType, Season: a.Season, RangeType: 2, StartPeriod: 1, EndPeriod: 10, StartRange: 0, EndRange: 55800 }, i.av = e.av, i.vtm = e.teamInfo.vtm, i.htm = e.teamInfo.htm, e.isLive) return i.periods = r.slice(0, e.game.p), i.hasData = e.plays && e.plays.length, i.isLoaded = !1, void s.get(i.params.GameID, i.params).then(function (o) { i.plays = o.map(function (e, t) { var a = {}, n = 0 === t ? 0 : t === o.length - 1 ? o.length - 1 : t - 1; a.homeScore = e.hs, a.visitorScore = e.vs; var s = a.homeScore + a.visitorScore !== o[n].hs + o[n].vs, r = e.tid == i.htm.id; return angular.extend({}, e, { PERIOD: e.p, SCORE: s ? a.visitorScore + " - " + a.homeScore : null, GAME_ID: i.params.GameID, EVENTMSGTYPE: e.etype, EVENTNUM: e.evt, PCTIMESTRING: e.cl, HOMEDESCRIPTION: r ? l("eventDesc")(e.de) : null, VISITORDESCRIPTION: r ? null : l("eventDesc")(e.de) }) }), i.hasData = o && o.length, i.isLoaded = !0; var e = i.plays.slice(-1)[0].PERIOD; i.periods = r.slice(0, e) }).catch(function (e) { i.plays = [], i.hasData = !1, i.isLoaded = !0 }); i.ai = { gamedate: e.gameInfo.GAME_DATE, gamename: e.teams.vtm.TEAM_CITY_NAME + " " + e.teams.vtm.TEAM_NICKNAME + " @ " + e.teams.htm.TEAM_CITY_NAME + " " + e.teams.htm.TEAM_NICKNAME }, e.isLive || (i.isLoaded = !1, n.get(i.params).then(function (e) { i.plays = e, i.hasData = e && e.length, i.isLoaded = !0; var t = e.slice(-1)[0].PERIOD; i.periods = r.slice(0, t) }).catch(function (e) { i.plays = [], i.hasData = !1, i.isLoaded = !0 })) } }), i.scrollTop = function () { t.hash(""), e() } } stats.controller("GamePlayByPlayController", e), e.$inject = ["$scope", "$anchorScroll", "$filter", "$location", "$window", "BoxscorePlayByPlayService", "MobilePlayByPlayService"] }(), function () { function e(_, M, e, t, a, n, s, $, r) { _.$watch("boxscore", function (e, t, a) { if (!e) return; _.params.GameID = e.summary.GAME_ID, _.boxscore = e, _.vls = e.vls, _.hls = e.hls, i(_.boxscore), _.$on("runit", function (e) { i(_.boxscore) }) }); var o = s.get([{ name: "RotationStat", label: "View Stats", default: "PLAYER_PTS", inital: "PLAYER_PTS", type: "select", options: [{ val: "PLAYER_PTS", text: M("statFieldToText")("PLAYER_PTS") }, { val: "PT_DIFF", text: M("statFieldToText")("PLUS/MINUS") }, { val: "USG_PCT", text: M("statFieldToText")("USG_PCT") }] }, "LeagueID"]); function i(A) { _.isLoading = !0, d3.selectAll("svg").remove(), t.get(_.params).then(function (e) { _.isLoading = !1, _.rotations = e; A.periods.ps[1].endTime, A.periods.ps[0].startTime; var t = A.periods.ps[0].endTime, s = A.periods.ps.slice(1, -2), n = 0, a = _.rotations.AwayTeam.rows.sort(l).concat(_.rotations.HomeTeam.rows.sort(l)) || [], r = _.rotations.AwayTeam.rows.sort(l), o = _.rotations.HomeTeam.rows.sort(l); _.vls && _.hls ? _.teamScores = { home: _.hls, away: _.vls } : _.teamScores = { home: { s: o.reduce(function (e, t) { return e + t.PLAYER_PTS }, 0), q1: A.teams.htm.linescore.PTS_QTR1, q2: A.teams.htm.linescore.PTS_QTR2, q3: A.teams.htm.linescore.PTS_QTR3, q4: A.teams.htm.linescore.PTS_QTR4, ot1: A.teams.htm.linescore.PTS_OT1, ot2: A.teams.htm.linescore.PTS_OT2, ot3: A.teams.htm.linescore.PTS_OT3, ot4: A.teams.htm.linescore.PTS_OT4, ot5: A.teams.htm.linescore.PTS_OT5 }, away: { s: r.reduce(function (e, t) { return e + t.PLAYER_PTS }, 0), q1: A.teams.vtm.linescore.PTS_QTR1, q2: A.teams.vtm.linescore.PTS_QTR2, q3: A.teams.vtm.linescore.PTS_QTR3, q4: A.teams.vtm.linescore.PTS_QTR4, ot1: A.teams.vtm.linescore.PTS_OT1, ot2: A.teams.vtm.linescore.PTS_OT2, ot3: A.teams.vtm.linescore.PTS_OT3, ot4: A.teams.vtm.linescore.PTS_OT4, ot5: A.teams.vtm.linescore.PTS_OT5 } }; var i = $.get().reduce(function (e, t) { return e[t.id] = t, e }, {}); function l(e, t) { return e.IN_TIME_REAL - t.IN_TIME_REAL } var c = d3.nest().key(function (e) { return e.PERSON_ID }).entries(a), u = d3.nest().key(function (e) { return e.TEAM_NAME }).key(function (e) { return e.PERSON_ID }).entries(a), d = Object.keys(c).length + 6, p = { top: 10, right: 125, bottom: 10, left: 125 }, m = 18, f = document.querySelector(".game-rotations").offsetWidth - 200, h = m * d + 50, g = _.splits.RotationStat.selected.val, v = d3.scaleLinear().range([0, f]).domain([0, t]), S = a.sort(function (e, t) { return e.PLAYER_PTS - t.PLAYER_PTS }), y = [S[0].PLAYER_PTS, 10 * Math.ceil(S[S.length - 1].PLAYER_PTS / 10)], P = a.sort(function (e, t) { return e.PT_DIFF - t.PT_DIFF }), T = [P[0].PT_DIFF, 10 * Math.ceil(P[P.length - 1].PT_DIFF / 10)], D = a.sort(function (e, t) { return e.USG_PCT - t.USG_PCT }), b = { PT_DIFF: T, PLAYER_PTS: y, USG_PCT: [D[0].USG_PCT, D[D.length - 1].USG_PCT] }; function x(e) { return i[e] ? i[e].color : "#666" } var I = d3.select(".rotations-chart").append("svg").attr("width", function (e) { return f + p.left + p.right }).attr("height", h + p.top + p.bottom + 50 * u.length + 30).attr("class", "rotations-chart_container"); I.append("rect").attr("width", "100%").attr("height", "100%").attr("fill", "#fff"); var C = { startTime: t, text: "FINAL" }, w = s.concat(C).filter(function (e) { return 0 != e.lp }); function L(e) { var t = e.append("g").attr("class", function (e) { return "".concat(e.key.toLowerCase(), "-players") }).selectAll(".row.teams-row").data(function (e) { return e.values }).enter().append("g").attr("class", "row player-row").attr("transform", function (e, t) { return "translate(-1, ".concat(t * m, ")") }).attr("data-pid", function (e) { return e.values[0].PERSON_ID }).attr("data-team", function (e, t) { return e.values[0].TEAM_ID }); t.append("text").attr("x", p.left - 2).attr("text-anchor", "end").attr("font-family", "Roboto, sans-serif").attr("font-size", 12).attr("font-weight", function (e, t) { return 0 === e.values[0].IN_TIME_REAL ? "bold" : "normal" }).text(function (e) { return e.values[0].PLAYER_FIRST.slice(0, 1) + ". " + e.values[0].PLAYER_LAST }); var a = t.selectAll(".session").data(function (e) { return e.values }).enter().append("g"); a.append("line").attr("stroke", function (e) { return x(e.TEAM_ID) }).attr("x1", function (e) { return v(e.IN_TIME_REAL) + p.left + 1 }).attr("y1", -13).attr("x2", function (e) { return v(e.IN_TIME_REAL) + p.left + 1 }).attr("y2", 5).attr("stroke-width", n), a.append("line").attr("stroke", function (e) { return x(e.TEAM_ID) }).attr("x1", function (e) { return v(e.OUT_TIME_REAL) + p.left + 1 }).attr("y1", -13).attr("x2", function (e) { return v(e.OUT_TIME_REAL) + p.left + 1 }).attr("y2", 5).attr("stroke-width", n), a.append("rect").attr("class", "session session-rotations").attr("x", function (e) { return v(e.IN_TIME_REAL) + p.left + 3.5 }).attr("y", -13).attr("width", function (e) { return v(e.OUT_TIME_REAL) - v(e.IN_TIME_REAL) - 2 }).attr("height", m).attr("rx", 0).attr("fill", function (e) { var t, a, n, s, r = e[g]; return (t = e.TEAM_ID, a = g, n = x(t), s = b[a], d3.scaleLinear().domain(s).range(["#eee", n]))(r) }).append("title").text(function (e) { var t = "USG_PCT" === g ? "".concat(M("percent")(e[g]), " ").concat(M("statFieldToText")(g), " in ").concat((e.OUT_TIME_REAL - e.IN_TIME_REAL) / 600 | "decimalTime", " min") : "PT_DIFF" === g ? "".concat(e[g], " Plus/Minus in ").concat((e.OUT_TIME_REAL - e.IN_TIME_REAL) / 600 | "decimalTime", " min") : "".concat(e[g], " ").concat(M("statFieldToText")(g), " in ").concat((e.OUT_TIME_REAL - e.IN_TIME_REAL) / 600 | "decimalTime", " min"); return t }).transition().duration(100) } I.append("g").attr("class", "x-axis").attr("transform", "translate(".concat(p.left, ", ").concat(h - p.bottom, ")")).call(d3.axisBottom(v).tickSizeOuter(0).tickSize(-h + p.top + p.bottom + 50).tickValues(w.map(function (e) { return e.startTime }))).call(function (e) { return e.select(".domain").remove() }), I.selectAll("text").data(w).text(function (e) { return e.text }).attr("font-family", "Roboto, sans-serif").attr("text-anchor", "start"), I.append("g").attr("class", "chart").attr("transform", "translate(0, ".concat(h - m * (d - 3), ")")).selectAll("g.row").data(u).enter().append("g").call(function (e) { e.append("text").attr("dy", -20).attr("dx", -5).attr("text-anchor", "end").attr("font-weight", 800).attr("font-size", 14).attr("font-family", "Roboto, sans-serif").attr("fill", function (e) { return x(e.values[0].values[0].TEAM_ID) }).attr("x", p.left).text(function (e, t) { 0 === t ? _.teamScores.away.s : _.teamScores.home.s; return "".concat(e.key) }), e.attr("class", function (e) { return "row teams-row teams-row-".concat(e.key.toLowerCase()) }).attr("transform", function (e, t) { return "translate(-1, ".concat(1 <= t ? t * m * u[0].values.length + 52 : t * m * u[0].values.length, ")") }).call(L), e.append("g").attr("class", function (e) { return "".concat(e.key.toLowerCase(), "-score") }).attr("transform", function (e) { return "translate(".concat(p.left, ", -18)") }).attr("width", f).attr("fill", "black").selectAll(".row.teams-score").data(function (e, t, a) { var n = w.slice(0, -1).map(function (e, t, a) { return angular.extend({}, e, { away: _.teamScores.away[e.text.toLowerCase()], TEAM_ID: u[0].values[0].values[0].TEAM_ID }) }), s = w.slice(0, -1).map(function (e) { return angular.extend({}, e, { home: _.teamScores.home[e.text.toLowerCase()], TEAM_ID: u[1].values[0].values[0].TEAM_ID }) }).map(function (e, t, a) { if (0 === t) return e; var n = a[t - 1].home; return e.home = e.home + n, e }), r = n.map(function (e, t, a) { if (0 === t) return e; var n = a[t - 1].away; return e.away = e.away + n, e }); return 1 <= t ? s : r }).enter().append("g").attr("class", function (e) { return "row team-row-score-".concat(e.text) }).attr("transform", function (e, t, a) { var n = v(e.endTime) || 0; return "translate(".concat(n, ", 0)") }).attr("width", function (e, t) { return "".concat(f / s.length * t + p.left) }).attr("height", m).append("text").text(function (e, t, a) { return e.home ? e.home : e.away }).attr("font-size", 14).attr("font-weight", 800).attr("text-anchor", "end").attr("font-family", "Roboto, sans-serif").attr("dy", -2).attr("fill", function (e) { return x([e.TEAM_ID]) }).attr("width", function (e, t) { return "".concat(f / s.length * t + p.left) }) }), I.selectAll("g.view-stat").data([g]).enter().append("text").attr("x", 0).attr("y", 0).attr("dx", 5).attr("dy", 30).attr("transform", function (e, t) { var a = p.left, n = d * m + 50 + p.top; return "translate(".concat(a, ", ").concat(n, ")") }).attr("text-anchor", "start").attr("font-weight", 800).attr("font-family", "Roboto, sans-serif").attr("font-size", 12).text(function (e) { var t = g.split("_").join(" "); return "USG PCT" === t ? "USG %" : "PT DIFF" === t ? "Plus/Minus" : "".concat(t) }), I.append("g").attr("class", "legend").attr("height", 50).attr("width", f / s.length).attr("transform", function (e) { return "translate(0, ".concat(m * d + 50 * u.length, ")") }).selectAll(".legend").data(u).enter().call(function (e) { var t = e.append("g").attr("class", function (e) { return "".concat(e.key.toLowerCase(), "-legend") }).attr("transform", function (e, t) { return 1 <= t ? "translate(".concat(p.left, ", ").concat(t * m + 0, ")") : "translate(".concat(p.left, ", 0 )") }).append("g").attr("class", function (e) { return "".concat(e.key.toLowerCase(), "-legend-block") }), a = t.append("defs").append("linearGradient").attr("id", "svgGradient0").attr("x1", "0%").attr("x2", "85%"); a.append("stop").attr("class", "start").attr("offset", "0%").attr("stop-color", "#eeeaea").attr("stop-opacity", 1), a.append("stop").attr("class", "end").attr("offset", "100%").attr("stop-color", function (e, t) { return x(u[0].values[0].values[0].TEAM_ID) }).attr("stop-opacity", 1); var n = t.append("defs").append("linearGradient").attr("id", "svgGradient1").attr("x1", "0%").attr("x2", "85%"); n.append("stop").attr("class", "start").attr("offset", "0%").attr("stop-color", "#eeeaea").attr("stop-opacity", 1), n.append("stop").attr("class", "end").attr("offset", "100%").attr("stop-color", function (e, t) { return x(u[1].values[0].values[0].TEAM_ID) }).attr("stop-opacity", 1), t.append("rect").attr("class", "legend-block").attr("x", 0).attr("y", 0).attr("height", 18).attr("width", function (e) { return "".concat(f / s.length) }).attr("transform", function (e) { return "translate(0, 0)" }).attr("fill", function (e, t) { d3.scaleLinear().domain(b[g]).range(["white", x(e.values[0].values[0].TEAM_ID)]); return "url(#svgGradient".concat(t, ")") }), t.selectAll("text.legend-block-copy").data(function (e) { return "USG_PCT" === g ? b[g].map(function (e) { return M("percent")(e) }) : b[g] }).enter().append("text").text(function (e) { return "PLAYER_PTS" === g && +e < 0 ? 0 : e }).attr("x", 0).attr("y", 0).attr("text-anchor", function (e, t) { return 0 === t ? "start" : "end" }).attr("font-weight", 500).attr("font-family", "Roboto, sans-serif").attr("font-size", 12).attr("transform", function (e, t) { return 1 <= t ? "translate(".concat(f / s.length, ", 0)") : "translate(0, 0)" }).attr("dy", 12.5).attr("dx", function (e, t) { return 0 === t ? 5 : -5 }).attr("fill", function (e, t) { return 0 === t ? "#000" : "#fff" }).attr("font-family", "Roboto, sans-serif") }), I.append("g").attr("transform", function (e) { var t = p.left + f / s.length, a = m * d + 50 * u.length; return "translate(".concat(t, ", ").concat(a, ")") }).append("text").attr("dy", function (e) { return 10 }).attr("dx", function (e) { return 30 }).text("* Bold = Starter").attr("font-size", 12).attr("font-weight", "bold").attr("font-family", "Roboto, sans-serif").attr("text-anchor", "start"), I.append("g").attr("class", "nba-stats-svg-copy").attr("transform", function (e) { var t = h + u.length + 50 + 30 + p.top + 36; return "translate(".concat(f, ", ").concat(t, ")") }).append("text").attr("text-anchor", "start").attr("font-weight", 800).attr("fill", "#1a477b").attr("font-family", "Roboto, sans-serif").attr("font-size", 20).text(function (e) { return "NBA.com/Stats" }) }) } _.splits = o.splits, _.params = o.params, _.isLoading = !0, d3.select(window).on("resize.updatesvg", function (e) { i(_.boxscore) }) } stats.controller("GameRotationsController", e), e.$inject = ["$scope", "$filter", "$location", "GameRotationService", "LeagueLineupVizService", "PlayersService", "SplitsService", "TeamsService", "BoxscoreScoringService"] }(), function () { function e(o, i, l, s, c, a, n) { o.setPeriod = function (e) { o.slider.minValue = e.startTime, o.slider.maxValue = e.endTime }, o.setShotChart = function (e) { "Plot" !== e.ShotChart && "Zone" === e.ShotChart ? (o.showShotPlot = !1, o.showShotZone = !0) : (o.showShotPlot = !0, o.showShotZone = !1) }, o.showSplits = !0, o.isLoaded = !1, o.hasData = !1, o.showShotPlot = !0; var e = { minValue: 0, maxValue: 1, options: { floor: 0, ceil: 1, showTicksValues: o.showShotZone = !1, noSwitching: !0, draggableRange: !0, translate: function (e) { return i("countdownClock")(e) } } }; o.slider = e, o.vtm = { type: "vtm", showAll: !0, players: [], shots: [], selectedShots: [], fgm: 0, fga: 0, fgp: null, title: "" }, o.htm = { type: "htm", showAll: !0, players: [], shots: [], selectedShots: [], fgm: 0, fga: 0, fgp: null, title: "" }; var r, u, d = !(o.shotCharts = [{ ShotChart: "Plot", text: "Shot Plot" }, { ShotChart: "Zone", text: "Shot Zone" }]); function p(e, t) { var a = e.type, n = e.players.reduce(v, []); e.showAll = 0 === n.length | t, e.showAll ? (e.players.forEach(function (e) { e.show = !1 }), e.selectedShots = e.shots) : (e.showAll = !1, e.selectedShots = e.shots.filter(function (e, t) { return !e.length || -1 < e.indexOf(t.pid) }.bind("", n))); var s = o.slider.minValue, r = o.slider.maxValue; e.selectedShots = e.selectedShots.filter(function (e, t, a) { return a.decimalTime >= e && a.decimalTime <= t }.bind("", s, r)), e.fga = e.selectedShots.length, e.fgm = e.selectedShots.reduce(S, 0), e.fgp = e.fgm / e.fga, d && (e.showAll ? l.search(a, null) : l.search(a, n.join(","))), m() } function t(e) { var t, a, n; e && e.hls && e.hls.pstsg && e.plays ? (d || (o.isLoaded = !0, o.hasData = !0, o.vtm.players = e.vls.pstsg.filter(function (e) { return "" === e.memo }), o.htm.players = e.hls.pstsg.filter(function (e) { return "" === e.memo }), f(o.vtm.players, l.search().vtm), f(o.htm.players, l.search().htm), o.vtm.title = g("vls", e, i), o.htm.title = g("hls", e, i), o.periods = e.periods.ps.slice(0), a = +l.search().StartRange, n = +l.search().EndRange, o.selectedPeriod = o.periods.find(function (e) { return a == e.startTime && n == e.endTime }), o.selectedPeriod || (o.selectedPeriod = o.periods[0]), a && (o.slider.minValue = a), n && (o.slider.options.ceil = +n, o.slider.maxValue = +n), o.selectedShotChart || (o.selectedShotChart = o.shotCharts[0]), (t = h(e)) && (n || (o.slider.maxValue = t.decimalTime), o.slider.options.ceil = t.decimalTime), d = !0), e.summary.GAME_ID, u = e.teamInfo.htm.id, r = e.teamInfo.vtm.id, (t = h(e)) && (o.slider.maxValue === o.slider.options.ceil && (o.slider.maxValue = t.decimalTime), o.slider.options.ceil = t.decimalTime), s(function () { o.$broadcast("rzSliderForceRender") }), o.vtm.shots = e.plays.filter(y.bind("", r)), o.htm.shots = e.plays.filter(y.bind("", u)), m()) : o.hasData = !1 } function m() { var e, t, r; e = a.get(["Season", "LeagueID"]), t = { Season: e.splits.Season.selected.val, LeagueID: e.splits.LeagueID.selected.val }, r = t.Season.split("-").shift() < 2015, n.get(t).then(function (e) { var t, a, n; function s(e) { Object.entries(e).forEach(function (t) { var e = t[1], a = e.group, n = e.items; t[1].FGA = n.length, t[1].FGM = n.filter(function (e) { return e.madeflag }).length, t[1].FG_PCT = t[1].FGM / t[1].FGA, t[1].shots = n.map(function (e) { return e.GRID_TYPE = "Shot Chart Detail", e }), o.leagueAvg.map(function (e) { return e.SHOT_ZONE_BASIC === a && (t[1].leagueFG_PCT = .01 * e.FG_PCT), e }), t[1].FG_PCT >= t[1].leagueFG_PCT + .1 * t[1].leagueFG_PCT ? t[1].traditionalPerf = 5 : t[1].FG_PCT <= t[1].leagueFG_PCT - .1 * t[1].leagueFG_PCT ? t[1].traditionalPerf = 1 : t[1].traditionalPerf = 3 }) } e.League_Wide.rows.length && !r || (t = c.find(".svg-color-scale:not(.shotzone__legend-footer)"), a = c.find(".shotzone__legend-item > text:first-child"), n = c.find(".shotzone__legend-footer"), a.each(function (e, t) { t.style.display = "none" }), n.each(function (e, t) { t.style.display = "none" }), t.each(function (e, t) { t.classList.remove("svg-color-scale") })), o.leagueAvg = e.League_Wide.rows.reduce(function (e, t) { var a, n = _createForOfIteratorHelper(e); try { for (n.s(); !(a = n.n()).done;) { var s = a.value; if (s.SHOT_ZONE_BASIC === t.SHOT_ZONE_BASIC) return s.FGA += t.FGA, s.FGM += t.FGM, e } } catch (e) { n.e(e) } finally { n.f() } return e.push(t), e }, []).map(function (e) { return e.FG_PCT = +(e.FGM / e.FGA * 100).toFixed(1), e }), i("shotZone")(o.vtm.selectedShots), i("shotZone")(o.htm.selectedShots), o.vtm.zones = { basic: i("groupBy")(o.vtm.selectedShots, "SHOT_ZONE_BASIC") }, o.htm.zones = { basic: i("groupBy")(o.htm.selectedShots, "SHOT_ZONE_BASIC") }, o.vtm.madeShots = o.vtm.selectedShots.filter(function (e) { return e.madeflag }), o.htm.madeShots = o.htm.selectedShots.filter(function (e) { return e.madeflag }), o.vtm.options = { scaletype: "rg", zonetype: "Basic" }, o.htm.options = { scaletype: "rg", zonetype: "Basic" }, s(o.vtm.zones.basic), s(o.htm.zones.basic) }) } o.$watch("vtm", p, !0), o.$watch("htm", p, !0), o.$watch("slider", function (e) { p(o.vtm), p(o.htm); var t = o.slider; d && (t.minValue === t.options.floor && t.maxValue === t.options.ceil ? (l.search("StartRange", null), l.search("EndRange", null)) : (l.search("StartRange", t.minValue), l.search("EndRange", t.maxValue))) }, !0), o.$watch("boxscore", t, !0), o.$watch("showSplits", function () { s(function () { o.$broadcast("rzSliderForceRender") }) }, !0), o.showAllPlayersFor = function (e) { p(o[e], !0) }, t(o.boxscore) } function f(e, t) { var a = (t || "").split(","); a && 0 !== a.length ? e.forEach(function (e) { e.show = -1 < a.indexOf(e.pid + "") }) : e.showAll = !0 } function h(e) { return e.plays[e.plays.length - 1] } function g(e, t, a) { return [t[e].tc, " during ", t.vls.ta, " vs ", t.hls.ta, " on ", a("date")(t.game.gdte, "MM/dd/yyyy", "UTC")].join("") } function v(e, t) { return t.show && e.push(t.pid), e } function S(e, t) { return e += 1 === t.etype ? 1 : 0 } function y(e, t) { var a = +t.tid == +e, n = 1 === t.etype || 2 === t.etype; return a && n } stats.controller("GameShotchartController", e), e.$inject = ["$scope", "$filter", "$location", "$timeout", "$element", "SplitsService", "LeagueWideShotchartService"] }(), function () { function e(i, n, s, l, e, t, c, a, r, u, d, p, o) { var m, f, h = e.absUrl(); -1 < h.indexOf("/#!/") && (document.location = h.replace("/#!/", "/")); var g = !1, v = !1, S = e.path().split("/")[2]; i.isLoading = !0, i.hasHanaBoxscore = !1, i.gameInfo = {}, i.GameID = n.data("game-id"), i.params = { GameID: i.GameID }, i.round = function (e) { return Math.round(10 * e) / 10 }, i.hasEsi = !(!window.esi_ || "US" !== window.esi_.country), i.pointsBetLink = "https://join.pointsbet.com/nba-win-probability/?utm_source=Unbounce_NBA&utm_medium=NBA&utm_campaign=Risk_Free_2_200_NBA_Win_Probability&utm_term=Unbounce&utm_content=NBA&promo=NBAWIN"; var y = d.get().SeasonYear; function P() { a.get(i.params).then(D, b) } function T() { var e = { league: i.gameObject.league, season: i.gameObject.seasonyear }; r.get(i.params.GameID, e).then(x) } function D(e) { var t, a, n; l.cancel(m), e && e.summary && 3 === e.summary.GAME_STATUS_ID && 1 === e.summary.WH_STATUS ? (2016 <= i.gameObject.seasonyear && !v && T(), l.cancel(f), i.isLoading = !1, i.hasHanaBoxscore = !0, i.isLive = !1, t = 2018 <= (i.boxscore = e).summary.SEASON || 2018 <= e.summary.SEASON, a = 2010 <= e.summary.SEASON && e.summary.SEASON < 2018, n = 2 == e.summary.GAME_STATUS_ID || 3 == e.summary.GAME_STATUS_ID, i.summary = angular.extend(e.summary, { gameLinks: { gameBook: { lessThan2018: { display: a && n, url: "http://www.nba.com/data/html/nbacom/" + e.summary.SEASON + "/gameinfo/" + e.summary.GAMECODE.substr(0, 8) + "/" + e.summary.GAME_ID + "_Book.pdf" }, greaterThan2018: { display: t && n, url: "https://statsdmz.nba.com/pdfs/" + e.summary.GAMECODE.substr(0, 8) + "/" + e.summary.GAMECODE.replace("/", "_") + "_book.pdf" } }, pdf: { display: n, url: "https://statsdmz.nba.com/pdfs/" + e.summary.GAMECODE.substr(0, 8) + "/" + e.summary.GAMECODE.replace("/", "_") + ".pdf" } } }), i.officials = e.officials, i.gameInfo = e.gameInfo, i.ai = e.av, i.teams = e.teams, i.linescores = e.teams, i.otherStats = e.otherStats, i.seasonType = i.gameObject.SeasonType, i.isAllStarGame = "All Star" === i.gameObject.SeasonType, e.seasonYear = i.gameObject.seasonyear, e.season = i.gameObject.Season, e.isPlayoffs = i.gameObject.isPlayoffs, e.isFinals = i.gameObject.isFinals, e.seasonType = i.seasonType, e.teamInfo = { vtm: p.getById(e.summary.VISITOR_TEAM_ID), htm: p.getById(e.summary.HOME_TEAM_ID) }, i.teamInfo = e.teamInfo, i.availableStats = { advancedStats: e.av.hasAdvancedStats || !1, playerTracking: e.av.hasTracking || !1, playByPlay: 1996 <= i.gameObject.seasonyear, gameCharts: 2015 <= i.gameObject.seasonyear, hustle: e.av.hasHustle || !1, shotchart: 2016 <= i.gameObject.seasonyear, defenesePt: 2017 <= i.gameObject.seasonyear, rotations: !i.isAllStarGame || 20 != +i.gameObject.Season.slice(-2) }, i.boxscore.periods = w(e.summary.LIVE_PERIOD), i.$emit("onGameInfo", { id: e.summary.GAME_ID, info: e.teamInfo.vtm.abbr + " vs " + e.teamInfo.htm.abbr, sections: i.availableStats }), c.document.title = "NBA.com/Stats - " + e.teamInfo.vtm.abbr + " vs " + e.teamInfo.htm.abbr) : b() } function b(e) { i.isLoading = !1, g || (T(), m = l(T, 1e4)) } function x(e) { var t, a, n, s, r, o; i.isLoading = !1, i.isLive = !0, v = !0, 3 == +e.st && (g = !0, i.hasHanaBoxscore || (f = l(P, 1e4), l.cancel(m))), i.hasHanaBoxscore || (i.availableStats = { advancedStats: !1, playerTracking: !1, playByPlay: !0, gameCharts: !1, hustle: !1, shotchart: !0, rotations: !0 }, i.$emit("onGameInfo", { id: e.gid, info: e.vls.ta + " vs " + e.hls.ta, sections: i.availableStats })), c.document.title = "NBA.com/Stats - " + e.vls.ta + " vs " + e.hls.ta, e.hls.tstsg || (e.hls.tstsg = {}), e.vls.tstsg || (e.vls.tstsg = {}), e.hls.tstsg.tid = e.hls.tid, e.vls.tstsg.tid = e.vls.tid, e.hls.tstsg.pts = e.hls.s, e.vls.tstsg.pts = e.vls.s, e.hls.tstsg.pm = e.hls.tstsg.pts - e.vls.tstsg.pts, e.vls.tstsg.pm = e.vls.tstsg.pts - e.hls.tstsg.pts, i.boxscore ? (i.boxscore.game = e, i.boxscore.hls = e.hls, i.boxscore.vls = e.vls, i.boxscore.periods = w(e.p || 4)) : (t = { isLive: !0, teamInfo: { vtm: p.getById(e.vls.tid), htm: p.getById(e.hls.tid) }, summary: { GAME_ID: e.gid, GAMECODE: e.gcode }, hls: e.hls, vls: e.vls, game: e, periods: w(e.p || 4), gid: e.gid }, i.boxscore = t, n = 2018 <= (a = d.get(t.gid).SeasonYear) || 2018 <= a, s = 2010 <= a && a < 2018, r = t.isLive, i.summary = angular.extend(t.summary, { gameLinks: { gameBook: { lessThan2018: { display: s && r, url: "http://www.nba.com/data/html/nbacom/" + t.summary.SEASON + "/gameinfo/" + t.summary.GAMECODE.substr(0, 8) + "/" + t.summary.GAME_ID + "_Book.pdf" }, greaterThan2018: { display: n && r, url: "https://statsdmz.nba.com/pdfs/" + t.summary.GAMECODE.substr(0, 8) + "/" + t.summary.GAMECODE.replace("/", "_") + "_book.pdf" } }, pdf: { display: r, url: "https://statsdmz.nba.com/pdfs/" + t.summary.GAMECODE.substr(0, 8) + "/" + t.summary.GAMECODE.replace("/", "_") + ".pdf" } } }), i.teamTitles = { vtm: e.vls.tc + " " + e.vls.tn, htm: e.hls.tc + " " + e.hls.tn }), i.boxscore.teamInfo.htm || (i.boxscore.teamInfo.htm = { abbr: e.hls.ta, id: e.hls.tid + "", city: e.hls.tc, name: e.hls.tn, special: !0 }), i.boxscore.teamInfo.vtm || (i.boxscore.teamInfo.vtm = { abbr: e.vls.ta, id: e.vls.tid + "", city: e.vls.tc, name: e.vls.tn, special: !0 }), o = { league: i.gameObject.league, season: i.gameObject.seasonyear }, u.get(i.params.GameID, o).then(I).catch(C) } function I(e) { i.boxscore.plays || (i.boxscore.plays = []); var t = e.slice(i.boxscore.plays.length); i.boxscore.plays = i.boxscore.plays.concat(t) } function C(e) { i.boxscore.plays = i.boxscore.plays || [] } function w(e) { var a = e < 5 ? 7200 * e : 3e3 * (e - 4) + 28800, t = s("range")(1, e).map(function (e) { var t = { RangeType: 2, lp: e, isOT: 4 < e, text: e < 5 ? "Q" + e : "OT" + (e - 4), startTime: e < 5 ? 7200 * (e - 1) : 3e3 * (e - 5) + 28800, endTime: e < 5 ? 7200 * e : 3e3 * (e - 4) + 28800 }; return t.val = t.endTime, t.pct = t.startTime / a, t }), n = { min: 0, max: a, ps: t }; return n.ps.unshift({ RangeType: 0, lp: 0, isOT: !1, text: "All Periods", startTime: 0, endTime: a }), n.ps.push({ RangeType: 2, lp: 0, isOT: !1, text: "1st Half", startTime: 0, endTime: 14400 }, { RangeType: 2, lp: 0, isOT: !1, text: "2nd Half", startTime: 14400, endTime: 28800 }), 5 < e && n.ps.push({ RangeType: 2, lp: 0, isOT: !0, text: "All OT", startTime: 28800, endTime: a }), n } function L() { i.isLoading = !0; var e = { seasonYear: d.get().SeasonYear, gameDate: i.boxscore.game ? i.boxscore.game.gdte.split("-").join("") : i.summary.GAMECODE.substring(0, 8) }; o.get(e).then(function (e) { i.isLoading = !1, e && (i.pointsBetGames = e) }) } i.isAbove2018 = 2018 < +y, i.GameID || (document.location = h.replace("/game", "/scores")), i.currentRoute = "" === S ? "boxscore" : S, i.currentSearchString = s("param")(e.search(), !0), i.gameObject = s("gameIdToObject")(i.GameID), "0031600002" == i.GameID && (document.location = "http://www.nba.com/games/20170217/WLDUSA"), P(), i.$on("$viewContentLoaded", function (e, t) { var a = n.find(".game-view"); i.pageCat = a.data("cat"), i.pageSection = a.data("section") }), i.$watch("boxscore", function (e, t) { e && (L(), i.boxscore.isLive ? i.fetchPointsInterval = l(L, 6e4) : l.cancel(i.fetchPointsInterval)) }) } stats.controller("GameSummaryController", e), e.$inject = ["$scope", "$element", "$filter", "$interval", "$location", "$routeParams", "$window", "BoxscoreSummaryService", "MobileGameDetailService", "MobilePlayByPlayService", "SeasonsService", "TeamsService", "StatsPointsBetService"] }(), function () { function e(i, e, o, t, a, n, s, l, r, c, u, d, p, m, f) { var h = e.data("season-section"), g = (r.get(h).Flags, u.get([{ name: "LeagueID", type: "select", label: "League", without: ["09", "12", "14", "20"], include: [{ val: "20", text: "G League", disp: "dleague" }], default: "99", includeBefore: [{ val: "99", text: "All Leagues" }] }, { name: "LeagueIDByTeam", type: "select", label: "League", default: "00", options: [{ val: "00", text: "NBA" }, { val: "10", text: "WNBA" }, { val: "13", text: "SACRAMENTO" }, { val: "15", text: "VEGAS" }, { val: "16", text: "UTAH" }, { val: "20", text: "G League" }] }, "Season", { name: "SeasonByDate", label: "Season", order: 2e3, default: "2021-22", desc: "", type: "select", options: [{ val: "2021-22", text: "2021-22" }, { val: "2020-21", text: "2020-21" }, { val: "2019-20", text: "2019-20" }, { val: "2018-19", text: "2018-19" }] }, { name: "SeasonType", without: ["All Star"] }, { name: "GameBookOptions", type: "select", label: "Options", default: "date", options: [{ val: "date", text: "Schedule By Date" }, { val: "team", text: "Schedule By Team" }] }])); function v(e) { e.gdte = e.GAME_DATE_EST.slice(0, 10), e.gameObj = o("gameIdToObject")(e.GAME_ID); var t = e.gameObj.league.toLowerCase(); e.league = "dleague" === t ? "gleague" : t } function S() { var e, a; i.games && (e = i.games.slice(0), i.params.League && (e = e.filter(function (e) { return e.lid === i.params.League })), a = c.gameDate, "Y" === i.params.PD && (e = e.filter(function (e) { var t = new Date(e.gdte + "T00:00:00Z"); return t.setUTCHours(5), a.setUTCHours(5), t.getTime() >= a.getTime() })), i.numGames = e.length, i.noMoreData = i.itemsPerPage >= i.numGames, i.gamesByDay = o("groupBy")(e, "gdte", { asArray: !0 }), i.noData = 0 === i.gamesByDay.length) } function y(e) { var t, a, n, s, r = i.splits.Season.selected.val.substring(0, 4), o = i.splits.SeasonType.selected.val; a = r, n = o, (t = e) && a && n && (s = { LeagueID: t, Season: a, SeasonType: n }, m.get(s).then(function (e) { var t = e.CumeStatsTeamList.rows.map(function (e) { return { val: e.TEAM_ID, text: e.TEAM } }), a = u.get([{ name: "Teams", label: "Teams", type: "select", includeBefore: [{ val: "", text: "Select A Team" }], default: "", options: t }]); i.splits.Teams = a.splits.Teams, i.params.Teams = a.params.Teams }).catch(function (e) { return console.error(e) })) } function P(e) { i.isLoading = !0; var n, t = { LeagueID: e, GameDate: i.selectedDate, DayOffset: "0" }; i.selectedDate && (n = t, new Promise(function (t, a) { f.get(n).then(function (e) { t(e) }).catch(function (e) { a(e) }) }).then(function (e) { if (!e || !e.games || !e.games.length) return console.error("no games returned"), i.isLoading = !1, void (i.noData = !0); var t = e.games; return t.forEach(v), i.games = t, S(), "date" === i.splits.GameBookOptions.selected.val && (i.selectedGamesByDate = i.games.reduce(function (e, t) { return Object.keys(e).length && e[t.league] ? e[t.league].push(t) : e[t.league] = [t], e }, {}), Object.keys(i.selectedGamesByDate).length || (i.noData = !0)), i.isLoading = !1, i.selectedGamesByTeam = "", i.$apply(), i.games }).catch(function (e) { console.error(e) })) } i.splits = g.splits, i.params = g.params, i.isLoading = !1, i.noData = !1, i.selectedDate = a.search().Date, i.$on("runit", function (e) { S(), P(i.splits.LeagueID.selected.val) }), i.$on("updateFilters", function (e) { var t, a, n, s, r; i.selectedGamesByDate = "", i.selectedGamesByTeam = "", "LeagueID" === e.targetScope.split.name || "GameBookOptions" === e.targetScope.split.name && "date" === i.splits.GameBookOptions.selected.val ? (i.splits.LeagueID.selected, P(i.splits.LeagueID.selected.val)) : (t = i.splits.LeagueIDByTeam.selected.val, ("GameBookOptions" === e.targetScope.split.name && "team" === i.splits.GameBookOptions.selected.val || "LeagueIDByTeam" === e.targetScope.split.name) && (i.noData = !0, y(t))), "Teams" !== e.targetScope.split.name && "SeasonType" !== e.targetScope.split.name && "Season" !== e.targetScope.split.name || (a = i.splits.Season.selected.val.substring(0, 4), n = { league: i.splits.LeagueIDByTeam.selected.text.toLowerCase(), leagueId: i.splits.LeagueIDByTeam.selected.val }, i.noData = !1, i.isLoading = !0, s = a, r = n, l.get(s, r).then(function (e) { e.length || (i.noData = !0); var t = e.filter(function (e) { e.gameObj = o("gameIdToObject")(e.gid), e.gameObj.league = e.gameObj.league.toLowerCase(), "dleague" === e.gameObj.league && (e.gameObj.league = "gleague"); var t = i.splits.SeasonType.selected.val, a = i.splits.Teams.selected.val; return "Regular Season" === t ? e.gameObj.isReg && (a === e.v.tid || a === e.h.tid) : "Pre Season" === t ? e.gameObj.isPre && (a === e.v.tid || a === e.h.tid) : "Playoffs" === t ? e.gameObj.isPlayoffs && (a === e.v.tid || a === e.h.tid) : e }).reduce(function (e, t) { return Object.keys(e).length && e[t.gameObj.league] ? e[t.gameObj.league].push(t) : e[t.gameObj.league] = [t], e }, {}); i.selectedGamesByTeam = t, Object.keys(t).length || (i.noData = !0), i.isLoading = !1 })) }), i.$on("gameDateQueryChange", function (e, t) { i.selectedDate = t; i.splits.LeagueID.selected; P(i.splits.LeagueID.selected.val) }), P(i.splits.LeagueID.selected.val) } stats.controller("GamebooksController", e), e.$inject = ["$scope", "$element", "$filter", "$interval", "$location", "$q", "$timeout", "MobileSeasonScheduleService", "SeasonsService", "ReferrerService", "SplitsService", "TeamsService", "TodaysScoresService", "CumeStatsTeamListService", "ScoresService"] }(), function () { function e(n, e, t) { e(), function () { var e = angular.element(document).find(".stats-glossary-page__item"); n.json = []; for (var t = { obj: {}, title: "" }, a = 0; a < e.length; a++)t.obj = e[a], t.title = e[a].children[0].innerText, n.json.push(t), t = {} }(); angular.element(window); var a = angular.element(".nav-container"); n.isFrozen = !1, n.search = "", n.searched = !1, n.onChange = function (e) { !function (e) { if (e.length < 3) return n.searched = !1; n.searched = !0, n.results = []; var t = e.toLowerCase(); n.json.forEach(function (e) { -1 !== e.title.toLowerCase().indexOf(t) ? n.results.unshift(e) : -1 !== e.obj.innerText.toLowerCase().indexOf(t) && n.results.push(e) }), angular.element(document).find(".search-results").html(""), n.results.forEach(function (e) { var t = angular.element(e.obj).clone(); angular.element(document).find(".search-results").append(t) }), n.results.length ? n.noData = !1 : n.noData = !0; n.results = [] }(n.search) }, angular.element(window).on("scroll", function (e) { var t = a.hasClass("nav-container--fixed"); t != n.isFrozen && (n.isFrozen = t, n.$apply()) }) } stats.controller("GlossaryCtrl", e), e.$inject = ["$scope", "$anchorScroll", "$element"] }(), function () { function e(t, a, e, n) { t.isLoading = !0, t.hasGames = !1, t.params = { LeagueID: "00", gameDate: "" }, t.$watch(function () { return e.path() }, function () { e.path().slice(1) && (t.params.gameDate = e.path().slice(1), t.isLoading = !0, n.get(t.params).then(function (e) { t.isLoading = !1, t.videoStatus = e, a.$emit("numberOfGames", t.videoStatus.rows.length), t.hasGames = !!e.rows.length }, function (e) { t.isLoading = !1, t.hasGames = !1 })) }) } stats.controller("VideoStatusCtrl", e), e.$inject = ["$scope", "$rootScope", "$location", "VideoStatusService"] }(), function () { function e(a, e, t) { var n = t.get("site"); a.params = { LeagueID: n.LeagueID }, a.tableOptions = { rowsPerPage: 500 }, a.$on("customFields", function (e, t) { a.customFields = t }), a.isLoading = !0, e.get(a.params).then(function (e) { a.isLoading = !1, a.datasets = e }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } stats.controller("FranchiseHistoryCtrl", e), e.$inject = ["$scope", "FranchiseHistoryService", "SeasonsService"] }(), function () { function e(l, a, e, t, n, s, r, o, i, c, u) { l.isLoading = !0, l.trustAsHtml = s.trustAsHtml, l.modules = {}, l.alerts = [], l.scrollTo = function (e) { var t = n.hash(); a.yOffset = 50, n.hash(e), a(), n.hash(t) }, l.dailyLeadersTitle = "Daily Leaders"; var d = i.get("site"); l.flags = d.Flags; var p = ["home_daily", "home_editorial", "home_season", "home_sidebar"], m = ["home_daily_players", "home_daily_teams", "season_players", "season_teams"]; l.isTeamsDaily = l.flags && !0 === l.flags.showDailyLeaders, l.isTeamsSeason = l.flags && !0 !== l.flags.showDailyLeaders, l.headersSwitchTeams = function () { l.isTeamsDaily = !l.isTeamsDaily, l.isTeamsSeason = !l.isTeamsSeason, r.triggerEvent("homeSeasonLeadersTab", l.isPlayers ? "season leaders_players" : "season leaders_teams") }, l.isPlayersDaily = l.flags && !0 === l.flags.showDailyLeaders, l.isPlayersSeason = l.flags && !0 !== l.flags.showDailyLeaders, l.headersSwitchPlayers = function () { l.isPlayersDaily = !l.isPlayersDaily, l.isPlayersSeason = !l.isPlayersSeason, r.triggerEvent("homeDailyLeadersTab", l.isPlayersDaily ? "daily leaders_players" : "daily leaders_teams") }; var f = { loaded: 0, total: p.length }; function h(n) { m.forEach(function (e) { var t, a, o; (t = n)[a = e] && t[a].items.forEach(function (e) { e.playerstats ? o = "playerstats" : e.teamstats && (o = "teamstats"); for (var t = 0; t < e[o].length; t++) { var a = e.name, n = t + 1, s = e[o][t], r = e[o][t - 1]; !r || !s.rank && 0 === t || s[a] < r[a] ? s.rank = n : s[a] == r[a] && (s.rank = r.rank) } }) }); var e, t = new Date, a = "".concat(t.getMonth() + 1).padStart(2, 0), s = "".concat(t.getDate()).padStart(2, 0), r = t.getFullYear(), o = 18 <= t.getHours(), i = "".concat(a, "/").concat(s, "/").concat(r); i !== n.home_daily_players.items[0].gamedate && (e = new Date(i).getTime() - new Date(n.home_daily_players.items[0].gamedate).getTime(), l.dailyLeadersTitle = 864e5 < e ? "Daily Leaders" : "Yesterdays Leaders"), i !== n.home_daily_players.items[0].gamedate || o || (l.dailyLeadersTitle = "Todays Leaders"), i === n.home_daily_players.items[0].gamedate && o && (l.dailyLeadersTitle = "Tonight's Leaders"), l.leaders_daily = { players: n.home_daily_players, teams: n.home_daily_teams, live: "N" !== n.live_game_state.items[0].livegamestate[0].LIVE_GAME_FLAG, date: n.home_daily_players.items[0].gamedate, title: n.home_daily_players.title }, l.nightlyAndSeasonLeaders = { players: { nightly: n.home_daily_players, season: n.season_players }, teams: { nightly: n.home_daily_teams, season: n.season_teams } }, l.nightlyAndSeasonPlayerLeaders = { nightly: n.home_daily_players, season: n.season_players }; try { l.assist_tracker = { count: n.assist_tracker.items[1].resultSets[0].rowSet[0][0], player: n.assist_tracker.items[0].posts[0], title: n.assist_tracker.title }, l.hasAssistTracker = !0 } catch (e) { l.hasAssistTracker = !1 } l.leaders_daily.live ? g(3e4) : g(3e5) } function g(e) { t.cancel(l.livePromise), l.livePromise = t(v, e) } function v() { c.get("home_daily").then(function (e) { e.items.forEach(function (e) { l.modules[e.uid] = e }), h(l.modules); var t = !1; try { t = "N" !== e.items[2].items[0].livegamestate[0].LIVE_GAME_FLAG } catch (e) { console.error(e) } g(t ? 3e4 : 3e5) }), S() } function S() { c.get("nba_stat_alerts").then(function (e) { e && e.alerts && (l.statAlerts = e.alerts.slice(0, 6), l.statAlerts.forEach(function (e) { e.player = o.getById(e.PersonId), e.team = u.getById(e.TeamId), 0 < e.PersonId ? e.isPlayerAlert = !0 : e.TeamId && (e.isTeamAlert = !0) })) }).catch(function (e) { console.error("error fetching alerts") }) } l.trackScoresClick = function () { r.triggerEvent("homepageLiveScoresLink") }, p.forEach(function (e, t, a) { c.get(e).then(function (e) { "home_season" === e.uid && (l.seasonLeadersTitle = e.title || "SEASON LEADERS"); var t = e.items; f.loaded++, t.forEach(function (e) { l.modules[e.uid] = e }), f.loaded === f.total && (h(l.modules), l.isLoading = !1) }) }), S() } stats.controller("HomepageNextCtrl", e), e.$inject = ["$scope", "$anchorScroll", "$http", "$interval", "$location", "$sce", "DtmService", "PlayersService", "SeasonsService", "StatsWidgetService", "TeamsService"] }(), function () { function e(s, e, r, t, a, o, n, i, l, c) { var u, d = e.data("season-section"), p = n.get(d), m = p.SeasonYear, f = p.Flags, h = f.isActive.toString().split(","), g = f.hasDaily.toString().split(","); function v(e) { var t = i.findOptionByValue("LeagueID", e); return !!t && (t.options = { cache: !1, season: m, league: t.text.toLowerCase(), leagueId: e, isActive: -1 < f.isActive.toString().indexOf(e) }, t) } function S() { var e = u.map(function (e) { return a = e.options, n = o.defer(), c.get(a).then(function (e) { var t = e.data.gs.g || []; t.forEach(function (e) { e.lid = a.leagueId }), s.today = r("date")(e.data.gs.gdte, "MM/dd/yyyy"), n.resolve(t) }).catch(function (e) { n.resolve([]) }), n.promise; var a, n }); o.all(e).then(function (e) { e && e.length && (s.games = [].concat.apply([], e), s.isLive = s.games.some(function (e) { return 2 === e.st })) }).catch(function (e) { console.error("error fetching todays scores") }) } function y() { t.get("stats/js/data/widgets/home_daily_summerleague.json").then(function (e) { var t = e.data, a = t.items[0].items, n = t.items[1].items; s.playerStats = P(a, "playerstats"), s.teamStats = P(n, "teamstats") }).catch(function (e) { console.error("error fetching daily leaders") }) } function P(e, a) { var n = []; e.forEach(function (t) { t[a].forEach(function (e) { e.stat = t.name, e.lid = t.leagueid, e.league = i.findOptionByValue("LeagueID", e.lid), e.title = t.title, e.permode = t.permode, n.push(e) }) }), n = n.filter(function (e) { return 0 <= g.indexOf(e.lid) }); var t = r("groupBy")(n, "stat", { asArray: !0 }); return t.forEach(function (e) { e.items && e.items.length && (e.title = e.items[0].title, e.stat = e.items[0].stat, e.order = "-" + e.items[0].stat) }), t } f.isActive && h.length && (a(S, 1e4), a(y, 1e4), u = h.map(v).filter(function (e) { return e }), g.map(v).filter(function (e) { return e }), s.flags = f, s.games = [], s.isLoading = !0, s.isLive = !1, S(), y()) } stats.controller("HomepageSummerleagueController", e), e.$inject = ["$scope", "$element", "$filter", "$http", "$interval", "$q", "SeasonsService", "SplitsService", "TeamsService", "TodaysScoresService"] }(), function () { function e(l, a, e, t, n, s, r, o, i, c, u) { l.isLoading = !0, l.trustAsHtml = s.trustAsHtml, l.modules = {}, l.alerts = [], l.scrollTo = function (e) { var t = n.hash(); a.yOffset = 50, n.hash(e), a(), n.hash(t) }, l.dailyLeadersTitle = "Daily Leaders"; var d = i.get("site"); l.flags = d.Flags; var p = ["home_daily", "home_editorial", "home_season", "home_sidebar"], m = ["home_daily_players", "home_daily_teams", "season_players", "season_teams"]; l.isPlayers = !0, l.isTeams = !1, l.headersSwitch = function () { l.isPlayers = !l.isPlayers, l.isTeams = !l.isTeams, r.triggerEvent("homeSeasonLeadersTab", l.isPlayers ? "season leaders_players" : "season leaders_teams") }, l.isPlayersDaily = !0, l.isTeamsDaily = !1, l.headersSwitchDaily = function () { l.isPlayersDaily = !l.isPlayersDaily, l.isTeamsDaily = !l.isTeamsDaily, r.triggerEvent("homeDailyLeadersTab", l.isPlayersDaily ? "daily leaders_players" : "daily leaders_teams") }; var f = { loaded: 0, total: p.length }; function h(n) { m.forEach(function (e) { var t, a, o; (t = n)[a = e] && t[a].items.forEach(function (e) { e.playerstats ? o = "playerstats" : e.teamstats && (o = "teamstats"); for (var t = 0; t < e[o].length; t++) { var a = e.name, n = t + 1, s = e[o][t], r = e[o][t - 1]; !r || !s.rank && 0 === t || s[a] < r[a] ? s.rank = n : s[a] == r[a] && (s.rank = r.rank) } }) }); var e, t = new Date, a = "".concat(t.getMonth() + 1).padStart(2, 0), s = "".concat(t.getDate()).padStart(2, 0), r = t.getFullYear(), o = 18 <= t.getHours(), i = "".concat(a, "/").concat(s, "/").concat(r); i !== n.home_daily_players.items[0].gamedate && (e = new Date(i).getTime() - new Date(n.home_daily_players.items[0].gamedate).getTime(), l.dailyLeadersTitle = 864e5 < e ? "Daily Leaders" : "Yesterdays Leaders"), i !== n.home_daily_players.items[0].gamedate || o || (l.dailyLeadersTitle = "Todays Leaders"), i === n.home_daily_players.items[0].gamedate && o && (l.dailyLeadersTitle = "Tonight's Leaders"), l.leaders_daily = { players: n.home_daily_players, teams: n.home_daily_teams, live: "N" !== n.live_game_state.items[0].livegamestate[0].LIVE_GAME_FLAG, date: n.home_daily_players.items[0].gamedate, title: l.dailyLeadersTitle }; try { l.assist_tracker = { count: n.assist_tracker.items[1].resultSets[0].rowSet[0][0], player: n.assist_tracker.items[0].posts[0], title: n.assist_tracker.title }, l.hasAssistTracker = !0 } catch (e) { l.hasAssistTracker = !1 } l.leaders_daily.live ? g(3e4) : g(3e5) } function g(e) { t.cancel(l.livePromise), l.livePromise = t(v, e) } function v() { c.get("home_daily").then(function (e) { e.items.forEach(function (e) { l.modules[e.uid] = e }), h(l.modules); var t = !1; try { t = "N" !== e.items[2].items[0].livegamestate[0].LIVE_GAME_FLAG } catch (e) { console.error(e) } g(t ? 3e4 : 3e5) }), S() } function S() { c.get("nba_stat_alerts").then(function (e) { e && e.alerts && (l.statAlerts = e.alerts.slice(0, 6), l.statAlerts.forEach(function (e) { e.player = o.getById(e.PersonId), e.team = u.getById(e.TeamId), 0 < e.PersonId ? e.isPlayerAlert = !0 : e.TeamId && (e.isTeamAlert = !0) })) }).catch(function (e) { console.error("error fetching alerts") }) } l.trackScoresClick = function () { r.triggerEvent("homepageLiveScoresLink") }, p.forEach(function (e, t, a) { c.get(e).then(function (e) { var t = e.items; f.loaded++, t.forEach(function (e) { l.modules[e.uid] = e }), f.loaded === f.total && (h(l.modules), l.isLoading = !1) }) }), S() } stats.controller("HomepageCtrl", e), e.$inject = ["$scope", "$anchorScroll", "$http", "$interval", "$location", "$sce", "DtmService", "PlayersService", "SeasonsService", "StatsWidgetService", "TeamsService"] }(), function () { function e(r, e, o, t, a, n) { var s = t.get("playerVsPlayerStats"), i = a.get([{ name: "SeasonType", initial: s.SeasonType, without: ["All Star"] }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, { name: "Season", initial: s.Season, seasonRange: [2015, s.SeasonYear] }, "Month", "VsConference", "LastNGames", "SeasonSegment", "VsDivision", "ShotClockRange", "OpponentTeamID", "GameSegment", "Outcome", "Location", "Period", "DateFrom", "DateTo", "PlusMinus", "PaceAdjust", "Rank", "Conference", "Division", "ShotClockRange"]); function l() { r.isLoading = !0, function () { var e = o.getSearchURL(); if (!e.LineupIDs || !e.VsLineupIDs) return; var t = e.LineupIDs.split("~") || [], a = e.VsLineupIDs.split("~") || [], n = e.TeamID, s = e.VsTeamID; r.params.PlayerID1 = t[0] || 0, r.params.PlayerID2 = t[1] || 0, r.params.PlayerID3 = t[2] || 0, r.params.PlayerID4 = t[3] || 0, r.params.PlayerID5 = t[4] || 0, r.params.TeamID = n || 1, r.params.VsPlayerID1 = a[0] || 0, r.params.VsPlayerID2 = a[1] || 0, r.params.VsPlayerID3 = a[2] || 0, r.params.VsPlayerID4 = a[3] || 0, r.params.VsPlayerID5 = a[4] || 0, r.params.VsTeamID = s || 1 }(), n.get(r.params).then(function (e) { r.datasets = e, r.isLoading = !1, r.noData = 0 === e.PlayersVsPlayers.rows.length }) } r.splits = i.splits, r.params = i.params, r.params.MeasureType = e.data("measure-type"), r.$on("customFields", function (e, t) { r.customFields = t }), r.$on("runit", function (e) { l() }) } stats.controller("ImpactGeneralController", e), e.$inject = ["$scope", "$element", "DeepLinksFactory", "SeasonsService", "SplitsService", "WithOrWithoutYouService"] }(), function () { function e(l, c, o, u, d, a, e, t, i, p, n) { var s = e.get("playerVsPlayerStats"); u.getSearchURL(); l.isLoading = !0, l.limit = 5, l.isLineupSet = !1, l.toggleTeamSelect = function (e) { e.showTeamSelect = !e.showTeamSelect }, l.toggleLineupSelect = function (e) { e.lineupShow = !e.lineupShow, e.isReady = !1 }, l.setLineup = function (e) { if (e.lineupChosen.length < 1 || 5 < e.lineupChosen.length) return; e.lineupShow = !1, e.hasLineup = !0, e.isReady = !0 }, l.chooseLineup = function (e, t) { t.lineupChosen = [], t.lineupIDs = [], t.checked = 0, t.hasLineup = !1, t.showTeamSelect = !1, t.isReady = !1, f(e.id, t, !0), t.info = e, t.team = e.id, t.type = "lineup" }, l.checkChange = function (e, t) { { var a; e.selected ? (t.checked++, t.lineupChosen.push(e), t.lineupIDs.push(e.PLAYER_ID.toString())) : (a = t.lineupIDs.indexOf(e.PLAYER_ID.toString()), t.lineupIDs.splice(a, 1), t.lineupChosen.splice(a, 1), t.checked--) } }, l.isSelected = function (e, t) { return 0 < t.lineupChosen.filter(function (t) { return function (e) { return e.PLAYER_ID === t } }(e)).length }, l.swapSides = function () { if (!l.isLineupSet) return; var e = {}; e = l.compare.left, l.compare.left = l.compare.right, l.compare.right = e, l.compare.left.tag = "left", l.compare.left.opp = "right", l.compare.right.tag = "right", l.compare.right.opp = "left" }; var r, m = t.get([{ name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, "Month", "VsConference", "LastNGames", "SeasonSegment", "VsDivision", "OpponentTeamID", "GameSegment", "Outcome", "Location", "Period", "DateFrom", "DateTo", "PlusMinus", "PaceAdjust", "Rank"]); function f(e, t, a) { var n = o.defer(); void 0 !== e && (l.params.TeamID = e); var s = "Playoffs" === l.params.SeasonType ? "Regular Season" : l.params.SeasonType, r = angular.extend(l.params, { SeasonType: s }); return i.get(r).then(function (e) { t.lineup = e.PlayersSeasonTotals.rows, t.lineupShow = a, n.resolve(t.lineup) }), n.promise } function h(e) { var t = a.getById(e); return { PLAYER_ID: t.id, PLAYER: t.fn + " " + t.ln } } function g(e, t) { if (-1 === t) return e; var a = e.substring(t + 1).indexOf("&") + t, n = e.substring(0, t), s = e.substring(a + 1); return a < t ? n : n + s } l.splits = m.splits, l.params = m.params, l.params.Season = s.Season, l.params.SeasonType = s.SeasonType, l.params.MeasureType = "Base", l.compare = { isReady: !1, left: { type: "", hasLineup: !1, lineupChosen: [], lineupIDs: [], lineupShow: !1, info: {}, checked: 0, tag: "left", opp: "right", showTeamSelect: !1 }, right: { type: "", hasLineup: !1, lineupShow: !1, lineupChosen: [], lineupIDs: [], info: {}, checked: 0, tag: "right", opp: "left", showTeamSelect: !1 } }, l.$watch("compare", function (e) { if (!e.left.isReady || !e.right.isReady) return; var t = {}; t.LineupIDs = l.compare.left.lineupIDs.join("~"), t.VsLineupIDs = l.compare.right.lineupIDs.join("~"), t.TeamID = l.compare.left.team, t.VsTeamID = l.compare.right.team, u.setSearchURL(t) }, !0), l.$on("$locationChangeSuccess", function () { var e = function () { var e = u.getSearchURL(); l.isLineupSet = e.LineupIDs && e.VsLineupIDs; var t = void 0 !== l.compare.left.LineupIDs, a = void 0 !== l.compare.right.LineupIDs; { if (l.isLineupSet && t && a) return !0; if (!l.isLineupSet) return l.compare.left.showTeamSelect = !0, !(l.compare.right.showTeamSelect = !0) } var n = e.TeamID, s = e.VsTeamID; return l.compare.left.lineupChosen = e.LineupIDs.split("~").map(h), l.compare.left.lineupIDs = e.LineupIDs.split("~"), l.compare.left.team = n, l.compare.left.info = p.getById(n), l.compare.left.type = "lineup", l.compare.left.hasLineup = !0, l.compare.left.isReady = !0, l.compare.right.lineupChosen = e.VsLineupIDs.split("~").map(h), l.compare.right.lineupIDs = e.VsLineupIDs.split("~"), l.compare.right.team = s, l.compare.right.info = p.getById(s), l.compare.right.type = "lineup", l.compare.right.hasLineup = !0, l.compare.right.isReady = !0, function (e, t) { f(e, l.compare.left, !1).then(function () { f(t, l.compare.right, !1) }) }(n, s), !0 }(), t = c.url().split("?")[1] || "", a = t.indexOf("&sort="), n = (t = g(t, a)).indexOf("&dir="); { var s, r, o, i; t = g(t, n), l.$emit("onImpactInfo", "?" + t), e && (l.$broadcast("onCompareSearch", "?" + t), l.$broadcast("runit"), s = l.compare.left.lineupChosen.map(function (e) { return e.PLAYER }), r = l.compare.right.lineupChosen.map(function (e) { return e.PLAYER }), o = [s.join("|"), "VS", r.join("|")].join(""), i = [l.compare.left.info.abbr, l.compare.right.info.abbr].join("|"), d.triggerEvent("compareImpact", [o, i])) } }), r = p.get().slice(0), l.teams = r, l.isLoading = !1 } stats.controller("ImpactSummaryController", e), e.$inject = ["$scope", "$location", "$q", "DeepLinksFactory", "DtmService", "PlayersService", "SeasonsService", "SplitsService", "TeamPlayersService", "TeamsService", "WithOrWithoutYouService"] }(), function () { function e(s, e, a, r, o, i, l, t) { s.showCal = !1, s.dt = o.search().Date, s.format = "MM/dd/yyyy", s.changeDate = function (e) { switch (e) { case "next": n(1); break; case "prev": n(-1); break; default: n(1) } }, s.gamesCount = ""; var c = t.get("scores").Flags; function n(e) { s.gamesCount = ""; var t = new Date(s.urlGameDate); t.setDate(t.getDate() + e); var a = r("date")(t, "MM/dd/yyyy"); o.search("Date", a) } s.$watch("dt", function (e) { var t = r("date")(e, "MM/dd/yyyy"); o.search("Date", t) }), s.$watch(function () { return o.search().Date }, function () { if (o.search().hasOwnProperty("Date")) { var e = o.search().Date, t = /\d{2}\/\d{2}\/\d{4}/.test(e); if (!t && c.gameDate) return void (s.dt = c.gameDate); if (!t) return void (s.dt = l.gameDate); var a = new Date(e); s.urlGameDate = r("date")(a, "MM/dd/yyyy"), s.gameDate = r("date")(a, "EEEE, MMM d") } else { var n; n = c.gameDate ? c.gameDate : r("date")(l.gameDate, "MM/dd/yyyy"), o.search("Date", n) } i.$broadcast("gameDateQueryChange", s.urlGameDate) }), i.$on("numberOfGames", function (e, t) { s.gamesCount = t }), e.on("click", function (e) { var t; s.showCal && (t = e.target, $.contains(a.get(0), t) || (s.showCal = !1, s.$apply())) }) } stats.controller("GamedateCalendarQueryCtrl", e), e.$inject = ["$scope", "$document", "$element", "$filter", "$location", "$rootScope", "ReferrerService", "SeasonsService"] }(), function () { function e(s, e, a, r, o, i, l, t) { s.showCal = !1, s.dt = o.path().slice(1), s.format = "MM/dd/yyyy", s.changeDate = function (e) { switch (e) { case "next": n(1); break; case "prev": n(-1); break; default: n(1) } }, s.gamesCount = ""; var c = t.get("scores").Flags; function n(e) { s.gamesCount = ""; var t = new Date(s.urlGameDate); t.setDate(t.getDate() + e); var a = r("date")(t, "MM/dd/yyyy"); o.path(a) } s.$watch("dt", function (e) { var t = r("date")(e, "MM/dd/yyyy"); o.path(t) }), s.$watch(function () { return o.path() }, function () { if (o.path().slice(1)) { var e = o.path().slice(1), t = /\d{2}\/\d{2}\/\d{4}/.test(e); if (!t && c.gameDate) return void (s.dt = c.gameDate); if (!t) return void (s.dt = l.gameDate); var a = new Date(e); s.urlGameDate = r("date")(a, "MM/dd/yyyy"), s.gameDate = r("date")(a, "EEEE, MMM d") } else { var n; n = c.gameDate ? c.gameDate : r("date")(l.gameDate, "MM/dd/yyyy"), o.path(n) } i.$broadcast("gameDateChange", s.urlGameDate) }), i.$on("numberOfGames", function (e, t) { s.gamesCount = t }), e.on("click", function (e) { var t; s.showCal && (t = e.target, $.contains(a.get(0), t) || (s.showCal = !1, s.$apply())) }) } stats.controller("GamedateCalendarCtrl", e), e.$inject = ["$scope", "$document", "$element", "$filter", "$location", "$rootScope", "ReferrerService", "SeasonsService"] }(), function () { function e(a, e, n, t, s, r, o, i) { var l = i.get("site"); a.flags = l.Flags, a.toggleNav = function (e) { e.preventDefault(), e.stopPropagation(), a.$emit("toggleStatsNav", null) }; var c = t.absUrl(), u = (c += "/" === c.substr(-1) ? "" : "/").split("/"); 5 == u.length ? a.activeTab = "home" : "advanced-leaders" === u[5] ? a.activeTab = "leaders" : "hustle-leaders" === u[5] ? a.activeTab = "hustle" : "allstar2018" === u[4] ? a.activeTab = "allstar" : a.activeTab = u[4], o.isExternal && angular.element("body").addClass("nav-hidden"); var d = "/allstar2020/", p = { friday: { text: "All-Star 2020 Friday", url: d + "friday/" }, saturday: { text: "All-Star 2020 Saturday", url: d + "saturday/" }, sunday: { text: "All-Star 2020 Sunday", url: d + "sunday/" }, weekend: { text: "All-Star 2020 Weekend", url: d + "weekend/" } }, m = p.friday, f = [new Date(2020, 1, 14, 6), new Date(2020, 1, 15, 6), new Date(2020, 1, 16, 6)], h = new Date; function g() { ["players", "teams", "leaders", "stats101", "tools", "draft", "events"].forEach(function (e) { var t, a = document.getElementsByClassName("nav-inner__btn-" + e)[0], n = document.getElementsByClassName("drop-" + e)[0]; a && n && (t = a.offsetLeft, n.style.left = t + "px") }) } m = f[2] <= h ? p.sunday : f[1] <= h ? p.saturday : f.weekend[3], a.allstarLink = m, a.isPlayersOpen = !1, a.isTeamsOpen = !1, a.isLeadersOpen = !1, a.isToolsOpen = !1, a.isStats101Open = !1, a.isDraftOpen = !1, a.isEventsOpen = !1, a.togglePlayers = function () { a.isPlayersOpen = !a.isPlayersOpen, a.isTeamsOpen = !1, a.isLeadersOpen = !1, a.isToolsOpen = !1, a.isStats101Open = !1, a.isDraftOpen = !1, a.isEventsOpen = !1 }, a.toggleTeams = function () { a.isPlayersOpen = !1, a.isTeamsOpen = !a.isTeamsOpen, a.isLeadersOpen = !1, a.isToolsOpen = !1, a.isStats101Open = !1, a.isDraftOpen = !1, a.isEventsOpen = !1 }, a.toggleLeaders = function () { a.isTeamsOpen = !1, a.isPlayersOpen = !1, a.isLeadersOpen = !a.isLeadersOpen, a.isToolsOpen = !1, a.isStats101Open = !1, a.isDraftOpen = !1, a.isEventsOpen = !1 }, a.toggleTools = function () { a.isTeamsOpen = !1, a.isPlayersOpen = !1, a.isLeadersOpen = !1, a.isToolsOpen = !a.isToolsOpen, a.isStats101Open = !1, a.isDraftOpen = !1, a.isEventsOpen = !1 }, a.toggleStats101 = function () { a.isTeamsOpen = !1, a.isPlayersOpen = !1, a.isLeadersOpen = !1, a.isToolsOpen = !1, a.isStats101Open = !a.isStats101Open, a.isDraftOpen = !1, a.isEventsOpen = !1 }, a.toggleDraft = function () { a.isTeamsOpen = !1, a.isPlayersOpen = !1, a.isLeadersOpen = !1, a.isToolsOpen = !1, a.isStats101Open = !1, a.isDraftOpen = !a.isDraftOpen, a.isEventsOpen = !1 }, a.toggleEvents = function () { a.isTeamsOpen = !1, a.isPlayersOpen = !1, a.isLeadersOpen = !1, a.isToolsOpen = !1, a.isStats101Open = !1, a.isDraftOpen = !1, a.isEventsOpen = !a.isEventsOpen }, e.on("click", function (e) { var t; (a.isPlayersOpen || a.isTeamsOpen || a.isLeadersOpen || a.isToolsOpen || a.isStats101Open || a.isDraftOpen || a.isEventsOpen) && (t = e.target, $.contains(n.get(0), t) || (a.isTeamsOpen = !1, a.isPlayersOpen = !1, a.isLeadersOpen = !1, a.isToolsOpen = !1, a.isStats101Open = !1, a.isDraftOpen = !1, a.isEventsOpen = !1, a.$apply())) }), g(), s.addEventListener("resize", function () { g() }), n.on("click", ".nav-inner a", function (e) { r.triggerEvent("navigation", "Primary: " + e.target.innerHTML) }) } stats.controller("StatsHeaderController", e), e.$inject = ["$scope", "$document", "$element", "$location", "$window", "DtmService", "ReferrerService", "SeasonsService"] }(), function () { function e(n, e, a, t, s, r, o, i) { var l = o.get("site"); function c(a, n) { n ? angular.forEach(a, function (e, t) { a[t] = t == n && !a[t] }) : angular.forEach(a, function (e, t) { a[t] = !1 }) } function u(a) { if (c(n.isPlayersSub), c(n.isTeamsSub), a) return d(), void angular.forEach(n.isCat, function (e, t) { n.isCat[t] = !(!t || t != a) && !n.isCat[t] }); angular.forEach(n.isCat, function (e, t) { n.isCat[t] = !1 }) } function d(a) { if (a) return u(), void angular.forEach(n.isActiveMenu, function (e, t) { n.isActiveMenu[t] = !(!t || t != a) && !n.isActiveMenu[t] }); angular.forEach(n.isActiveMenu, function (e, t) { n.isActiveMenu[t] = !1 }) } n.flags = l.Flags, n.showSiteNavigation = !1, n.isPlayerSection = !1, n.isGameSection = !1, n.isTeamSection = !1, n.isFantasySection = !1, n.isOnOffSection = !1, n.isImpactSection = !1, n.isEventsSection = !1, n.teams = i.get(), n.isPlayersSub = { general: !1, defense: !1, clutch: !1, tracking: !1, playtype: !1, shots: !1, advboxscores: !1 }, n.isTeamsSub = { list: !1, general: !1, clutch: !1, defense: !1, playtype: !1, tracking: !1, shotdash: !1, oppshotdash: !1, advboxscores: !1 }, n.isEventsSub = { allstar: !1 }, n.isCat = { players: !1, teams: !1, lineups: !1, onoff: !1, draft: !1, tools: !1, other: !1, allstar: !1, franchiseleaders: !1, nbaEvents: !1, fantasySection: !1 }, n.isActiveMenu = { player: !1, team: !1, game: !1, fantasy: !1, onoff: !1, franchiseleaders: !1, allstar: !1, nbaEvents: !1 }, e.on("click", ".stats-dropdown a", function (e) { var t; e.target.href && (t = r.parseMenuOptions(n.isCat, n.isPlayersSub, e.target.innerText), r.triggerEvent("navigation", t)) }), n.toggleSub = c, n.toggleCat = u, n.toggleActiveMenu = d, s.$on("toggleStatsNav", function (e, t) { n.showSiteNavigation = "boolean" == typeof t ? t : !n.showSiteNavigation }), s.$on("onPlayerInfo", function (e, t) { if (!t) return; n.isPlayerSection = !0, n.isActiveMenu.player = !0, n.player = t }), s.$on("onGameInfo", function (e, t) { if (!t) return; n.isGameSection = !0, n.isActiveMenu.game = !0, n.game = t }), s.$on("onTeamInfo", function (e, t) { if (!t) return; n.isTeamSection = !0, n.isActiveMenu.team = !0, n.team = t }), s.$on("onFantasyInfo", function (e, t) { if (!t) return; n.isFantasySection = !0, n.isActiveMenu.fantasy = !0, n.fantasy = t }), s.$on("onOnOffInfo", function (e, t) { if (!t) return; n.isOnOffSection = !0, n.isActiveMenu.onoff = !0, n.onoff = t }), s.$on("onImpactInfo", function (e, t) { if (!t) return; n.isImpactSection = !0, n.isActiveMenu.impact = !0, n.impact = t }), s.$on("onEventsInfo", function (e, t) { if (!t) return; n.isEventsSection = !0, n.isActiveMenu.allstar = !0, n.nbaEvents = t }), s.$on("$routeChangeSuccess", function () { n.showSiteNavigation = !1 }), n.toggleNav = function () { u(), n.$emit("toggleStatsNav", null) }, e.on("click", function (e) { var t; n.showSiteNavigation && (t = e.target, $.contains(a.get(0), t) || (n.showSiteNavigation = !1, n.$apply())) }); var p = [new Date(2020, 1, 14, 6), new Date(2020, 1, 15, 6), new Date(2020, 1, 16, 6)], m = new Date; n.allstarLinks = { friday: !0, saturday: p[1] <= m, sunday: p[2] <= m, weekend: p[3] <= m } } stats.controller("StatsNavController", e), e.$inject = ["$scope", "$document", "$element", "$location", "$rootScope", "DtmService", "SeasonsService", "TeamsService"] }(), function () { function e(i, e, r, l, t, o, a, c, n, s) { var u = a.findBy("rs", !0).slice(0), d = a.findBy("rs", !1).slice(0), p = n.get().map(function (e) { return angular.extend({}, e, { type: "tm" }) }); i.search = "", i.searchResults = [], i.recentSearches = c.get(), i.maxResults = 7, i.showSearch = !1, i.showResults = !1, i.hasResults = !1, i.activeIndex = -1, i.totalResults = 0, i.toggleSearch = function () { if (i.showSearch = !i.showSearch, i.showResults = !1, !i.showSearch) return; i.search = "", i.showRecent = !0, i.searchResults = c.get(), i.showResults = !0, o(function () { r.find(".stats-search__input").focus() }, 0) }, i.onKeyDown = function (e) { { var t, a, n, s; "38" == (e = e || window.event).keyCode ? (i.activeIndex = Math.max(0, i.activeIndex - 1), e.preventDefault()) : "40" == e.keyCode ? (i.activeIndex = Math.min(i.maxResults - 1, Math.min(i.searchResults.length, i.activeIndex + 1)), e.preventDefault()) : "13" == e.keyCode && (t = i.searchResults[i.activeIndex], a = r.find(".stats-search__item:eq(" + i.activeIndex + ") a"), i.recentSearches = c.add(t), n = { focus: "search-bar", content: [t] }, "undefined" != typeof _nba && _nba.analytics.click(n), s = a.attr("href"), document.location = s, i.search = "", i.showSearch = !1, i.showResults = !1) } }, i.onChange = function (e) { (function (e) { if (e.length < 3) return; i.showRecent = !1; var t, a = e.toLowerCase().split(" ").filter(function (e) { return !!e.length }), n = u.slice(0), s = d.slice(0), r = p.slice(0); for (t in a) { var o = a[t]; n = n.filter(f.bind("", o)), s = s.filter(f.bind("", o)), r = l("filter")(r, o, !1) } i.searchResults = [].concat(r).concat(n).concat(s), i.hasResults = !!i.searchResults.length, i.showResults = !0 })(i.search), i.activeIndex = -1 }, i.onItemClick = function (e, t, a) { e.preventDefault(), e.stopPropagation(), i.recentSearches = c.add(t); var n = { focus: "search-bar", content: [t] }; "undefined" != typeof _nba && _nba.analytics.click(n); var s = angular.element(e.target).attr("href"); document.location = s, o(function () { i.showSearch = !1, i.showResults = !1 }, 0) }, i.onItemHover = function (e, t, a) { i.activeIndex = a }, i.onBlur = function (e) { o(function () { i.showSearch = !1, i.showResults = !1 }, 100) }; var m = r.data("season-section"); function f(e, t) { var a = "toLowerCase", n = "indexOf"; return -1 < t.fn[a]()[n](e) || -1 < t.ln[a]()[n](e) } i.searchYear = s.get(m).Season, i.recentSearches.length, e.on("click", function (e) { var t; i.showSearch && (t = e.target, $.contains(r.get(0), t) || (i.showSearch = !1, i.showResults = !1, i.$apply())) }) } stats.controller("StatsSearchController", e), e.$inject = ["$scope", "$document", "$element", "$filter", "$location", "$timeout", "PlayersService", "RecentSearchesService", "TeamsService", "SeasonsService"] }(), function () { function e(n, e, a, t, s, r, o) { n.isLoaded = !1, n.hasData = !1, n.games = [], n.gameDate = "", n.gdte = ""; var i, l = r.get("leagueLineups").Flags; l.gameDate ? n.gameDate = l.gameDate : ((i = new Date).getUTCHours() < 10 && i.setUTCDate(i.getUTCDate() - 1), n.gameDate = e("date")(i, "yyyy-MM-dd", "utc")); var c = 12e4, u = { LeagueID: "00", DayOffset: "0", gameDate: e("date")(n.gameDate, "MM/dd/yyyy", "utc") }; function d(e, t) { return a(function () { o.get(e).then(m.bind("", e, t)) }, c) } function p(e, t) { return a(function () { o.get(e).then(f.bind("", e, t)) }, c) } function m(e, s, t) { return t && t.results && t.result_count ? (t.results.forEach(function (t) { var e, a, n = s.find(function (e) { return e.gid === t.GameID }); n && (e = t.VisitorTeam, a = t.HomeTeam, n.v.hasProjected = !0, n.h.hasProjected = !0, n.v.projected = t[e], n.h.projected = t[a]) }), s.every(function (e) { return e.hasStarters }) ? void 0 : d(e, s)) : d(e, s) } function f(e, n, s) { return s && Object.keys(s) ? (Object.keys(s).forEach(function (t) { var e = s[t], a = n.find(function (e) { return e.gid === t }); a && (a.st = e.st, a.stt = e.stt, a.v.starters = e.vtm.filter(g), a.h.starters = e.htm.filter(g), a.v.bench = e.vtm.filter(v), a.h.bench = e.htm.filter(v), a.v.inactive = e.vtm.filter(S), a.h.inactive = e.htm.filter(S), a.v.hasStarters = 0 < a.v.starters.length, a.h.hasStarters = 0 < a.h.starters.length, a.v.hasBench = 0 < a.v.bench.length, a.h.hasBench = 0 < a.h.bench.length, a.v.hasInactive = 0 < a.v.inactive.length, a.h.hasInactive = 0 < a.h.inactive.length) }), n.every(h) ? void 0 : p(e, n)) : p(e, n) } function h(e) { return 1 < +e.st } function g(e) { return "" !== e.pos && "A" === e.status } function v(e) { return !g(e) && "A" === e.status } function S(e) { return "I" === e.status } s.get(u).then(function (e) { n.games = e.games.map(function (e) { var t = e.linescores, a = t.vtm, n = t.htm; return { gid: e.GAME_ID, gcode: e.GAMECODE, gdte: e.GAME_DATE_EST.slice(0, 10), p: e.LIVE_PERIOD, st: +e.GAME_STATUS_ID, stt: e.GAME_STATUS_TEXT, v: { ta: a.TEAM_ABBREVIATION, tn: a.TEAM_NAME, tc: a.TEAM_CITY_NAME, tid: a.TEAM_ID }, h: { ta: n.TEAM_ABBREVIATION, tn: n.TEAM_NAME, tc: n.TEAM_CITY_NAME, tid: n.TEAM_ID } } }), n.isLoaded = !0, n.hasData = 0 < n.games.length, n.gdte = n.gameDate.replace(/-/g, ""); var t = "leaders/".concat(u.LeagueID, "_active_starters_").concat(n.gdte); o.get(t).then(f.bind("", t, n.games)); var a = "dailylineups/" + n.gdte.slice(0, 4) + "/daily_lineups_" + n.gdte; o.get(a).then(m.bind("", a, n.games)) }).catch(function (e) { console.error("error fetching game calendar") }) } stats.controller("LineupsLandingController", e), e.$inject = ["$scope", "$filter", "$timeout", "MobileGameDetailService", "ScoresService", "SeasonsService", "StatsFlatDataService"] }(), function () { function e(y, e, P, t, a, n, s, T) { var r = t.get(["LeagueID", "Season", { name: "SeasonType", without: ["All Star", "Pre Season", "PlayIn"] }, "GroupQuantity", "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateFrom", "DateTo", "ShotClockRange", "Conference", "Division", "PORound", "ClutchTime", { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, { name: "MeasureType", label: "Measure Type", default: "", desc: "", type: "select", options: [{ val: "Base", text: "Base" }] }, { name: "MinutesMin", label: "Minutes Min", default: 25, initial: 25, desc: "", type: "select", options: [{ val: 25, text: "25" }, { val: 50, text: "50" }, { val: 75, text: "75" }, { val: 100, text: "100" }, { val: 125, text: "125" }, { val: 150, text: "150" }, { val: 175, text: "175" }, { val: 200, text: "200" }, { val: 225, text: "225" }, { val: 250, text: "250" }] }, { name: "TeamID", label: "Team ID", includeBefore: [{ val: "", text: "All Teams" }] }, { name: "LineupsVisuals", label: "Lineups Visuals", description: "Lineups Visuals Graph Options", default: "NET_RATING", order: 340, initial: "NET_RATING", type: "select", options: [{ val: "NET_RATING", text: P("statFieldToText")("NET_RATING") }, { val: "PACE", text: "PACE" }, { val: "OFF_RATING", text: P("statFieldToText")("OFF_RATING") }, { val: "DEF_RATING", text: P("statFieldToText")("DEF_RATING") }, { val: "TS_PCT", text: P("statFieldToText")("TS_PCT") }, { val: "FTA_RATE", text: P("statFieldToText")("FTA_RATE") }, { val: "TM_AST_PCT", text: P("statFieldToText")("TM_AST_PCT") }, { val: "PCT_FGA_2PT", text: P("statFieldToText")("PCT_FGA_2PT") }, { val: "PCT_FGA_3PT", text: P("statFieldToText")("PCT_FGA_3PT") }, { val: "PCT_PTS_2PT_MR", text: P("statFieldToText")("PCT_PTS_2PT_MR") }, { val: "PCT_PTS_FB", text: P("statFieldToText")("PCT_PTS_FB") }, { val: "PCT_PTS_FT", text: P("statFieldToText")("PCT_PTS_FT") }, { val: "PCT_PTS_PAINT", text: P("statFieldToText")("PCT_PTS_PAINT") }, { val: "PCT_AST_FGM", text: P("statFieldToText")("PCT_AST_FGM") }, { val: "PCT_UAST_FGM", text: P("statFieldToText")("PCT_UAST_FGM") }, { val: "OPP_FG3_PCT", text: P("statFieldToText")("OPP_FG3_PCT") }, { val: "OPP_EFG_PCT", text: P("statFieldToText")("OPP_EFG_PCT") }, { val: "OPP_FTA_RATE", text: P("statFieldToText")("OPP_FTA_RATE") }, { val: "OPP_TOV_PCT", text: P("statFieldToText")("OPP_TOV_PCT") }] }]); y.splits = r.splits, y.params = r.params; var D = [{ key: "East", values: [{ key: "Atlantic", values: T.findBy("division", "Atlantic") }, { key: "Central", values: T.findBy("division", "Central") }, { key: "Southeast", values: T.findBy("division", "Southeast") }] }, { key: "West", values: [{ key: "Northwest", values: T.findBy("division", "Northwest") }, { key: "Pacific", values: T.findBy("division", "Pacific") }, { key: "Southwest", values: T.findBy("division", "Southwest") }] }]; function o() { y.isLoading = !0, y.selectedOption = y.splits.LineupsVisuals.selected.val, s.get(y.params).then(function (e) { d3.select(".lineups-chart").selectAll("svg").remove(), y.isLoading = !1, y.stats = e.LeagueLineupViz.rows, y.stats && 0 !== y.stats.length ? y.noData = !1 : y.noData = !0; var t = T.get().reduce(function (e, t) { return e[t.id] = t, e }, {}), p = y.stats, s = document.querySelector(".section-view-overlay").offsetWidth - 30, m = { top: s < 640 ? 45 : 60, right: s < 640 ? 15 : 30, bottom: s < 640 ? 45 : 60, left: s < 640 ? 30 : 50 }, a = 300; 4e3 < p.length ? a = 525 : 3500 < p.length ? a = 500 : 3e3 < p.length ? a = 475 : 2500 < p.length ? a = 450 : 2e3 < p.length ? a = 425 : 1500 < p.length ? a = 390 : 1200 < p.length && (a = 375); var n = s < 640 ? 6 * a + 50 + 100 : 3 * a + 50 + 100, f = s < 640 ? d3.scaleBand().domain([1]).range([0, s]).padding(.025) : d3.scaleBand().domain([0, 1]).range([0, s]).padding(.025), r = d3.scaleLinear().domain(d3.extent(p, function (e) { return e[y.selectedOption] })).range([m.left, f.bandwidth() - m.left]).nice(), o = s < 640 ? d3.scaleBand().domain([0, 1, 2, 3, 4, 5]).range([0, 6 * a]).padding(.05) : d3.scaleBand().domain([0, 1, 2]).range([0, 3 * a]).padding(.05), h = d3.scaleBand().domain([0, 1, 2, 3, 4]).range([m.top, o.bandwidth()]).padding(.05), g = d3.scaleLinear().domain(d3.extent(p, function (e) { return e.MIN })); 2200 < p.length ? g.range([2, 7]) : 2e3 < p.length ? g.range([3, 8]) : 1500 < p.length ? g.range([3, 9]) : 1e3 < p.length ? g.range([4, 9]) : 500 < p.length ? g.range([4, 12]) : g.range([4, 13]); var i = d3.select(".lineups-chart").append("svg").attr("width", s).attr("height", n).attr("class", "lineups-chart_container shadow-block"); function l(e) { return t[e] ? t[e].color : "#666" } function c(e) { e.attr("class", "division").attr("transform", function (e, t) { if (!(s < 640)) return "translate(0, ".concat(o(t), ")"); switch (e.key) { case "Northwest": return "translate(0, ".concat(o(3), ")"); case "Pacific": return "translate(0, ".concat(o(4), ")"); case "Southwest": return "translate(0, ".concat(o(5), ")"); default: return "translate(0, ".concat(o(t), ")") } }).attr("data-div", function (e) { return e.key }), e.append("g").call(v), e.append("g").append("text").text(function (e) { return "".concat(e.key, " Division") }).attr("transform", function () { return s < 640 ? "translate(15, ".concat(m.top / 2, ")") : "translate(0, ".concat(m.top / 2, ")") }).attr("font-family", "Roboto, Helvetica, Arial, sans-serif").attr("font-size", function () { return s < 640 ? "14px" : "20px" }), e.selectAll(".team").data(function (e) { return e.values }).enter().append("g").call(u) } function u(e) { e.attr("class", "team").attr("data-team", function (e) { return e.ta }).attr("transform", function (e, t) { return "translate(0, ".concat(h(t), ")") }); var t = h.bandwidth(), a = f.bandwidth(); e.append("line").attr("x1", m.left).attr("x2", a - m.left).attr("y1", t / 2).attr("y2", t / 2).attr("stroke", "#aaa").attr("stroke-dasharray", "2,2"), e.append("svg:image").attr("x", 0).attr("y", 3).attr("width", .85 * t).attr("height", .85 * t).attr("xlink:href", function (e) { return "/stats/media/img/teams/logos/".concat(e.abbr, "_logo.svg") }).append("title").text(function (e) { return "".concat(e.city, " ").concat(e.name) }), e.append("g").attr("class", "lineups").style("fill", function (e) { return l(e.id) }).style("stroke", function (e) { return l(e.id) }).selectAll(".lineup").data(function (t) { return function (e) { for (var t = d3.forceSimulation(e).force("x", d3.forceX(function (e) { return r(e[y.selectedOption]) }).strength(2)).force("y", d3.forceY(h.bandwidth() / 2)).force("collide", d3.forceCollide().radius(function (e) { return g(e.MIN) }).strength(2).iterations(10)).stop(), a = 0; a < 200; ++a)t.tick(); return t }(p.filter(function (e) { return e.TEAM_ID === +t.id })).nodes() }).enter().call(d) } function d(e) { var t = e.append("a"); t.attr("href", function (e) { var t = y.splits.LineupsVisuals.selected.val, a = y.splits.Season.selected.val, n = y.splits.SeasonType.selected.val, s = y.splits.GroupQuantity.selected.val, r = y.splits.MinutesMin.selected.val; return "/stats/team/".concat(e.TEAM_ID, "/lineups-advanced?sort=").concat(t, "&Season=").concat(a, "&SeasonType=").concat(n, "&GroupQuantity=").concat(s, "&CF=MIN*G*").concat(r) }).attr("target", "_blank"), t.append("circle").attr("class", "lineup-bubble").attr("r", function (e, t, a) { return g(e.MIN) }).attr("cy", function (e) { return e.y }).attr("cx", function (e) { return e.x }).attr("stroke-width", 1).attr("fill-opacity", .5).append("title").text(function (e) { var t; switch (y.selectedOption) { case "NET_RATING": t = P("number")(e[y.selectedOption], 1); break; case "PACE": t = P("number")(e[y.selectedOption], 2); break; case "OFF_RATING": case "DEF_RATING": t = P("number")(e[y.selectedOption], 1); break; case "TS_PCT": t = P("percent")(e[y.selectedOption]); break; case "FTA_RATE": t = P("number")(e[y.selectedOption], 3); break; case "TM_AST_PCT": case "PCT_FGA_2PT": case "PCT_FGA_3PT": case "PCT_PTS_2PT_MR": case "PCT_PTS_FB": case "PCT_PTS_FT": case "PCT_PTS_PAINT": case "PCT_AST_FGM": case "PCT_UAST_FGM": case "OPP_FG3_PCT": case "OPP_EFG_PCT": t = P("percent")(e[y.selectedOption]); break; case "OPP_FTA_RATE": t = P("number")(e[y.selectedOption], 3); break; case "OPP_TOV_PCT": t = P("percent")(e[y.selectedOption]) }return "".concat(e.GROUP_NAME, "\n").concat(P("statFieldToText")(y.selectedOption), ": ").concat(t, "\nMinutes: ").concat(e.MIN) }) } function v(e) { e.append("g").attr("transform", "translate(0, ".concat(m.top, ")")).attr("class", "tics-g").call(d3.axisTop(r).tickFormat(function (e) { return y.selectedOption.includes("PCT") ? "".concat(Math.round(100 * e), "%") : e }).tickSizeInner(2)).call(function (e) { return e.select(".domain").remove() }), e.selectAll(".tick line").attr("stroke", "#aaa").attr("stroke-dasharray", "2 2").attr("stroke-opacity", .5) } function S(e) { var t = e.append("g"); t.append("text").attr("text-anchor", "start").text(function (e) { return "".concat(P("statFieldToText")(y.selectedOption), " Minutes Range") }).attr("font-weight", function (e) { return 600 }).attr("font-size", function (e) { return 12 }).attr("font-family", "Roboto, Helvetica, Arial, sans-serif").attr("transform", function (e, t) { var a = m.left; return "translate(".concat(a, ", ").concat(0, ")") }).attr("dy", function (e) { return -30 }); var a, n = h.bandwidth(), s = (f.bandwidth(), d3.extent(p, function (e) { return e.MIN })), r = d3.extent(p, function (e) { return e.MIN }), o = _slicedToArray(r, 2), i = o[0], l = o[1], c = [i, (a = s).reduce(function (e, t) { return e + t }, 0) / a.length, l], u = d3.scaleLinear().domain(d3.extent(p, function (e) { return Math.floor(e.MIN) })).range([m.left, (f.bandwidth() - m.right) / 3]); t.append("g").attr("class", "tics-k").call(d3.axisTop(u).tickValues(c).tickSizeInner(2)).call(function (e) { return e.select(".domain").remove() }), t.selectAll(".tick-k line").attr("stroke", "#eee").attr("stroke-dasharray", "2 2").attr("stroke-opacity", .5); var d = e.append("g").attr("class", "key-bubbles"); d.append("line").attr("x1", m.left).attr("x2", (f.bandwidth() - m.right) / 3).attr("y1", n / 2).attr("y2", n / 2).attr("stroke", "#aaa").attr("stroke-dasharray", "2,2"), d.append("g").attr("transform", "translate(".concat(0, ", ", n / 2, ")")).selectAll(".lineup-key-bubble").data(function (e) { return c }).enter().append("circle").attr("class", "lineup-key-bubble").attr("cursor", "help").attr("r", function (e) { return g(e) }).attr("cy", 0).attr("cx", function (e) { return u(e) }).attr("fill", "#666").attr("stroke-width", 1).attr("fill-opacity", .5).append("title").text(function (e) { return "".concat(Math.round(e), " Min") }) } i.append("rect").attr("width", "100%").attr("height", "100%").attr("fill", "#fff"), i.selectAll(".conf").data(D).enter().append("g").call(function (e) { s < 640 ? e.attr("transform", function (e, t) { return "translate(20, ".concat(100, ")") }) : e.attr("transform", function (e, t) { return "translate(".concat(f(t), ", ").concat(100, ")") }); e.attr("class", "conf").attr("data-conf", function (e) { return e.name }).selectAll(".division").data(function (e) { return e.values }).enter().append("g").call(c) }), i.append("g").attr("class", "nba-stats-svg-copy").attr("height", 50).attr("transform", function (e) { var t = n - 25; s < 640 && (t = n - 25 + 15); var a = s - m.right - m.left; return "translate(".concat(a, ", ").concat(t, ")") }).append("text").attr("text-anchor", "start").attr("dx", function (e) { return s < 640 ? -70 : -100 }).attr("font-weight", 800).attr("fill", "#1a477b").attr("font-family", "Roboto, Helvetica, Arial, sans-serif").attr("font-size", function (e) { return s < 640 ? 16 : 20 }).text(function (e) { return "NBA.com/Stats" }), i.call(function (e) { e.append("g").attr("class", "nba-stats-svg-lineups-key").attr("height", 100).attr("transform", function (e, t) { var a = s < 640 ? 0 : -15, n = m.top; return "translate(".concat(a, ", ").concat(n, ")") }).call(S) }) }) } o(), d3.select(window).on("resize.updatesvg", o), y.$on("runit", function (e) { o() }) } stats.controller("LineupsToolController", e), e.$inject = ["$scope", "$timeout", "$filter", "SplitsService", "SeasonsService", "GameRotationService", "LeagueLineupVizService", "TeamsService"] }(), function () { function e(a, e, t, n, s, r) { a.isLoading = !0, a.showSplits = !1; var o = s.get("leagueLineups"), i = n.get(["LeagueID", { name: "Season", initial: o.Season, seasonRange: [o.SeasonYearFrom, o.SeasonYear] }, { name: "SeasonType", initial: o.SeasonType, without: ["Pre Season"] }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, "GroupQuantity", "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateFrom", "DateTo", "ShotClockRange", "TeamID", "Conference", "Division", "PORound"]); function l() { a.isLoading = !0, r.get(a.params).then(function (e) { a.teamLineups = e[0].rows, a.isLoading = !1, a.noData = 0 === e[0].rows.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = i.splits, a.params = i.params, a.params.MeasureType = e.data("measure-type"), a.params.GameID = "", a.options = { rowsPerPage: 25 }, a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { l() }), l() } stats.controller("LineupsController", e), e.$inject = ["$scope", "$element", "$location", "SplitsService", "SeasonsService", "LeagueLineupsService"] }(), function () { function e(r, e, o, t, a, n) { r.isLoading = !0, r.leagueWideStats = [], r.teamStats = [], r.filteredTeamStats = [], r.activeTeam = null; var s = o.get(["LeagueID", "Season", "SeasonType"]).params, i = angular.extend({}, s, { LeagueID: "10" }), l = angular.extend({}, s, { LeagueID: "20" }), c = a.get(i), u = a.get(l); function d(e, t) { var a = [{ name: "LeagueID", without: ["09", "11", "12", "13", "14", "15", "16", "20", "99"], include: [{ val: "20", text: "GLeague", disp: "GLEAGUE" }] }, "TeamID"]; e && (r.hasWTeams = !0, a.push({ name: "TeamID_10", label: "Team", order: 300, default: "0", type: "select", desc: "", options: e })), t && (r.hasGTeams = !0, a.push({ name: "TeamID_20", label: "Team", order: 300, default: "0", type: "select", desc: "", options: t })); var n = o.get(a); r.splits = n.splits, r.params = n.params; var s = r.params.LeagueID; r.s3pathbase = "", p(s) } function p(n) { r.s3pathbase = window.s3source + "staticData/EliasGameStats/".concat(n, "/"); var e = "staticData/EliasGameStats/".concat(n, "/manifest_").concat(n, ".json"); t.get(e).then(function (e) { if (!e) throw new Error("No data"); r.hasError = !1, r.leagueWideStats = e.leagueWideStats, r.teamStats = e.teamStats; var t = "00" === n ? "TeamID" : "TeamID_".concat(n), a = +r.params[t]; r.filteredTeamStats = e.teamStats.filter(function (e) { return 0 != +e.team && +e.team == +a }), r.teamName = r.splits[t].options.find(function (e) { return +e.val == a }).text, r.isLoading = !1 }).catch(function (e) { r.hasError = !0 }) } function m(e) { try { var t = e.val, a = e.text; r.filteredTeamStats = r.teamStats.filter(function (e) { return 0 != +e.team && +e.team == +t }), r.teamName = a } catch (e) { r.filteredTeamStats = [], r.teamName = "" } } e.all([c, u]).then(function (e) { var t = e[0].CumeStatsTeamList.rows.map(function (e) { return { val: e.TEAM_ID, text: e.TEAM } }), a = e[1].CumeStatsTeamList.rows.map(function (e) { return { val: e.TEAM_ID, text: e.TEAM } }); t.unshift({ val: "0", text: "All Teams" }), a.unshift({ val: "0", text: "All Teams" }), d(t, a) }).catch(function (e) { d() }), r.$on("updateFilters", function (e) { try { var t = e.targetScope.split; t.name && t.name.includes("TeamID") ? m(t.selected) : (m(null), p(t.selected.val)) } catch (e) { } }) } stats.controller("MediaCentralGameStatsController", e), e.$inject = ["$scope", "$q", "SplitsService", "StatsS3Service", "CumeStatsTeamListService", "DtmService"] }(), function () { function e(a, n, t) { a.$watch("playerInfo", function (e) { if (!e) return; a.params = { PlayerID: e.PERSON_ID }, a.isLoading = !0, t.get(a.params).then(function (e) { var t = e.PlayerAwards.rows; a.noData = 0 === t.length, a.isLoading = !1, a.noData || (a.awards = n("groupBy")(t, "DESCRIPTION", { asArray: !0 })) }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) }) } stats.controller("PlayerAwardsController", e), e.$inject = ["$scope", "$filter", "PlayerAwardsService"] }(), function () { function e(r, o, i, l, c, u, e) { function d() { r.isLoading = !0, e.get(r.params).then(function (e) { r.stats = e, r.noData = !e.rows.length, r.isLoading = !1 }).catch(function (e) { r.isLoading = !1, r.noData = !0 }) } r.ai = {}, r.ai.showTeamCol = !1, r.$watch("playerInfo", function (e) { if (!e) return; r.availableStats.stats || l.path(e.PERSON_ID + "/career/"); var t = i("playerSeason")(e.seasons, c.get("playerStats")), a = i("seasonyear")(Math.min(e.TO_YEAR, t.SeasonYear)), n = [Math.max(e.FROM_YEAR, 1996), e.TO_YEAR]; if (n[1] < n[0]) return r.noData = !0, void (r.isLoading = !1); var s = u.get(["LeagueID", { name: "Season", initial: a, default: a, seasonRange: n }, { name: "SeasonType", initial: t.SeasonType, without: ["All Star"] }, "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateFrom", "DateTo", "PORound", "ShotClockRange"]); r.splits = s.splits, r.params = s.params, r.params.PlayerID = e.PERSON_ID, r.params.PerMode = "Totals", r.params.MeasureType = o.data("measure-type"), d() }), r.$on("customFields", function (e, t) { r.customFields = t }), r.$on("runit", function (e) { d() }) } stats.controller("PlayerBoxscoreSplitsController", e), e.$inject = ["$scope", "$element", "$filter", "$location", "SeasonsService", "SplitsService", "PlayerGamelogSplitsService"] }(), function () { function e(n, s, r, o, e) { function i() { n.isLoading = !0, n.noData = !1, e.get(n.params).then(function (e) { n.dataset = e.PlayerGameLog, n.noData = 0 === e.PlayerGameLog.rows.length, n.isLoading = !1 }).catch(function (e) { n.isLoading = !1, n.noData = !0 }) } n.noData = !1, n.isLoading = !0, n.showSplits = !1, n.$on("customFields", function (e, t) { n.customFields = t }), n.$on("runit", function (e) { i() }), n.$watch("playerInfo", function (e) { if (!e) return; e.TO_YEAR = +e.TO_YEAR, e.FROM_YEAR = +e.FROM_YEAR; var t = s("playerSeason")(e.seasons, o.get("playerGamelogs")), a = r.get(["LeagueID", { name: "Season", initial: s("seasonyear")(Math.min(e.TO_YEAR, t.SeasonYear)), seasonRange: [e.FROM_YEAR, e.TO_YEAR], includeBefore: [{ val: "ALL", text: "All" }] }, { name: "SeasonType", initial: t.SeasonType }, "DateFrom", "DateTo"]); n.splits = a.splits, n.params = a.params, n.params.PlayerID = e.PERSON_ID, i() }) } stats.controller("PlayerBoxscoresController", e), e.$inject = ["$scope", "$filter", "SplitsService", "SeasonsService", "PlayerGamelogService"] }(), function () { function e(a, e, n, t) { function s() { a.isLoading = !0, t.get(a.params).then(function (e) { a.isLoading = !1, a.datasets = e; var n = 0; a.datasets.forEach(function (t, e, a) { t && t.rows && t.rows.forEach(function (e) { e.SEASONTYPE = encodeURI(t.name) }), n += t.hasData ? 0 : 1, "League Rankings" !== t.name ? t.ai = { hasData: t.hasData, isSchool: t.isSchool, name: t.name } : t.ai = { name: t.name } }), a.noData = n === e.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.datasets = {}, a.$on("runit", function (e) { s() }), a.$watch("playerInfo", function (e) { if (!e) return; a.Player = e; var t = n.get(["LeagueID", { name: "PerMode", include: [{ val: "Per36", text: "Per 36 Minutes" }], without: ["Per48"] }]); a.splits = t.splits, a.params = t.params, a.params.PlayerID = e.PERSON_ID, s() }) } stats.controller("PlayerCareerController", e), e.$inject = ["$scope", "$location", "SplitsService", "PlayerCareerService"] }(), function () { function e(r, o, e, i, l, t) { function c() { r.isLoading = !0, t.get(r.params).then(function (e) { var t = e; 0 === t.DefendingShots.rows.length ? (r.noData = !0, r.datasets = []) : (r.noData = !1, r.datasets = [{ name: "DefendingShots", datatable: t.DefendingShots.rows }]), r.isLoading = !1 }).catch(function (e) { r.isLoading = !1, r.noData = !0 }) } r.isLoading = !0, r.showSplits = !1, r.noData = !1, r.errors = { emptyData: !1 }, r.$on("runit", function (e) { c() }), r.$watch("playerInfo", function (e) { if (!e) return; var t = o("playerSeason")(e.seasons, i.get("playerTracking")), a = o("seasonyear")(Math.min(e.TO_YEAR, t.SeasonYear)), n = [Math.max(e.FROM_YEAR, t.SeasonYearFrom), Math.min(e.TO_YEAR, t.SeasonYear)]; if (n[1] < n[0]) return r.noData = !0, void (r.isLoading = !1); var s = l.get(["LeagueID", { name: "Season", initial: a, default: a, seasonRange: n }, { name: "SeasonType", initial: t.SeasonType, without: ["Pre Season"] }, "PerMode", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateTo", "DateFrom", "TeamID", "PORound"]); r.splits = s.splits, r.params = s.params, r.params.PlayerID = e.PERSON_ID, c() }) } stats.controller("PlayerDefenseDashController", e), e.$inject = ["$scope", "$filter", "$location", "SeasonsService", "SplitsService", "PlayerTrackingDashDefenseService"] }(), function () { function e(s, e, t, a, n, r, o, i, l, c, u, d) { s.PlayerID = n.PlayerID, s.isLoading = !0, s.hasStatData = !1, s.hasNews = !1, s.hasChartData = !1, s.hasUpcomingGames = !1, s.setPerMode = function (e) { s.params.PerMode = e, a.search("PerMode", e), f() }, s.maxBarHeight = 160, s.getChartHeight = function (e, t) { return e / (e + t) * s.maxBarHeight + "px" }, s.scrollToMoreNews = function () { a.hash("more-news"), e() }; var p = i.get("playerUpcomingGames"), m = i.get("playerFantasy"); function f() { s.isLoading = !0, c.get(s.params).then(function (e) { s.isLoading = !1, e && e.Overall && e.Overall.rows.length || (s.noData = !0), s.datasets = e }) } function h() { s.hasChartData = !0, u.get(s.params).then(function (e) { var t, a, n; e && e.SeasonAvg.rows.length ? (s.charts = (a = (t = e).SeasonAvg.rows[0], n = t.LastFiveGamesAvg.rows[0], [[{ label: "fanduel", val: [a.FAN_DUEL_PTS, n.FAN_DUEL_PTS] }, { label: "ppg", val: [a.PTS, n.PTS] }, { label: "rpg", val: [a.REB, n.REB] }, { label: "apg", val: [a.AST, n.AST] }, { label: "3pm", val: [a.FG3M, n.FG3M] }], [{ label: "ft%", val: [100 * a.FT_PCT, 100 * n.FT_PCT] }, { label: "stl", val: [a.STL, n.STL] }, { label: "blk", val: [a.BLK, n.BLK] }, { label: "tov", val: [a.TOV, n.TOV] }, { label: "fg%", val: [100 * a.FG_PCT, 100 * n.FG_PCT] }]]), s.inViewportOptions = { delay: 500, callback: function (e) { var t = e.find(".player-charts__category__bar--season"), a = e.find(".player-charts__category__bar--last-five"); t.css("height", t.data("bar-height")), a.css("height", a.data("bar-height")) } }) : s.hasChartData = !1 }) } function g(e) { return e.isHome = e.HOME_TEAM_ID == s.playerInfo.TEAM_ID, e } s.$on("runit", function (e) { f() }), s.$watch("playerInfo", function (e) { var t, a; e && (s.playerInfo = e, t = l.get(["LeagueID", { name: "PerMode", include: [{ val: "Per36", text: "Per 36 Minutes" }], without: ["Per48"] }]), s.splits = t.splits, s.params = t.params, s.params.PlayerID = e.PERSON_ID, s.params.MeasureType = "Base", s.params.Season = m.Season, s.params.SeasonType = m.SeasonType, s.params.PerMode = "PerGame", s.params.PlusMinus = "N", s.params.PaceAdjust = "N", s.params.Rank = "N", s.isLoading = !0, s.hasNews = !0, o.get(s.PlayerID).then(function (e) { s.isLoading = !1, e ? (s.news = e, s.topNews = s.news.slice(0, 3), s.bottomNews = s.news.slice(3, 9)) : s.hasNews = !1 }).catch(function (e) { s.isLoading = !1, s.noData = !0 }), f(), h(), a = { LeagueID: "00", PlayerID: s.PlayerID, Season: p.Season, SeasonType: p.SeasonType, NumberOfGames: 4 }, s.hasUpcomingGames = !0, d.get(a).then(function (e) { s.upcomingGames = e.NextNGames.rows.map(g) })) }) } stats.controller("PlayerFantasyController", e), e.$inject = ["$scope", "$anchorScroll", "$filter", "$location", "$routeParams", "$sce", "PlayerNewsService", "SeasonsService", "SplitsService", "PlayerFantasySplitsService", "PlayerFantasyBarGraphService", "PlayerUpcomingGamesService"] }(), function () { function e(s, t) { s.$watch("playerInfo", function (e) { if (!e) return; s.params = { LeagueID: "00", PlayerID: e.PERSON_ID, PerMode: "PerGame" }, t.get(s.params).then(function (e) { s.isLoading = !1; var a = e.CareerHighs.rows, n = e.SeasonHighs.rows; s.hasSeasonData = !0, r.forEach(function (t) { t.career = a.filter(function (e) { return t.stat == e.STAT }), t.season = n.filter(function (e) { return t.stat == e.STAT }), 0 === t.season.length && (s.hasSeasonData = !1) }), s.cats = r }).catch(function (e) { s.isLoading = !1, s.noData = !0 }) }); var r = [{ display: "Points ", stat: "PTS", format: "number", param: 1 }, { display: "Rebounds ", stat: "REB", format: "number", param: 1 }, { display: "Assists ", stat: "AST", format: "number", param: 1 }, { display: "Steals ", stat: "STL", format: "number", param: 1 }, { display: "Field Goals Made", stat: "FGM", format: "number", param: 1 }, { display: "Free Throws Made", stat: "FTM", format: "number", param: 1 }, { display: "Three Pointers Made", stat: "FG3M", format: "number", param: 1 }, { display: "Blocks", stat: "BLK", format: "number", param: 1 }] } stats.controller("PlayerHighsController", e), e.$inject = ["$scope", "PlayerHighsService"] }(), function () { function e(r, e, o, i, l, c, t, u) { r.$watch("playerInfo", function (e) { if (!e) return; if (!e) return; r.availableStats.stats || i.path("/career/"); var t = o("playerSeason")(e.seasons, l.get("leagueMatchups")), a = o("seasonyear")(Math.min(e.TO_YEAR, t.SeasonYear)), n = [2017, e.TO_YEAR]; if (n[1] < n[0]) return r.noData = !0, void (r.isLoading = !1); var s = c.get(["LeagueID", { name: "Season", initial: a, default: a, seasonRange: n }, { name: "SeasonType", initial: t.SeasonType, without: ["Pre Season", "All Star"] }, { name: "PerMode", default: "Totals" }, "Outcome", "DateFrom", "DateTo", "PORound", { name: "Matchup", type: "select", label: "Player On", initial: "Defense", default: "Defense", options: [{ val: "Offense", text: "Offense" }, { val: "Defense", text: "Defense" }] }]); r.playerId = e.PERSON_ID, r.splits = s.splits, r.params = s.params, function t() { var e = "Offense" === r.params.Matchup ? angular.extend({}, r.params, { OffPlayerID: r.playerId }) : angular.extend({}, r.params, { DefPlayerID: r.playerId }); u.get(e).then(function (e) { r.isLoading = !1, e && (r.stats = e.MatchupsRollup.rows) }); r.$on("runit", function (e) { r.isLoading = !0, t() }) }() }) } stats.controller("PlayerMatchupsByPositionController", e), e.$inject = ["$scope", "$element", "$filter", "$location", "SeasonsService", "SplitsService", "LeagueMatchupsService", "MatchupRollups"] }(), function () { function e(r, e, o, i, l, c, t) { function a(e) { var t = "Offense" === r.params.Matchup ? "DEF" : "OFF"; e.SECONDS = function (e) { if (null == e) return null; var t = e.toString().split(":"), a = +t[0] || 0, n = +t[1] || 0; return 60 * a + n }(e.MATCHUP_MIN), e.MATCHUP = e[t + "_PLAYER_NAME"], e.MATCHUP_ID = e[t + "_PLAYER_ID"], e.TEAM_ABBR = e[t + "_TEAM_ABBREVIATION"], e.TEAM_ID = e[t + "_TEAM_ID"] } function u() { var e; r.isLoading = !0, delete (e = "Offense" === r.params.Matchup ? angular.extend({}, r.params, { OffPlayerID: r.playerId }) : angular.extend({}, r.params, { DefPlayerID: r.playerId })).Matchup, t.get(e).then(function (e) { r.dataset = e, r.dataset.rows.forEach(a), r.noData = 0 === e.rows.length, r.isLoading = !1 }).catch(function (e) { r.isLoading = !1, r.noData = !0 }) } r.$watch("playerInfo", function (e) { if (!e) return; r.availableStats.stats || i.path("/career/"); var t = o("playerSeason")(e.seasons, l.get("leagueMatchups")), a = o("seasonyear")(Math.min(e.TO_YEAR, t.SeasonYear)), n = [2017, e.TO_YEAR]; if (n[1] < n[0]) return r.noData = !0, void (r.isLoading = !1); var s = c.get(["LeagueID", { name: "Season", initial: a, default: a, seasonRange: n }, { name: "SeasonType", initial: t.SeasonType, without: ["Pre Season", "All Star"] }, { name: "PerMode", default: "Totals" }, "Outcome", "DateFrom", "DateTo", "PORound", { name: "Matchup", type: "select", label: "Player On", initial: "Defense", default: "Defense", options: [{ val: "Offense", text: "Offense" }, { val: "Defense", text: "Defense" }] }]); r.playerId = e.PERSON_ID, r.splits = s.splits, r.params = s.params, u() }), r.$on("customFields", function (e, t) { r.customFields = t }), r.$on("runit", function (e) { u() }) } stats.controller("PlayerMatchupsHeadToHeadController", e), e.$inject = ["$scope", "$element", "$filter", "$location", "SeasonsService", "SplitsService", "LeagueMatchupsService"] }(), function () { function e(t, a) { t.$watch("playerInfo", function (e) { if (!e) return; t.params = { PlayerID: e.PERSON_ID }, t.isLoading = !0, a.get(t.params.PlayerID).then(function (e) { t.isLoading = !1, t.stories = e }) }) } stats.controller("PlayerNewsCtrl", e), e.$inject = ["$scope", "PlayerNewsService"] }(), function () { function e(r, o, i, l, e) { function c() { r.isLoading = !0, e.get(r.params).then(function (e) { r.noData = !1, 0 !== (r.datasets = e)[0].datatable.length && 0 !== e[0].datatable.length || (r.noData = !0, r.datasets = []), r.isLoading = !1 }).catch(function (e) { r.isLoading = !1, r.noData = !0 }) } r.isLoading = !0, r.showSplits = !1, r.noData = !1, r.errors = { emptyData: !1 }, r.$on("runit", function (e) { c() }), r.$watch("playerInfo", function (e) { if (!e) return; var t = o("playerSeason")(e.seasons, i.get("playerTracking")), a = o("seasonyear")(Math.min(e.TO_YEAR, t.SeasonYear)), n = [Math.max(e.FROM_YEAR, t.SeasonYearFrom), Math.min(e.TO_YEAR, t.SeasonYear)]; if (n[1] < n[0]) return r.noData = !0, void (r.isLoading = !1); var s = l.get(["LeagueID", { name: "Season", initial: a, default: a, seasonRange: n }, { name: "SeasonType", initial: t.SeasonType, without: ["Pre Season"] }, "PerMode", "Outcome", "Location", "Month", "TeamID", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "LastNGames", "GameSegment", "Period", "PORound", "DateFrom", "DateTo"]); r.splits = s.splits, r.params = s.params, r.params.PlayerID = e.PERSON_ID, c() }) } stats.controller("PlayerPassesDashController", e), e.$inject = ["$scope", "$filter", "SeasonsService", "SplitsService", "PlayerTrackingDashPassesService"] }(), function () { function e(r, o, e, i, l, t) { function c() { r.isLoading = !0, t.get(r.params).then(function (e) { var t = e; 0 === t.OverallRebounding.rows.length ? (r.noData = !0, r.datasets = []) : (r.noData = !1, r.datasets = [{ name: "OverallRebounding", datatable: t.OverallRebounding.rows }, { name: "NumContestedRebounding", datatable: t.NumContestedRebounding.rows }, { name: "RebDistanceRebounding", datatable: t.RebDistanceRebounding.rows }, { name: "ShotDistanceRebounding", datatable: t.ShotDistanceRebounding.rows }, { name: "ShotTypeRebounding", datatable: t.ShotTypeRebounding.rows }]), r.isLoading = !1 }).catch(function (e) { r.isLoading = !1, r.noData = !0 }) } r.isLoading = !0, r.showSplits = !1, r.noData = !1, r.errors = { emptyData: !1 }, r.$on("runit", function (e) { c() }), r.$watch("playerInfo", function (e) { if (!e) return; var t = o("playerSeason")(e.seasons, i.get("playerTracking")), a = o("seasonyear")(Math.min(e.TO_YEAR, t.SeasonYear)), n = [Math.max(e.FROM_YEAR, t.SeasonYearFrom), Math.min(e.TO_YEAR, t.SeasonYear)]; if (n[1] < n[0]) return r.noData = !0, void (r.isLoading = !1); var s = l.get(["LeagueID", { name: "Season", initial: a, default: a, seasonRange: n }, { name: "SeasonType", initial: t.SeasonType, without: ["Pre Season", "All Star"] }, "PerMode", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateTo", "DateFrom", "TeamID", "PORound"]); r.splits = s.splits, r.params = s.params, r.params.PlayerID = e.PERSON_ID, c() }) } stats.controller("PlayerReboundDashController", e), e.$inject = ["$scope", "$filter", "$location", "SeasonsService", "SplitsService", "PlayerTrackingDashReboundsService"] }(), function () { function e(r, o, e, i, l, t) { function c() { r.isLoading = !0, t.get(r.params).then(function (e) { var t = e; r.datasets = t.slice(0, t.length - 1), r.assists = t.slice(-1)[0], r.noData = 0 === r.datasets.length, r.isLoading = !1 }).catch(function (e) { r.isLoading = !1, r.noData = !0 }) } r.isLoading = !0, r.showSplits = !1, r.noData = !1, r.$on("customFields", function (e, t) { r.customFields = t }), r.$on("runit", function (e) { c() }), r.$watch("playerInfo", function (e) { if (!e) return; var t = o("playerSeason")(e.seasons, i.get("playerStats")), a = o("seasonyear")(Math.min(e.TO_YEAR, t.SeasonYear)), n = [Math.max(e.FROM_YEAR, t.SeasonYearFrom), e.TO_YEAR]; if (n[1] < n[0]) return r.noData = !0, void (r.isLoading = !1); var s = l.get(["LeagueID", { name: "Season", initial: a, seasonRange: n }, { name: "SeasonType", initial: t.SeasonType, without: ["All Star"] }, "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateFrom", "DateTo", "PORound", "ShotClockRange"]); r.splits = s.splits, r.params = s.params, r.params.PlayerID = e.PERSON_ID, r.params.MeasureType = "Base", r.params.PerMode = "Totals", c() }) } stats.controller("PlayerShootingController", e), e.$inject = ["$scope", "$filter", "$location", "SeasonsService", "SplitsService", "PlayerShootingSplitstService"] }(), function () { function e(r, o, e, i, l, t) { function c() { r.isLoading = !0, r.noData = !1, t.get(r.params).then(function (e) { r.isLoading = !1; var t = e; if (0 === t.Overall.rows.length) return r.noData = !0, void (r.datasets = []); r.datasets = [{ name: "Overall", datatable: t.Overall.rows }, { name: "GeneralShooting", datatable: t.GeneralShooting.rows }, { name: "ShotClockShooting", datatable: t.ShotClockShooting.rows }, { name: "DribbleShooting", datatable: t.DribbleShooting.rows }, { name: "ClosestDefenderShooting", datatable: t.ClosestDefenderShooting.rows }, { name: "ClosestDefender10ftPlusShooting", datatable: t.ClosestDefender10ftPlusShooting.rows }, { name: "TouchTimeShooting", datatable: t.TouchTimeShooting.rows }] }).catch(function (e) { r.isLoading = !1, r.noData = !0 }) } r.isLoading = !0, r.showSplits = !1, r.noData = !1, r.errors = { emptyData: !1 }, r.$on("runit", function (e) { c() }), r.$watch("playerInfo", function (e) { if (!e) return; var t = o("playerSeason")(e.seasons, i.get("playerTracking")), a = o("seasonyear")(Math.min(e.TO_YEAR, t.SeasonYear)), n = [Math.max(e.FROM_YEAR, t.SeasonYearFrom), Math.min(e.TO_YEAR, t.SeasonYear)]; if (n[1] < n[0]) return r.noData = !0, void (r.isLoading = !1); var s = l.get(["LeagueID", { name: "Season", initial: a, default: a, seasonRange: n }, { name: "SeasonType", initial: t.SeasonType, without: ["Pre Season"] }, "TeamID", "PerMode", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateTo", "DateFrom"]); r.splits = s.splits, r.params = s.params, r.params.PlayerID = e.PERSON_ID, c() }) } stats.controller("PlayerShotDashController", e), e.$inject = ["$scope", "$filter", "$location", "SeasonsService", "SplitsService", "PlayerTrackingDashShotsService"] }(), function () { function e(r, o, i, l, c, u, d) { function p() { r.isLoading = !0, d.endpoint = r.splits.Split.selected.endpoint, d.get(r.params).then(function (e) { r.ai.showTeamCol = "yoy" === r.params.Split, r.datasets = e, r.noData = !r.datasets[0].rows.length, r.isLoading = !1 }).catch(function (e) { r.isLoading = !1, r.noData = !0 }) } r.ai = {}, r.ai.showTeamCol = !1, r.$watch("playerInfo", function (e) { if (!e) return; r.availableStats.stats || l.path("/career/"); var t = i("playerSeason")(e.seasons, c.get("playerStats")), a = i("seasonyear")(Math.min(e.TO_YEAR, t.SeasonYear)), n = [Math.max(e.FROM_YEAR, t.SeasonYearFrom), e.TO_YEAR]; if (n[1] < n[0]) return r.noData = !0, void (r.isLoading = !1); var s = u.get(["LeagueID", { name: "Season", initial: a, default: a, seasonRange: n }, { name: "SeasonType", initial: t.SeasonType, without: ["All Star"] }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, { name: "Split", label: "Split", order: 900, default: d.endpoints[0].val, initial: d.endpoints[0].val, type: "select", options: d.endpoints.slice(0) }, "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateFrom", "DateTo", "PORound", "ShotClockRange"]); r.splits = s.splits, r.params = s.params, r.params.PlayerID = e.PERSON_ID, r.params.MeasureType = o.data("measure-type"), p() }), r.$on("customFields", function (e, t) { r.customFields = t }), r.$on("runit", function (e) { p() }) } stats.controller("PlayerSplitsController", e), e.$inject = ["$scope", "$element", "$filter", "$location", "SeasonsService", "SplitsService", "PlayerSplitsService"] }(), function () { function e(r, o, e, t, i, l, c) { function u() { i.endpoint = r.splits.Split.selected.endpoint, a("Base"), a("Advanced"), a("Misc"), a("Scoring"), a("Usage") } function a(t) { var e = angular.extend({}, { MeasureType: t }, r.params); r.datasets[t] = {}, r.datasets[t].isLoading = !0, i.get(e).then(function (e) { r.datasets[t].sets = e, r.datasets[t].noData = !e[1].rows.length, r.datasets[t].isLoading = !1 }).catch(function (e) { console.error("err", e), r.datasets[t].isLoading = !1, r.datasets[t].noData = !0 }) } r.$watch("playerInfo", function (e) { if (!e) return; if (r.ai.disablePopup = !0, !r.availableStats.current || !r.availableStats.stats || e.FROM_YEAR < 1996) return void (document.location = "/stats/player/" + e.PERSON_ID + "/career/"); var t = o("playerSeason")(e.seasons, l.get("playerStats")), a = o("seasonyear")(Math.min(e.TO_YEAR, t.SeasonYear)), n = [Math.max(e.FROM_YEAR, t.SeasonYearFrom), e.TO_YEAR]; if (n[1] < n[0]) return r.noData = !0, void (r.isLoading = !1); var s = c.get(["LeagueID", { name: "Season", initial: a, seasonRange: n }, { name: "SeasonType", initial: t.SeasonType, default: t.SeasonType, without: ["All Star"] }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, { name: "Split", label: "Split", order: 900, default: "yoy", initial: "yoy", type: "select", options: i.endpoints.slice(0) }, "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateFrom", "DateTo", "PORound", "ShotClockRange"]); r.splits = s.splits, r.params = s.params, r.params.PlayerID = e.PERSON_ID, u() }), r.datasets = {}, r.ai = {}, r.ai.showTeamCol = !0, r.$on("runit", function (e) { u() }) } stats.controller("PlayerStatsProfileController", e), e.$inject = ["$scope", "$filter", "$location", "$timeout", "PlayerSplitsService", "SeasonsService", "SplitsService"] }(), function () { function e(n, s, r, e, t, a, o, i, l) { var c = e.absUrl(); -1 < c.indexOf("/#!/") && (document.location = c.replace("/#!/", "/")), n.isLoading = !0; var u = l.get("site"), d = l.get("playerTracking"), p = ["ATL", "BOS", "BKN", "CHA", "CHI", "CLE", "DAL", "DEN", "DET", "GSW", "HOU", "IND", "LAC", "LAL", "MEM", "MIA", "MIL", "MIN", "NOH", "NJN", "NOP", "NYK", "OKC", "ORL", "PHI", "PHX", "POR", "SAC", "SAS", "TOR", "UTA", "WAS"]; n.PlayerID = r.data("player-id"), n.showAllStarBtn = u.Flags.allstarVoting; n.PlayerID; !function () { n.playerInfo = window.nbaStatsPlayerInfo, n.playerInfo.HEIGHT_INCHES = s("toInches")(n.playerInfo.HEIGHT), n.playerInfo.HEIGHT_FORMATTED = n.playerInfo.HEIGHT ? n.playerInfo.HEIGHT.replace("-", "'") + '"' : n.playerInfo.HEIGHT, n.playerInfo.HEIGHT_METRIC = Number(.0254 * n.playerInfo.HEIGHT_INCHES).toFixed(2), n.playerInfo.WEIGHT = +n.playerInfo.WEIGHT, n.playerInfo.WEIGHT_METRIC = Number(.453592 * n.playerInfo.WEIGHT).toFixed(0), n.playerID = n.playerInfo.PERSON_ID, n.hasTeamTheme = -1 !== p.indexOf(n.playerInfo.TEAM_ABBREVIATION), n.playerHeadlineStats = window.nbaStatsPlayerStats, n.PlayerCode = n.playerInfo.PLAYERCODE, n.ai = n.playerInfo; var e = n.playerInfo.TO_YEAR, t = n.playerInfo.FROM_YEAR; n.playerIsActive = e >= u.SeasonYear, n.playerInfo.seasons = window.nbaStatsPlayerSeasons, 2403 === n.playerID ? (n.playerInfo.FIRST_NAME = "", n.playerInfo.LAST_NAME = "Nene") : 2397 === n.playerID ? (n.playerInfo.FIRST_NAME = "Yao", n.playerInfo.LAST_NAME = "Ming") : 201146 === n.playerID && (n.playerInfo.FIRST_NAME = "Yi", n.playerInfo.LAST_NAME = "Jianlian"); n.availableStats = { current: "Active" === n.playerInfo.ROSTERSTATUS || "Y" === n.playerInfo.GAMES_PLAYED_CURRENT_SEASON_FLAG, tracking: 2013 <= e && t <= d.SeasonYear && "Y" === n.playerInfo.GAMES_PLAYED_FLAG, stats: 1996 <= e && "Y" === n.playerInfo.GAMES_PLAYED_FLAG, video: 2013 <= e && "Y" === n.playerInfo.GAMES_PLAYED_FLAG, boxscores: "Y" === n.playerInfo.GAMES_PLAYED_FLAG, matchups: 2017 <= e }, 1996 <= n.playerInfo.FROM_YEAR ? n.availableStats.boxscoreFlag = 1 : 1996 <= n.playerInfo.TO_YEAR ? n.availableStats.boxscoreFlag = 2 : n.availableStats.boxscoreFlag = 3; n.$emit("onPlayerInfo", { id: n.playerInfo.PERSON_ID, name: n.playerInfo.FIRST_NAME + " " + n.playerInfo.LAST_NAME, sections: n.availableStats }); var a = [n.playerInfo.FIRST_NAME + " " + n.playerInfo.LAST_NAME, n.playerInfo.PERSON_ID]; o.triggerEvent("pageLoad", a) }(), n.$on("onPlayerSection", function (e, t) { n.playerSection = t }), n.$on("$viewContentLoaded", function (e, t) { var a = r.find(".player-view"); n.pageCat = a.data("cat"), n.pageSection = a.data("section") }), n.trackGleagueClick = function (e) { var t = [n.playerInfo.PERSON_ID + "", n.playerInfo.FIRST_NAME + " " + n.playerInfo.LAST_NAME]; o.triggerEvent("playerProfileGLeagueLink", t) } } stats.controller("PlayerSummaryController", e), e.$inject = ["$scope", "$filter", "$element", "$location", "$routeParams", "$window", "DtmService", "PlayersService", "SeasonsService"] }(), function () { function e(t, e) { t.isLoading = !0, e.get("advanced_leaders").then(function (e) { t.feed = e, t.isLoading = !1 }) } stats.controller("PlayersAdvancedLeadersController", e), e.$inject = ["$scope", "StatsWidgetService"] }(), function () { function e(a, e, n, t, s, r) { var o = t.get("leadersAllTime"), i = s.get(["LeagueID", { name: "SeasonType", without: ["Pre Season", "All Star", "PlayIn"], initial: o.SeasonType }, { name: "PerMode", default: "PerMode", initial: "PerMode" }]); function l() { a.isLoading = !0, e.get(a.params).then(function (e) { var t; a.prefix = "/stats/alltime-leaders/?SeasonType=" + a.params.SeasonType + "&PerMode=" + a.params.PerMode, a.datasets = (t = e, Object.keys(t).forEach(function (e) { t[e].rows.forEach(function (e) { var t = n.getById(e.PLAYER_ID); e.active = t && t.rs }) }), t), a.isLoading = !1 }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = i.splits, a.params = i.params, a.params.TopX = 10, a.teams = r.get(), a.isLoading = !0, a.$on("runit", function (e) { l() }), l() } stats.controller("PlayersAlltimeLandingController", e), e.$inject = ["$scope", "AlltimeLeadersGridService", "PlayersService", "SeasonsService", "SplitsService", "TeamsService"] }(), function () { function e(a, e, t, n) { a.isLoading = !0; var s = e.get("leaguePlayerStats"), r = t.get(["LeagueID", { name: "Season", initial: s.Season, seasonRange: [s.SeasonYearFrom, s.SeasonYear] }, { name: "SeasonType", initial: s.SeasonType, without: "PlayIn" }, "PerMode", "College", "Conference", "Country", "DateFrom", "DateTo", "Division", "DraftPick", "DraftYear", "GameScope", "GameSegment", "Height", "LastNGames", "Location", "Month", "OpponentTeamID", "Outcome", "Period", "PlayerExperience", "PlayerPosition", "PORound", "SeasonSegment", "ShotClockRange", "StarterBench", "TeamID", "VsDivision", "VsConference", "Weight"]); function o() { a.isLoading = !0, n.get(a.params).then(function (e) { a.isLoading = !1, a.playerStats = e.rows, a.noData = !a.playerStats.length }) } a.splits = r.splits, a.params = r.params, a.$on("runit", function (e) { o() }), a.$on("customFields", function (e, t) { a.customFields = t }), o() } stats.controller("PlayersBioController", e), e.$inject = ["$scope", "SeasonsService", "SplitsService", "LeaguePlayerBioService"] }(), function () { function e(a, e, t, n, s, r, o) { function i() { a.isLoading = !0, o.get(a.params).then(function (e) { a.stats = e, a.noData = !e.rows.length, a.isLoading = !1 }) } a.ai = {}, a.ai.showTeamCol = !1, a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { i() }); var l = s.get("leagueGameLogs"), c = l.Season, u = [1996, l.SeasonYear]; if (u[1] < u[0]) return a.noData = !0, void (a.isLoading = !1); var d = r.get(["LeagueID", { name: "Season", initial: c, default: c, seasonRange: u }, { name: "SeasonType", initial: l.SeasonType, without: ["All Star"] }, "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateFrom", "DateTo", "PORound", "ShotClockRange"]); a.splits = d.splits, a.params = d.params, a.params.PerMode = "Totals", a.params.MeasureType = e.data("measure-type"), i() } stats.controller("PlayersBoxscoreSplitsController", e), e.$inject = ["$scope", "$element", "$filter", "$location", "SeasonsService", "SplitsService", "PlayerGamelogSplitsService"] }(), function () { function e(a, e, t, n, s, r) { a.isLoading = !0, a.showSplits = !1, a.isAllTime = !1, e.on("click", "th[zort]", function () { var e = angular.element(this).data("field"); a.params.Sorter == e ? a.params.Direction = "DESC" === a.params.Direction ? "ASC" : "DESC" : (a.params.Sorter = e, a.params.Direction = "DESC"); t.search("Sorter", a.params.Sorter), t.search("Direction", a.params.Direction), l() }); var o = s.get("leagueGameLogs"), i = r.get(["LeagueID", { name: "Season", initial: o.Season, seasonRange: [o.SeasonYearFrom, o.SeasonYear], includeBefore: [{ val: "ALLTIME", text: "All Seasons" }] }, { name: "SeasonType", initial: o.SeasonType }, "DateFrom", "DateTo"]); function l() { a.isLoading = !0, n.get(a.params).then(function (e) { a.playerStats = e.rows, a.noData = 0 === a.playerStats.length, a.isLoading = !1 }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = i.splits, a.params = i.params, a.params.Sorter = t.search().Sorter || "DATE", a.params.Direction = t.search().Direction || "DESC", a.params.PlayerOrTeam = "P", a.params.Counter = "1000", a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { "ALLTIME" === a.params.Season ? (a.isAllTime || (t.search("sort", null), t.search("dir", null)), a.isAllTime = !0) : (a.isAllTime && (t.search("Sorter", null), t.search("Direction", null)), a.isAllTime = !1), l() }), l() } stats.controller("PlayersBoxscoresController", e), e.$inject = ["$scope", "$element", "$location", "LeagueGamelogsService", "SeasonsService", "SplitsService"] }(), function () { function e(a, e, t, n, s) { var r = s.get("leaguePlayerStats"), o = n.get(["LeagueID", { name: "Season", initial: r.Season, seasonRange: [r.SeasonYearFrom, r.SeasonYear] }, { name: "SeasonType", initial: r.SeasonType }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, "GameSegment", "Period", "PlayerPosition", "StarterBench", "PlayerExperience", "OpponentTeamID", "VsConference", "VsDivision", "Outcome", "Location", "SeasonSegment", "Month", "LastNGames", "PlusMinus", "ClutchTime", "AheadBehind", "PointDiff", "PaceAdjust", "Rank", "GameScope", "DateFrom", "DateTo", "ShotClockRange", "TeamID", "Conference", "Division", "PORound", "DraftYear", "DraftPick", "College", "Country", "Height", "Weight"]); function i() { a.isLoading = !0, t.get(a.params).then(function (e) { a.datasets = e[0].rows, a.isLoading = !1, a.noData = 0 === a.datasets.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = o.splits, a.params = o.params, a.params.MeasureType = e.data("measure-type"), a.options = { sortField: e.data("sort-field"), sortDirection: e.data("sort-direction") }, a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { i() }), i() } stats.controller("PlayersClutchController", e), e.$inject = ["$scope", "$element", "LeaguePlayerClutchService", "SplitsService", "SeasonsService"] }(), function () { function e(a, e, t, n, s, r) { var o = n.get("trackingStats"), i = s.get(["LeagueID", { name: "Season", initial: o.Season, seasonRange: [o.SeasonYearFrom, o.SeasonYear] }, { name: "SeasonType", initial: o.SeasonType, without: ["Pre Season"] }, "PerMode", "College", "Conference", "Country", "DateFrom", "DateTo", "Division", "DraftPick", "DraftYear", "GameSegment", "Height", "LastNGames", "Location", "Month", "OpponentTeamID", "Outcome", "PORound", "Period", "PlayerExperience", "PlayerPosition", "SeasonSegment", "StarterBench", "TeamID", "VsConference", "VsDivision", "Weight"]); function l() { a.isLoading = !0, r.get(a.params).then(function (e) { a.isLoading = !1, a.datasets = e, a.noData = 0 === a.datasets.rows.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = i.splits, a.params = i.params, a.params.DefenseCategory = e.data("defense-category"), a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { l() }), l() } stats.controller("PlayersDefenseDashController", e), e.$inject = ["$scope", "$element", "$location", "SeasonsService", "SplitsService", "LeaguePlayerTrackingDefenseService"] }(), function () { function e(a, e, t, n, s) { var r = n.get("leaguePlayerStats"), o = s.get(["LeagueID", { name: "Season", initial: r.Season, seasonRange: [r.SeasonYearFrom, r.SeasonYear] }, { name: "SeasonType", initial: r.SeasonType }]); function i() { a.isLoading = !0, t.get(a.params).then(function (e) { a.playerStats = e, a.isLoading = !1, a.noData = 0 === e.rows.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = o.splits, a.params = o.params, a.options = { sortField: e.data("sort-field"), sortDirection: e.data("sort-direction") }, a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { i() }), i() } stats.controller("PlayersEstimatedController", e), e.$inject = ["$scope", "$element", "LeaguePlayerEstimatedMetricsService", "SeasonsService", "SplitsService"] }(), function () { function e(a, e, t, n, s) { var r = n.get("leaguePlayerStats"), o = s.get(["LeagueID", { name: "Season", initial: r.Season, seasonRange: [r.SeasonYearFrom, r.SeasonYear] }, { name: "SeasonType", initial: r.SeasonType }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, "GameSegment", "Period", "PlayerPosition", "StarterBench", "PlayerExperience", "OpponentTeamID", "VsConference", "VsDivision", "Outcome", "Location", "SeasonSegment", "Month", "LastNGames", "PlusMinus", "PaceAdjust", "Rank", "GameScope", "DateFrom", "DateTo", "ShotClockRange", "TeamID", "Conference", "Division", "PORound", "DraftYear", "DraftPick", "College", "Country", "Height", "Weight", "TwoWay"]); function i() { a.isLoading = !0, t.get(a.params).then(function (e) { a.playerStats = e, a.isLoading = !1, a.noData = 0 === e.rows.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = o.splits, a.params = o.params, a.params.MeasureType = e.data("measure-type"), a.options = { sortField: e.data("sort-field"), sortDirection: e.data("sort-direction") }, a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { i() }), i() } stats.controller("PlayersGeneralController", e), e.$inject = ["$scope", "$element", "LeaguePlayerGeneralService", "SeasonsService", "SplitsService"] }(), function () { function e(t, e) { t.isLoading = !0, e.get("hustle_leaders").then(function (e) { t.feed = e, t.isLoading = !1 }) } stats.controller("PlayersHustleLeadersController", e), e.$inject = ["$scope", "StatsWidgetService"] }(), function () { function e(a, e, t, n, s, r) { a.isLoading = !0, a.showSplits = !1, a.ai = {}; var o = e.data("season-section"), i = s.get(o), l = n.get(["LeagueID", { name: "Season", initial: i.Season, default: i.Season, seasonRange: [i.SeasonYearFrom, i.SeasonYear] }, { name: "SeasonType", initial: i.SeasonType, default: i.SeasonType, without: ["Pre Season"] }, { name: "PerMode", include: [{ val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }] }, "PlayerPosition", "PlayerExperience", "OpponentTeamID", "VsConference", "VsDivision", "Outcome", "Location", "SeasonSegment", "Month", "LastNGames", "PlusMinus", "PaceAdjust", "Rank", "GameScope", "DateFrom", "DateTo", "TeamID", "Conference", "Division", "PORound", "DraftYear", "DraftPick", "College", "Country", "Height", "Weight"]); function c() { a.isLoading = !0, a.ai.seasoncode = +(a.splits.SeasonType.selected.st + "" + a.splits.Season.selected.num), r.get(a.params).then(function (e) { a.playerStats = e.rows, a.isLoading = !1, a.noData = 0 === a.playerStats.length || a.ai.seasoncode <= 22015 }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = l.splits, a.params = l.params, a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { c() }), c() } stats.controller("PlayersHustleController", e), e.$inject = ["$scope", "$element", "$location", "SplitsService", "SeasonsService", "LeaguePlayerHustleService"] }(), function () { function e(r, a, n, e, t, o, s) { r.isLoading = !0, r.trustAsHtml = t.trustAsHtml, r.modules = {}; r.scrollTo = function (e) { var t = n.hash(); a.yOffset = 50, n.hash(e), a(), n.hash(t) }; var i = 0;["players_landing_inner", "players_landing_sidebar"].forEach(function (n, e, s) { o.get(n).then(function (e) { var t, a = e.items; i++, r.modules[n] = a, i === s.length && (r.isLoading = !1, t = r.modules, r.sidebar = t.players_landing_sidebar, r.league_leaders = t.players_landing_inner[0], r.leaders = t.players_landing_inner.slice(1), function (e) { var t, a = e.items; for (t in a) for (var n = 0; n < a[t].playerstats.length; n++) { var s = a[t].name, r = n + 1; !a[t].playerstats[n].rank && 0 === n || a[t].playerstats[n][s] < a[t].playerstats[n - 1][s] ? a[t].playerstats[n].rank = r : a[t].playerstats[n][s] == a[t].playerstats[n - 1][s] && (a[t].playerstats[n].rank = a[t].playerstats[n - 1].rank) } }(r.league_leaders)) }) }) } stats.controller("PlayersLandingCtrl", e), e.$inject = ["$scope", "$anchorScroll", "$location", "$http", "$sce", "StatsWidgetService", "CMSENV"] }(), function () { function e(n, e, t, a) { n.isLoading = !0; var s = t.get("leadersAllTime"), r = e.get(["LeagueID", { name: "SeasonType", initial: s.SeasonType, without: ["All Star", "PlayIn"] }, { name: "PerMode", default: "Totals", initial: "Totals" }, { name: "StatCategory", without: ["AST_TOV", "STL_TOV", "PF", "EFF"] }, { name: "ActiveFlag", default: "No", initial: "No", type: "toggle", label: "Only Active Players", val: { true: "Yes", false: "No" } }]); function o() { n.isLoading = !0, a.get(n.params).then(function (e) { n.playerStats = e.LeagueLeaders.rows, n.isLoading = !1, n.noData = !n.playerStats.length }) } n.splits = r.splits, n.params = r.params, n.params.Season = "All Time", n.params.Scope = "S", n.$on("customFields", function (e, t) { n.customFields = t }), n.$on("runit", function (e) { o() }), n.$on("$statsTableLoad", function (e, t) { var a = t.$elm; $(a).find('th[data-field="' + n.params.StatCategory + '"]').addClass("sorted desc") }), o() } stats.controller("PlayersLeadersAlltimeController", e), e.$inject = ["$scope", "SplitsService", "SeasonsService", "LeagueLeadersService"] }(), function () { function e(n, e, t, a) { n.isLoading = !0; var s = a.get("leadersCurrent"), r = t.get(["LeagueID", { name: "Season", initial: s.Season, seasonRange: [s.SeasonYearFrom, s.SeasonYear] }, { name: "SeasonType", initial: s.SeasonType, without: ["PlayIn"] }, { name: "PerMode", include: [{ val: "Per48", text: "Per 48 Minutes" }] }, "Scope"]), o = { Per48: t.get([{ name: "StatCategory", without: ["MIN", "FG_PCT", "FG3_PCT", "FT_PCT", "AST_TOV", "STL_TOV"] }]).splits.StatCategory, PerGame: t.get([{ name: "StatCategory", without: ["FGA", "FGM", "FG_PCT", "FG3M", "FG3A", "FG3_PCT", "FTA", "FTM", "FT_PCT", "PF", "AST_TOV", "STL_TOV"] }]).splits.StatCategory, Totals: t.get([{ name: "StatCategory" }]).splits.StatCategory }; function i() { n.isLoading = !0, e.get(n.params).then(function (e) { n.isLoading = !1, n.playerStats = e.LeagueLeaders.rows, n.noData = !n.playerStats.length }).catch(function (e) { n.isLoading = !1, n.noData = !0 }) } n.splits = r.splits, n.params = r.params, n.splits.StatCategory = o[n.splits.PerMode.selected.val], n.params.StatCategory = n.splits.StatCategory.selected.val, n.$watch("splits.PerMode.selected", function (e) { n.splits.StatCategory = o[e.val] }), n.$on("customFields", function (e, t) { n.customFields = t }), n.$on("runit", function (e) { i() }), n.$on("$statsTableLoad", function (e, t) { var a = t.$elm; $(a).find('th[data-field="' + n.params.StatCategory + '"]').addClass("sorted desc") }), i() } stats.controller("PlayersLeadersController", e), e.$inject = ["$scope", "LeagueLeadersService", "SplitsService", "SeasonsService"] }(), function () { function e(t, a, e, n, s, r) { var o = "A B C D E F G H I J K L M N O P Q R S T U V W X Y Z".split(" ").map(function (e) { return { text: e, val: e } }); o.unshift({ text: "All Players", val: "" }); var i = s.get([{ name: "Historic", default: "N", initial: "N", type: "toggle", label: "Show Historic Players", val: { true: "Y", false: "N" } }, { name: "LastInitial", label: "Last Initial", type: "select", initial: "", default: "", options: o }]); t.splits = i.splits, t.params = i.params, t.search = e.search().s || ""; var l = n.get(); function c() { var e; l && (e = l.slice(0), "N" === t.params.Historic && (e = e.filter(function (e) { return e.active })), "" !== t.params.LastInitial && (e = e.filter(function (e) { return e.ln.charAt(0) === t.params.LastInitial })), t.playersByLastName = a("groupBy")(e, function (e) { return e.ln.charAt(0) }, { asArray: !0 }).sort(u)) } function u(e, t) { return e.group > t.group ? 1 : -1 } c(), t.$on("runit", function (e) { c() }) } stats.controller("PlayersListController", e), e.$inject = ["$scope", "$filter", "$location", "PlayersService", "SplitsService", "SeasonsService"] }(), function () { function e(a, n, e, t, s) { a.isLoading = !0, a.showSplits = !1, a.setDistanceRange = function (e) { var t = e === +a.splits.DistanceRange.default ? null : e; n.search("DistanceRange", t), a.params.DistanceRange = e, i() }; var r = t.get("leaguePlayerStats"), o = e.get(["LeagueID", { name: "Season", initial: r.Season, seasonRange: [r.SeasonYearFrom, r.SeasonYear] }, { name: "SeasonType", initial: r.SeasonType }, "PerMode", "DistanceRange", "GameSegment", "Period", "PlayerPosition", "StarterBench", "PlayerExperience", "OpponentTeamID", "VsConference", "VsDivision", "Outcome", "Location", "SeasonSegment", "Month", "LastNGames", "PlusMinus", "PaceAdjust", "Rank", "GameScope", "DateFrom", "DateTo", "ShotClockRange", "TeamID", "Conference", "Division", "PORound", "DraftYear", "DraftPick", "College", "Country", "Height", "Weight"]); function i() { a.isLoading = !0, s.get(a.params).then(function (e) { a.playerStats = e[0].datatable, a.isLoading = !1, a.noData = 0 === e[0].datatable.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = o.splits, a.params = o.params, a.params.MeasureType = "Opponent", a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { i() }), i() } stats.controller("PlayersOpponentShootingController", e), e.$inject = ["$scope", "$location", "SplitsService", "SeasonsService", "LeaguePlayerShootingService"] }(), function () { function e(a, e, t, n, s) { a.isLoading = !0, a.showSplits = !1; var r = n.get("leaguePlayerStats"), o = t.get(["LeagueID", { name: "Season", initial: r.Season, seasonRange: [r.SeasonYearFrom, r.SeasonYear] }, { name: "SeasonType", initial: r.SeasonType }, { name: "PerMode", initial: "Per100Possessions", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, "GameSegment", "Period", "PlayerPosition", "StarterBench", "PlayerExperience", "OpponentTeamID", "VsConference", "VsDivision", "Outcome", "Location", "SeasonSegment", "Month", "LastNGames", "PlusMinus", "PaceAdjust", "PaceAdjust", "Rank", "GameScope", "DateFrom", "DateTo", "ShotClockRange", "TeamID", "Conference", "Division", "PORound", "DraftYear", "DraftPick", "College", "Country", "Height", "Weight"]); function i() { a.isLoading = !0, s.get(a.params).then(function (e) { a.datasets = e.rows, a.isLoading = !1, a.noData = 0 === a.datasets.length }) } a.splits = o.splits, a.params = o.params, a.params.MeasureType = e.data("measure-type"), a.options = { sortField: e.data("sort-field"), sortDirection: e.data("sort-direction") }, a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { i() }), i() } stats.controller("PlayersOpponentController", e), e.$inject = ["$scope", "$element", "SplitsService", "SeasonsService", "LeaguePlayerOnCourtService"] }(), function () { function e(a, e, t, n, s) { var r = t.get("playtypeStats"), o = e.data("category"), i = { name: "OD", as: "TypeGrouping" }; -1 < ["transition", "cut", "putbacks", "misc"].indexOf(o.toLowerCase()) && (i.without = ["defensive"]); var l = n.get(["LeagueID", { name: "Season", as: "SeasonYear", initial: r.Season, seasonRange: [r.SeasonYearFrom, r.SeasonYear] }, { name: "SeasonType", initial: r.SeasonType, without: ["Pre Season", "All Star", "PlayIn"] }, i, "PerMode"]); function c() { a.isLoading = !0, s.get(a.params).then(function (e) { a.playerStats = e.SynergyPlayType, a.isLoading = !1, a.noData = 0 === e.SynergyPlayType.rows.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = l.splits, a.params = l.params, a.params.PlayerOrTeam = "P", a.params.PlayType = o, a.$on("runit", function (e) { c() }), a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("$routeChangeSuccess", function (e, t) { c() }), c() } stats.controller("PlayersPlaytypeController", e), e.$inject = ["$scope", "$element", "SeasonsService", "SplitsService", "SynergyPlaytypesService"] }(), function () { function e(a, e, t, n, s) { a.isLoading = !0, a.showSplits = !1; var r = n.get("leaguePlayerStats"), o = t.get(["LeagueID", { name: "Season", initial: r.Season, seasonRange: [r.SeasonYearFrom, r.SeasonYear] }, { name: "SeasonType", initial: r.SeasonType }, "PerMode", "DistanceRange", "GameSegment", "Period", "PlayerPosition", "StarterBench", "PlayerExperience", "OpponentTeamID", "VsConference", "VsDivision", "Outcome", "Location", "SeasonSegment", "Month", "LastNGames", "PlusMinus", "PaceAdjust", "Rank", "GameScope", "DateFrom", "DateTo", "ShotClockRange", "TeamID", "Conference", "Division", "PORound", "DraftYear", "DraftPick", "College", "Country", "Height", "Weight"]); function i() { a.isLoading = !0, s.get(a.params).then(function (e) { a.playerStats = e[0].datatable, a.isLoading = !1, a.noData = 0 === e[0].datatable.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = o.splits, a.params = o.params, a.params.MeasureType = "Base", a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { i() }), i() } stats.controller("PlayersShootingController", e), e.$inject = ["$scope", "$location", "SplitsService", "SeasonsService", "LeaguePlayerShootingService"] }(), function () { function e(a, e, t, n, s, r) { var o = s.get("trackingStats"), i = r.get(["LeagueID", { name: "Season", initial: o.Season, default: o.Season, seasonRange: [o.SeasonYearFrom, o.SeasonYear] }, { name: "SeasonType", initial: o.SeasonType, default: o.SeasonType, without: ["Pre Season"] }, "PerMode", "GameSegment", "Period", "PlayerPosition", "StarterBench", "PlayerExperience", "OpponentTeamID", "VsConference", "VsDivision", "Outcome", "Location", "SeasonSegment", "Month", "LastNGames", "PlusMinus", "PaceAdjust", "Rank", "GameScope", "DateFrom", "DateTo", "TeamID", "Conference", "Division", "PORound", "DraftYear", "DraftPick", "College", "Country", "Height", "Weight", "TouchTimeRange", "GeneralRange", "DribbleRange", "CloseDefDistRange", { name: "ShotClockRange", initial: "24-22", default: "24-22", without: [""] }]); a.splits = i.splits, a.params = i.params; var l = e.data("measure-type"); function c() { a.isLoading = !0, n.get(a.params).then(function (e) { a.isLoading = !1, a.datasets = e, a.noData = 0 === a.datasets.rows.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } "cddr" !== l && (a.params.CloseDefDistRange = "", delete a.splits.CloseDefDistRange), "ttr" !== l && (a.params.TouchTimeRange = "", delete a.splits.TouchTimeRange), "scr" !== l && (a.params.ShotClockRange = "", delete a.splits.ShotClockRange), "gr" !== l && (a.params.GeneralRange = "", delete a.splits.GeneralRange), "dr" !== l && (a.params.DribbleRange = "", delete a.splits.DribbleRange), a.params.ShotDistRange = e.data("sdr") ? e.data("sdr") : "", a.$on("runit", function (e) { c() }), a.$on("customFields", function (e, t) { a.customFields = t }), c() } stats.controller("PlayersShotDashController", e), e.$inject = ["$scope", "$element", "$location", "LeaguePlayerTrackingShotsService", "SeasonsService", "SplitsService"] }(), function () { function e(a, e, t, n, s) { var r = t.get("trackingStats"), o = n.get(["LeagueID", { name: "Season", initial: r.Season, seasonRange: [r.SeasonYearFrom, r.SeasonYear] }, { name: "SeasonType", initial: r.SeasonType, without: ["Preseason"] }, "College", "Conference", "Country", "DateFrom", "DateTo", "Division", "DraftPick", "DraftYear", "GameScope", "Height", "LastNGames", "Location", "Month", "OpponentTeamID", "Outcome", "PerMode", "PlayerExperience", "PlayerPosition", "PORound", "SeasonSegment", "StarterBench", "VsConference", "VsDivision", "Weight", "TeamID"]); function i() { a.isLoading = !0, s.get(a.params).then(function (e) { a.datasets = e.LeagueDashPtStats.rows, a.noData = 0 === a.datasets.length, a.isLoading = !1 }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = o.splits, a.params = o.params, a.params.PlayerOrTeam = "Player", a.params.PtMeasureType = e.data("measure-type"), a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { i() }), i() } stats.controller("PlayersTrackingController", e), e.$inject = ["$scope", "$element", "SeasonsService", "SplitsService", "TrackingDataService"] }(), function () { function e(i, l, a, s, e, t, n, r, o) { i.isOpen = !1, i.navToSeries = function (e) { if (!e || !e.g || !e.g[0]) return; var t = e.g[0].gid.substr(0, 9); i.activeSeries = i.serii[t], a.path(t) }, i.hasLiveGame = !1, i.updateInterval = null, i.iv = 1e4, i.serii = {}, i.responsiveOptions = { min: 300, max: 1250 }, "/" !== document.location.pathname.slice(-1) && (document.location.pathname += "/"), i.$on("$routeChangeSuccess", function (e, t) { t ? (i.SeriesID = t.params.SeriesID, i.isOpen = !!i.SeriesID) : i.isOpen = !1 }); var c = r.get().SeasonYear.toString() || r.get("playoffBracket").SeasonYear; function u() { o.get().then(function (e) { var t, a = e.data.gs.g; for (t in a) { var n, s = a[t], r = s.gid.substr(0, 9), o = i.serii[r]; o && (n = l("filter")(o.g, { gid: s.gid })[0], angular.extend(n, s), o.hasLiveGame = 2 === n.st) } i.hasLiveGame = a.some(function (e) { return 2 == e.st }) }) } i.isBracketLoading = !0, n.get(c).then(function (e) { var t, a, n; i.isBracketLoading = !1, i.pb = e.data.pb, t = i.pb.r, a = function (e, t) { e.ser.forEach(n.bind(null, t)) }, n = function (e, t) { t.conf = 1 === e ? "WEST" : "EAST", t.g && t.g[0] && (t.sid = t.g[0].gid.substr(0, 9), t.round = t.sid.substr(7, 1), t.isFinals = "4" == t.round, t.season = 20 + t.sid.substr(3, 2), i.serii[t.sid] = t) }, t.forEach(function (e) { e.co.forEach(a) }), i.activeSeries = i.serii[i.SeriesID], u(), i.updateInterval = s(u, i.iv) }, function (e) { window.location.href = "/stats/playoffpicture/" }) } stats.controller("PlayoffsBracketCtrl", e), e.$inject = ["$scope", "$filter", "$location", "$interval", "$rootScope", "$routeParams", "PlayoffBracketsService", "SeasonsService", "TodaysScoresService"] }(), function () { function e(t, e, a, n, s, r, o, i, l) { t.seed = { low: {}, high: {} }, t.onBracketBackClick = function () { s.hash("nba-playoff-bracket"), e() }, t.$watch("activeSeries", function (e) { e && (t.isBracketLoading = !1, t.series = e, t.lowSeedId = e.tid2, t.highSeedId = e.tid1, t.season = e.season, t.round = e.round, t.SeriesID = e.sid, t.Season = n("seasonyear")(t.season), t.SeasonType = "Regular Season", t.params = { GameID: t.SeriesID.toString() + r.GameID }, t.gameObject = n("gameIdToObject")(t.params.GameID), t.seed.low.info = l.getById(t.lowSeedId), t.seed.high.info = l.getById(t.highSeedId), t.isLoading = !0, o.get(t.params).then(function (e) { t.isLoading = !1, t.boxscore = e, t.summary = e.summary, t.officials = e.officials, t.gameInfo = e.gameInfo, t.av = e.av, t.teams = e.teams, t.linescores = e.teams, t.otherStats = e.otherStats, t.teamInfo = e.teamInfo, t.thisSeason = e.season, t.seasonYear = t.gameObject.seasonyear, t.seasonType = e.seasontype, t.boxscore = e, t.boxscore.teamInfo = { vtm: l.getById(e.summary.VISITOR_TEAM_ID), htm: l.getById(e.summary.HOME_TEAM_ID) } })) }, !0) } stats.controller("PlayoffsGameCtrl", e), e.$inject = ["$scope", "$anchorScroll", "$element", "$filter", "$location", "$routeParams", "BoxscoreSummaryService", "SeasonsService", "TeamsService"] }(), function () { function e(t, a, e, n, s, r, l) { t.isLoading = !0, t.scrollTo = function (e) { var t = n.hash(); a.yOffset = 50, n.hash(e), a(), n.hash(t) }, t.responsiveOptions = { min: 300, max: 1250 }, t.season = r.get().Season, t.params = { LeagueID: r.get().LeagueID, SeasonID: "2" + r.get().SeasonYear.toString() }; var o = new Date("April 18 2020 00:00:00 GMT-0400") - new Date, i = Math.ceil(o / 864e5); function c(e, t) { var a = l.getById(t.HIGH_SEED_TEAM_ID), n = l.getById(t.LOW_SEED_TEAM_ID), s = e.find(function (e) { return e.TEAM_ID === t.HIGH_SEED_TEAM_ID }), r = e.find(function (e) { return e.TEAM_ID === t.LOW_SEED_TEAM_ID }), o = s && s.WINS ? s.WINS + "-" + s.LOSSES : {}, i = r && r.WINS ? r.WINS + "-" + r.LOSSES : {}; t.HIGH_SEED_TEAM_ABBR = a && a.abbr ? a.abbr : "POR/MEM", t.LOW_SEED_TEAM_ABBR = n && n.abbr ? n.abbr : "POR/MEM", t.HIGH_SEED_RECORD = o || "", t.LOW_SEED_RECORD = i || "" } function u(e) { var t = l.getById(e.TEAM_ID); if (e.ELIMINATED_PLAYOFFS && (e.status = "o"), e.CLINCHED_PLAYOFFS && (e.status = "x"), e.CLINCHED_CONFERENCE && (e.status = t.conference.substr(0, 1).toLowerCase()), e.CLINCHED_DIVISION && !e.CLINCHED_CONFERENCE) switch (t.division) { case "Northwest": e.status = "nw"; break; case "Pacific": e.status = "p"; break; case "Southwest": e.status = "sw"; break; case "Southeast": e.status = "se"; break; case "Atlantic": e.status = "a"; break; case "Central": e.status = "c" } } t.daysTillFinals = i, t.isLoading = !0, s.get(t.params).then(function (e) { (t.datasets = e).EastConfStandings.rows.forEach(u), e.WestConfStandings.rows.forEach(u), e.EastConfPlayoffPicture.rows.forEach(c.bind("", e.EastConfStandings.rows)), e.WestConfPlayoffPicture.rows.forEach(c.bind("", e.WestConfStandings.rows)), t.isLoading = !1 }) } stats.controller("PlayoffsPictureCtrl", e), e.$inject = ["$scope", "$anchorScroll", "$filter", "$location", "PlayoffPictureService", "SeasonsService", "TeamsService"] }(), function () { function e(n, e, t, a, s, r, o, i, l, c, u) { var d = l.get(["LeagueID", "PerMode", "GameSegment", "Period", "PlayerPosition", "StarterBench", "PlayerExperience", "OpponentTeamID", "VsConference", "VsDivision", "Outcome", "Location", "SeasonSegment", "Month", "LastNGames", "PlusMinus", "PaceAdjust", "Rank", "GameScope", "DateFrom", "DateTo", "ShotClockRange", "TeamID", "Conference", "Division", "PORound", "DraftYear", "DraftPick", "College", "Country", "Height", "Weight"]); function p(e, t) { return t.TEAM_ID.toString() == e.toString() } n.seed = { low: {}, high: {} }, n.rs = { teamBar: { min: 300, max: 1250 }, teamPts: { min: 300, max: 1250 }, def: { min: 300, max: 1250 } }, n.onBracketBackClick = function () { s.hash("nba-playoff-bracket"), e() }, n.isDiffLoading = !0, n.isPlayerBaseLoading = !0, n.isPlayerDefLoading = !0, n.isTeamBaseLoading = !0, n.isTeamDefLoading = !0, n.isTeamScoringLoading = !0, n.$watch("activeSeries", function (e) { e && (n.isBracketLoading = !1, n.series = e, n.lowSeedId = e.tid2, n.highSeedId = e.tid1, n.season = e.season, n.round = e.round, n.SeriesID = e.sid, n.Season = a("seasonyear")(n.season), n.SeasonType = "Regular Season", d.params.Season = n.Season, d.params.SeasonType = n.SeasonType, n.seed.low.info = c.getById(n.lowSeedId), n.seed.high.info = c.getById(n.highSeedId), function () { n.isPlayerBaseLoading = !0; var e = angular.extend({}, d.params, { MeasureType: "Base" }); o.get(e).then(function (e) { n.isPlayerBaseLoading = !1, n.seed.low.playerBase = e.rows.filter(p.bind("", n.lowSeedId)), n.seed.high.playerBase = e.rows.filter(p.bind("", n.highSeedId)) }) }(), function () { n.isPlayerDefLoading = !0; var e = angular.extend({}, d.params, { PlayerOrTeam: "Player", PtMeasureType: "Defense" }); u.get(e).then(function (e) { n.isPlayerDefLoading = !1, n.seed.low.playerDef = e.LeagueDashPtStats.rows.filter(p.bind("", n.lowSeedId)), n.seed.high.playerDef = e.LeagueDashPtStats.rows.filter(p.bind("", n.highSeedId)) }) }(), function () { n.isTeamBaseLoading = !0; var e = angular.extend({}, d.params, { MeasureType: "Base" }); i.get(e).then(function (e) { n.isTeamBaseLoading = !1, n.seed.low.base = e.rows.filter(p.bind("", n.lowSeedId))[0], n.seed.high.base = e.rows.filter(p.bind("", n.highSeedId))[0] }) }(), function () { n.isTeamScoringLoading = !0; var e = angular.extend({}, d.params, { MeasureType: "Scoring" }); i.get(e).then(function (e) { n.isTeamScoringLoading = !1, n.seed.low.scoring = e.rows.filter(p.bind("", n.lowSeedId))[0], n.seed.high.scoring = e.rows.filter(p.bind("", n.highSeedId))[0] }) }(), function () { n.isTeamDefLoading = !0; var e = angular.extend({}, d.params, { PlayerOrTeam: "Team", PtMeasureType: "Defense" }); u.get(e).then(function (e) { n.isTeamDefLoading = !1, n.seed.low.def = e.LeagueDashPtStats.rows.filter(p.bind("", n.lowSeedId))[0], n.seed.high.def = e.LeagueDashPtStats.rows.filter(p.bind("", n.highSeedId))[0] }) }(), function () { n.isDiffLoading = !0; var e = "/stats/media/v2/img/playoff-series-diff/" + n.SeriesID + "h.png", t = new Image, a = angular.element(t); a.on("load", function () { n.isDiffLoading = !1, n.$apply() }).on("error", function () { n.isDiffLoading = !0 }), a.attr("src", e) }()) }, !0) } stats.controller("PlayoffsPreviewCtrl", e), e.$inject = ["$scope", "$anchorScroll", "$element", "$filter", "$location", "$rootScope", "LeaguePlayerGeneralService", "LeagueTeamGeneralService", "SplitsService", "TeamsService", "TrackingDataService"] }(), function () { function e(s, r, e, t, o, a) { s.selectedSeries = null, s.isBracketLoading = !0, s.$on("$routeChangeSuccess", function (e, t, a) { var n; t && (n = t ? t.params.SeriesID : null, a && a.params.SeriesID, s.SeriesID = n, s.GameID = t.params.GameID, o.hash("playoff-series-content"), r()) }), s.$watch("activeSeries", function (e) { e && (s.isBracketLoading = !1, s.series = e) }, !0) } stats.controller("PlayoffsSeriesCtrl", e), e.$inject = ["$scope", "$anchorScroll", "$filter", "$interval", "$location", "$routeParams"] }(), function () { function e(t, e, a, n, s, r, o) { t.showSafety = !1, t.renderHtml = function (e) { return r.trustAsHtml(e) }; t.teams = { east: ["BOS", "BKN", "IND", "MIA", "MIL", "ORL", "PHI", "TOR", "WAS"].map(a.getByAbbr), west: ["DAL", "DEN", "HOU", "LAC", "LAL", "MEM", "NOP", "OKC", "PHX", "POR", "SAC", "SAS", "UTA"].map(a.getByAbbr) }; t.hubElementClicked = function (e, t) { o.triggerEvent("rtpHub", [t, e]) }, s.get("hub/hub").then(function (e) { t.isLoading = !0, t.feedData = angular.extend({}, JSON.parse(e.body)), t.filterTitle = function (e) { return { head: e.split(" ").slice(0, -1).join(" "), tail: e.split(" ").slice(-1).join(" ") } }, t.isLoading = !1 }) } stats.controller("ReturnToPlay2020Controller", e), e.$inject = ["$scope", "$http", "TeamsService", "SplitsService", "StatsFlatDataService", "$sce", "DtmService"] }(), function () { function e(l, s, r, o, t, a, i, n, e, c, u, d, p, m, f, h, g, v) { l.decodeHtml = function (e) { var t = document.createElement("textarea"); return t.innerHTML = e, a.trustAsHtml(t.value) }; var S = d.get("schedule"), y = S.Flags, P = "" + (p.gameDate.getMonth() + 1 + 3) % 12, T = 0; !1 !== y.initialMonth && (P = "" + y.initialMonth); var D, b = m.get(["TeamID", { name: "Month", default: 0, initial: P }, { name: "Week", default: "0", initial: "0", type: "select", label: "Week", options: ((D = r("range")(1, 24).map(function (e) { return { val: "" + e, text: "Week " + e } })).unshift({ val: "0", text: "All Weeks" }), D) }, { name: "BC", default: "", initial: "", type: "select", label: "National Broadcaster", options: [{ val: "", text: "All Games" }, { val: "NATL", text: "National Broadcasters" }, { val: "ESPN", text: "ESPN" }, { val: "ABC", text: "ABC" }, { val: "TNT", text: "TNT" }, { val: "NBA TV", text: "NBA TV" }, { val: "LP", text: "LEAGUE PASS" }] }, { name: "PD", default: "Y", initial: y.hidePrev, type: "toggle", label: "Hide Previous Dates", val: { true: "Y", false: "N" } }]); l.splits = b.splits, l.params = b.params, l.isExternal = p.isExternal, l.isDomestic = p.isDomestic, l.seeMore = function () { l.itemsPerPage = l.itemsPerPage + 10, l.noMoreData = l.itemsPerPage >= l.numGames }, l.noMoreData = !1, l.isSpecial = function (e) { var t = f.getById(e); return !t || t.special }, l.getWeekInfo = function (t) { var e = { isNewWeek: t != T, hasWeek: !1 }; if (T = t, !e.isNewWeek || !l.weeks) return e; var a = l.weeks.find(function (e) { return e.week == t }); return e.hasWeek = !!a, e = angular.merge(e, a) }, l.hasEsi = !(!window.esi_ || "US" !== window.esi_.country), l.round = function (e) { return Math.round(10 * e) / 10 }, l.pointsBetLink = "https://join.pointsbet.com/nba-win-probability/?utm_source=Unbounce_NBA&utm_medium=NBA&utm_campaign=Risk_Free_2_200_NBA_Win_Probability&utm_term=Unbounce&utm_content=NBA&promo=NBAWIN", l.setPrevMonth = function (e) { --e < 1 && (e = 12); l.params.Month = e, t.search("Month", e), A(), M(), l.splits.Month = m.get([{ name: "Month", default: e, initial: e }]).splits.Month }, l.setNextMonth = function (e) { 12 < (e = +e + 1) && (e = 1); l.params.Month = e, t.search("Month", e), A(), M(), l.splits.Month = m.get([{ name: "Month", default: e, initial: e }]).splits.Month }; var x = d.get().SeasonYear; l.isAbove2018 = 2018 < +x; p.gameDate.getMonth(), p.gameDate.getFullYear(); function I(e) { e.v.info = f.getById(e.v.tid) || {}, e.h.info = f.getById(e.h.tid) || {}, e.v.isSpecial = e.v.info.special || e.v.isSpecial || !e.v.info.id, e.h.isSpecial = e.h.info.special || e.h.isSpecial || !e.h.info.id, e.gameObj = r("gameIdToObject")(e.gid); var t = e.bd.b.find(function (e) { return "natl" === e.scope }), a = e.bd.b.filter(function (e) { return "natl" !== e.scope }); e.natl = t ? t.disp : "", e.localbd = a } function C(t) { var e; !l.games || (e = l.games.find(function (e) { return e.gid == t.gid })) && angular.extend(e, t) } function w() { var t, e, a, n, s; l.games && (e = l.games.slice(0), "0" !== l.params.Month && "0" === l.params.Week && (t = (+l.params.Month + 9) % 12 || 12, e = e.filter(function (e) { return e.gmonth === t })), "0" !== l.params.Week && (a = +l.params.Week, e = e.filter(function (e) { return e.gweek === +a })), "0" !== l.params.TeamID && (n = +l.params.TeamID, e = e.filter(function (e) { return e.v.tid === n || e.h.tid === n })), "" !== l.params.BC && "LP" !== l.params.BC && "NATL" !== l.params.BC && (e = e.filter(function (e) { return e.natl === l.params.BC })), "LP" === l.params.BC && (e = e.filter(function (e) { return "" === e.natl })), "NATL" === l.params.BC && (e = e.filter(function (e) { return "" !== e.natl })), s = p.gameDate, "Y" === l.params.PD && (e = e.filter(function (e) { var t = new Date(e.gdte + "T00:00:00Z"); return t.setUTCHours(5), s.setUTCHours(5), t.getTime() >= s.getTime() })), l.numGames = e.length, l.noMoreData = l.itemsPerPage >= l.numGames, l.gamesByDay = r("groupBy")(e, "gdte", { asArray: !0 }), l.gamesByDay.forEach(L), l.noData = 0 === l.gamesByDay.length) } function L(e) { e.items && e.items.length ? e.week = e.items[0].gweek || null : e.week = null } function A() { l.isLoading = !0, c.get(S.SeasonYear).then(function (e) { var t, a, n; l.isLoading = !1, e.games.forEach(I), l.games = e.games, l.weeks = e.weeks || window.nbaWeeks.filter(function (e) { return +e.season == +S.SeasonYear }), (a = window.nbaSchedule || []).forEach(I), a && (t = a.reduce(function (e, t) { return l.games.find(function (e) { return e.gcode === t.gcode || e.gid === t.gid }) || e.push(t), e }, []), l.games = l.games.concat(t)), w(), n = r("date")(p.gameDate, "yyyy-MM-dd"), i(function () { var e = s.find('[data-game-day="' + n + '"]'); e && e.length && $("html, body").animate({ scrollTop: e.offset().top - 80 }, 250) }, 0), _(), o(_, 1e4) }).catch(function (e) { l.isLoading = !1, l.noData = !0 }), u.get(S.SeasonYear).then(function (e) { l.tickets = e }) } function _() { h.get().then(function (e) { e.data.gs.g.forEach(C) }) } function M() { l.isLoading = !0; v.get("notices/schedule_notices").then(function (e) { l.feedData = angular.extend({}, JSON.parse(e.body)), l.filterTitle = function (e) { return { head: e.split(" ").slice(0, -1).join(" "), tail: e.split(" ").slice(-1).join(" ") } }, l.isLoading = !1 }) } l.itemsPerPage = 40, l.$on("runit", function (e) { w() }), A(), M(), l.$watch("gamesByDay", function (e, t) { e && function () { l.isLoading = !0; var e = new Date, t = e.getFullYear(), a = 9 < (a = e.getMonth()) ? a + 1 : ("0" + (a + 1)).slice(-2), n = e.getDate(), s = 9 < n ? n : ("0" + n).slice(-2), r = "".concat(t, "-").concat(a, "-").concat(s), o = "".concat(t).concat(a).concat(s); l.gameDate = r; var i = { seasonYear: d.get().SeasonYear, gameDate: o }; l.pointsBetGames = {}, l.todaysGames = e.getMonth() !== l.splits.Month.selected.val ? [] : l.gamesByDay.filter(function (e) { return e.group === r })[0].items, l.todaysGames.map(function (e) { return l.pointsBetGames[e.gid] = e }), g.get(i).then(function (e) { l.isLoading = !1, e && (l.pointsBetGames = e, l.gamesByDay.forEach(function (e) { e.group === l.gameDate && (l.todaysGames = e.items, l.todaysGames.forEach(function (e) { e = angular.extend(e, { pointsBetGames: l.pointsBetGames[e.gid] }) })) })) }) }() }), l.scheduleNoticeLinkClicked = function (e) { n.triggerEvent("scheduleRtp", [e]) } } stats.controller("ScheduleController", e), e.$inject = ["$scope", "$element", "$filter", "$interval", "$location", "$sce", "$timeout", "DtmService", "MobileSeasonScheduleWeekService", "MobileSeasonScheduleWeekTBDService", "MobileTicketLinksService", "SeasonsService", "ReferrerService", "SplitsService", "TeamsService", "TodaysScoresService", "StatsPointsBetService", "StatsFlatDataService"] }(), function () { function e(n, e, s, r, t, o, a, i, l, c, u, d, p) { var m, f = e.data("season-section"), h = l.get(f), g = h.SeasonYear, v = h.Flags, S = [{ val: "13", text: "Sacramento" }, { val: "15", text: "Vegas" }, { val: "16", text: "Utah" }], y = u.get([{ name: "PD", default: "N", initial: v.hidePrev || "N", type: "toggle", label: "Hide Previous Dates", val: { true: "Y", false: "N" } }, { name: "League", default: "", initial: "", type: "select", label: "League", options: [{ val: "", text: "All Leagues" }].concat(S) }]); function P(e) { e.v.info = d.getById(e.v.tid) || {}, e.h.info = d.getById(e.h.tid) || {}, e.v.isSpecial = e.v.info.special || e.v.isSpecial, e.h.isSpecial = e.h.info.special || e.v.isSpecial, e.gameObj = s("gameIdToObject")(e.gid); var t = e.bd.b.find(function (e) { return "natl" === e.scope }), a = e.bd.b.filter(function (e) { return "natl" !== e.scope }); e.natl = t ? t.disp : "", e.localbd = a } function T(t) { var e; !n.games || (e = n.games.find(function (e) { return e.gid == t.gid })) && angular.extend(e, t) } function D() { var e, a; n.games && (e = n.games.slice(0), n.params.League && (e = e.filter(function (e) { return e.lid === n.params.League })), a = c.gameDate, "Y" === n.params.PD && (e = e.filter(function (e) { var t = new Date(e.gdte + "T00:00:00Z"); return t.setUTCHours(5), a.setUTCHours(5), t.getTime() >= a.getTime() })), n.numGames = e.length, n.noMoreData = n.itemsPerPage >= n.numGames, n.gamesByDay = s("groupBy")(e, "gdte", { asArray: !0 }), n.noData = 0 === n.gamesByDay.length) } function b(e, t) { var a = o.defer(); return i.get(e, t).then(function (e) { t.games = e, t.intervalPromise = r(function (e) { p.get(e).then(function (e) { e.data.gs.g.forEach(T) }) }.bind("", t), t.intervalDuration), a.resolve(t) }).catch(function (e) { t.games = [], a.resolve(t) }), a.promise } n.splits = y.splits, n.params = y.params, n.$on("runit", function (e) { D() }), m = S.map(function (e) { var t = { league: e.text.toLowerCase(), leagueId: e.val, intervalDuration: 1e4, intervalPromise: null, season: g }; return b(g, t) }), o.all(m).then(function (e) { var a; e && e.length ? (a = [], e.forEach(function (t) { t.games.forEach(function (e) { e.league = t.league, e.lid = t.leagueId, a.push(e) }) }), a.forEach(P), n.games = a, D()) : console.error("no games returned") }).catch(function (e) { console.error(e) }) } stats.controller("SummerleagueScheduleController", e), e.$inject = ["$scope", "$element", "$filter", "$interval", "$location", "$q", "$timeout", "MobileSeasonScheduleService", "SeasonsService", "ReferrerService", "SplitsService", "TeamsService", "TodaysScoresService"] }(), function () { function e(i, e, n, s, r, o, a, t, l, c, u, d, p, m, f, h) { i.isLoading = !0, i.noGames = !0, i.hasLineup = !1, i.games = [], i.lgames = [], i.trustAsHtml = e.trustAsHtml, i.tickerScrollLeft = 0, i.navPrev = function (e) { e.preventDefault(); var t = $(".stats-game-ticker__container").scrollLeft(); i.tickerScrollLeft = Math.max(0, t - 135) }, i.navNext = function (e) { e.preventDefault(); var t = $(".stats-game-ticker__container").scrollLeft(); i.tickerScrollLeft = Math.min(i.tickerMax, t + 135) }, i.getTeamLink = function (e) { return e && !e.special ? "/stats/team/" + e.id + "/stats/" : "" }, i.params = { LeagueID: "00", DayOffset: "0", gameDate: "" }; var g = u.get("scores"), v = d.get(["LeagueID", { name: "Season", initial: g.Season, seasonRange: [g.SeasonYearFrom, g.SeasonYear] }, { name: "SeasonType", initial: g.SeasonType }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, "GameSegment", "Period", "PlayerPosition", "StarterBench", "PlayerExperience", "OpponentTeamID", "VsConference", "VsDivision", "Outcome", "Location", "SeasonSegment", "Month", "LastNGames", "PlusMinus", "PaceAdjust", "Rank", "GameScope", "DateFrom", "DateTo", "ShotClockRange", "TeamID", "Conference", "Division", "PORound", "DraftYear", "DraftPick", "College", "Country", "Height", "Weight"]); function S(e) { e = angular.extend(e, f.getById(e.TEAM_ID)) } function y(e) { e.date = e.GAMECODE.substr(0, 8), e.dateStr = e.GAME_DATE_EST.substr(0, 10), e.vtm = f.getById(e.linescores.vtm.TEAM_ID), e.htm = f.getById(e.linescores.htm.TEAM_ID) } function P() { var e, n; i.hasGames && i.hasPlayers && (e = i.games, n = i.teams, e.forEach(function (e) { var t = e.linescores.vtm.TEAM_ABBREVIATION, a = e.linescores.htm.TEAM_ABBREVIATION; "EST" !== t && "WST" !== a && n[t] && n[a] && (e.linescores.vtm.players = n[t].items.slice(0, 5), e.linescores.htm.players = n[a].items.slice(0, 5), i.isAllStar = !1), "EST" == t && "WST" == a && (i.isAllStar = !0) })) } function T() { (new Date).getFullYear(); var e = "https://data.nba.com/data/5s/v2015/json/mobile_teams/nba/" + u.get("site").SeasonYear + "/scores/00_todays_scores.json"; s.get(e).then(function (e) { var t = e.data.gs.g; t && t.length && i.games && i.games.length && t.forEach(function (n) { var s = i.games.find(function (e) { return e.GAME_ID === n.gid }); s && (s.LIVE_PERIOD = n.p, s.LIVE_PC_TIME = n.cl, s.GAME_STATUS_ID = n.st, s.GAME_STATUS_TEXT = n.stt, [["q1", "PTS_QTR1"], ["q2", "PTS_QTR2"], ["q3", "PTS_QTR3"], ["q4", "PTS_QTR4"], ["ot1", "PTS_OT1"], ["ot2", "PTS_OT2"], ["ot3", "PTS_OT3"], ["ot4", "PTS_OT4"], ["ot5", "PTS_OT5"], ["ot6", "PTS_OT6"], ["ot7", "PTS_OT7"], ["ot8", "PTS_OT8"], ["ot9", "PTS_OT9"], ["ot10", "PTS_OT10"], ["s", "PTS"]].forEach(function (e) { var t = e[1], a = e[0]; s.linescores.vtm[t] = n.v[a], s.linescores.htm[t] = n.h[a] }), s.linescores.htm.isWinner = s.linescores.htm.PTS >= s.linescores.vtm.PTS, s.linescores.vtm.isWinner = s.linescores.vtm.PTS >= s.linescores.htm.PTS, delete s.$$hashKey) }) }) } function D(e) { o.cancel(i.livePromise), i.livePromise = o(b, e) } function b() { p.get("scores_leaders").then(function (e) { var t = {}, a = "N" !== e.items[1].items[0].livegamestate[0].LIVE_GAME_FLAG; e.items[0].items[0].playergametats.forEach(function (e) { t[e.TEAM_ABBREVIATION] = e }), i.playerGameStats = t, D(a ? 3e4 : 3e5) }) } function x() { i.isLoading = !0; var e = u.get().SeasonYear, t = i.params.gameDate.split("/"), a = _slicedToArray(t, 3), n = a[0], s = a[1], r = a[2], o = { seasonYear: e, gameDate: "".concat(r).concat(n).concat(s) }; h.get(o).then(function (e) { i.isLoading = !1, e && (i.pointsBetGames = e) }) } i.splits = v.splits, i.playerStatParams = v.params, i.playerStatParams.MeasureType = "Base", i.hasEsi = !(!window.esi_ || "US" !== window.esi_.country), i.pointsBetLink = "https://join.pointsbet.com/nba-win-probability/?utm_source=Unbounce_NBA&utm_medium=NBA&utm_campaign=Risk_Free_2_200_NBA_Win_Probability&utm_term=Unbounce&utm_content=NBA&promo=NBAWIN", i.round = function (e) { return Math.round(10 * e) / 10 }, c.get(i.playerStatParams).then(function (e) { i.players = e.rows, i.players.sort(function (e, t) { return e.PTS > t.PTS ? -1 : 1 }), i.teams = r("groupBy")(i.players, "TEAM_ABBREVIATION"), i.hasPlayers = !0, P() }), p.get("scores_leaders").then(function (e) { var t = {}; e && e.items && e.items.length && (D("N" !== e.items[1].items[0].livegamestate[0].LIVE_GAME_FLAG ? 3e4 : 3e5), e.items[0].items[0].playergametats.forEach(function (e) { t[e.TEAM_ABBREVIATION] = e }), i.playerGameStats = t) }), p.get("scores_sidebar").then(function (e) { i.sidebar = e }), i.$watch(function () { return a.absUrl() }, function () { var e, t; 6 <= a.absUrl().split("/").length ? "game" === a.absUrl().split("/")[3] ? (e = new Date(i.boxscore.gameInfo.GAME_DATE), t = r("date")(e, "MM/dd/yyyy"), i.params.gameDate = t) : i.params.gameDate = a.absUrl().split("/stats/scores/")[1] : i.params.gameDate = r("date")(new Date, "MM/dd/yyyy"), i.isLoading = !0, m.get(i.params).then(function (e) { var t; if (i.games = e.games.map(function (e) { return angular.extend(e, { gameLinks: { gamebook: { lessThan2018: { display: 1 == e.WH_STATUS && 2010 <= e.SEASON && e.SEASON < 2018 || (2 == e.GAME_STATUS_ID || 3 == e.GAME_STATUS_ID) && 2010 <= e.SEASON && e.SEASON < 2018, url: "http://www.nba.com/data/html/nbacom/" + e.SEASON + "/gameinfo/" + e.GAMECODE.substr(0, 8) + "/" + e.GAME_ID + "_Book.pdf" }, greaterThan2018: { display: 1 == e.WH_STATUS && 2018 <= e.SEASON || (2 == e.GAME_STATUS_ID || 3 == e.GAME_STATUS_ID) && 2018 <= e.SEASON, url: "https://statsdmz.nba.com/pdfs/" + e.GAMECODE.substr(0, 8) + "/" + e.GAMECODE.replace("/", "_") + "_book.pdf" } }, pdf: { display: 2 == e.GAME_STATUS_ID || 3 == e.GAME_STATUS_ID, url: "https://statsdmz.nba.com/pdfs/" + e.GAMECODE.substr(0, 8) + "/" + e.GAMECODE.replace("/", "_") + ".pdf" } } }) }), i.standings = e.standings, i.standings[0].rows.forEach(S), i.standings[1].rows.forEach(S), i.standings[0].rows[0] && (t = i.standings[0].rows[0].SEASON_ID + "", i.seasonInfo = { Season: r("seasonyear")(t.substr(1, 4)), SeasonType: r("seasonTypeIdToSeasonType")(t.substr(0, 1)) }), i.tickerMax = 135 * (i.games.length + 1), i.games.forEach(y), i.noGames = 0 === i.games.length, n.$emit("numberOfGames", i.games.length), T(), i.fetchInterval ? n.$on("gameDateChange", function () { new Date(i.params.gameDate) < new Date && o.cancel(i.fetchInterval) }) : i.fetchInterval = o(T, 1e4), i.hasGames = !0, !i.noGames) { for (var a in i.games) "PPD" == i.games[a].GAME_STATUS_TEXT && i.games.push(i.games.splice(a, 1)[0]), 1 == i.games[a].GAME_STATUS_ID && "PPD" != i.games[a].GAME_STATUS_TEXT && function () { if (i.noGames) return; var n = i.games, e = Number(n[0].GAMECODE.split("/")[0]), t = "daily_lineups_" + e, a = "/stats/js/data/dailylineups/" + i.seasonInfo.Season.slice(0, 4) + "/" + t + ".json"; s.get(a).then(function (e) { var t = e.data; if (0 !== t.results.length) { i.lineup = r("groupBy")(t.results, "GameID"), i.hasLineup = !0; for (var a = 0; a < n.length; a++)i.lineup[n[a].GAME_ID] && (i.games[a].projectedLineup = i.lineup[n[a].GAME_ID].items) } else i.hasLineup = !1 }) }(), 3 !== i.games[a].GAME_STATUS_ID && P(); 2016 < i.params.gameDate.split("/")[2] && function () { if (i.noGames) return; var n = i.games, e = "boxscore_breakdown_" + Number(n[0].GAMECODE.split("/")[0]), t = "/stats/js/data/boxscorebreakdowns/" + n[0].GAMECODE.slice(0, 4) + "/" + e + ".json"; s.get(t).then(function (e) { var t, a = e.data; a.results && 0 !== a.results.length ? (t = r("groupBy")(a.results, "GameID"), i.hasBreakdown = !0, n.forEach(function (e) { t[e.GAME_ID] && "" !== t[e.GAME_ID].items[0].Breakdown && (e.boxscoreBreakdown = t[e.GAME_ID].items[0]) })) : i.hasBreakdown = !1 }) }() } i.isLoading = !1 }) }), i.trackTabChange = function (e, t) { var a = ["team leaders", "box score breakdowns", "lead tracker"][e], n = [t.GAME_ID, t.vtm.abbr + "@" + t.htm.abbr, a].join("_"); l.triggerEvent("scoresPageTab", n) }, i.trackLinkClick = function (e, t) { var a = e.target.dataset.scoresLink, n = [t.date.slice(4) + "" + t.date.slice(0, 4), t.vtm.abbr + "@" + t.htm.abbr, a].join("_"); l.triggerEvent("scoresPageLink", n) }, i.$watch("games", function (e, t) { e && (i.isAbove2018 = 2018 < +i.params.gameDate.substring(i.params.gameDate.length - 4), x(), i.fetchPointsInterval ? n.$on("gameDateChange", function () { new Date(i.params.gameDate) < new Date && o.cancel(i.fetchPointsInterval) }) : i.fetchPointsInterval = o(x, 6e4)) }) } stats.controller("ScoresController", e), e.$inject = ["$scope", "$sce", "$rootScope", "$http", "$filter", "$interval", "$location", "CMSENV", "DtmService", "LeaguePlayerGeneralService", "SeasonsService", "SplitsService", "StatsWidgetService", "ScoresService", "TeamsService", "StatsPointsBetService"] }(), function () { function e(i, e, t, a, n, s, r, o, l, c, u) { var d; function p() { i.noData = !1, i.isLoading = !0, i.isLandingPage = !1, l.get(m(i.params)).then(function (e) { !function (e) { var t = []; t = e.slice(0); var a, n, s = {}, r = [], o = 0; t.forEach(function (e) { a = e.PLAYER_ID, void 0 === s[a] ? (s[a] = o, e.TOTAL_GAMES = 1, r.push(e), o++) : (n = s[a], r[n].TOTAL_GAMES += 1) }), i.grouped = r }(e), i.isLoading = !1, e && 0 !== e.length ? (i.tableHeaders = Object.keys(e[0]).slice(0, -3), i.players = e, i.noData = !1) : i.noData = !0 }).catch(function (e) { i.isLandingPage = !0, i.isLoading = !1, i.noData = !0 }), o.triggerEvent("boxScoreSearch", o.setFilterProps(m(i.splits))) } function m(e) { var s = angular.copy(e); return i.filters && angular.forEach(i.filters, function (e) { var t = e.value.split("*"), a = t[1] + t[0], n = t[2]; -1 < t[0].indexOf("PCT") && (n /= 100), s[a] = n }), s } i.isLandingPage = !0, i.isLoading = !0, i.noData = !0, i.showGroup = !1, i.isFilters = !0, i.pageTitle = "Player Game Log Search", i.playerList = u.get().map(function (e) { var t = e.name.split(","); return { $hash: e.id, DISPLAY_LAST_COMMA_FIRST: e.name, DISPLAY_FIRST_LAST: e.name, FIRST_NAME: t[1], LAST_NAME: t[0], PERSON_ID: e.id, text: e.name, val: e.id, selected: { text: e.name, val: e.id } } }), d = c.get(["Season", "SeasonType", "TeamID", "VsTeamID", "Outcome", "Location", "DateFrom", "DateTo", "VsConference", "VsDivision", "Conference", "Division", "DraftYear", "DraftNumber", "DraftRound", { name: "StatCategory", without: ["DD", "TD", "PTSPAINT", "PTSFB", "PTS2NDCHANCE", "PTSOFFTOV"] }, { name: "GB", default: "N", initial: "N", type: "toggle", label: "Total Games", val: { true: "Y", false: "N" } }, "PlayerID"]), i.splits = d.splits, i.params = d.params, i.params.PlayerOrTeam = "P", i.params.LeagueID = "00", i.options = { sortField: t.data("sort-field"), sortDirection: t.data("sort-direction") }, i.customFields = d.splits.StatCategory.options.map(function (e) { return { name: e.val, text: e.text } }), delete i.splits.StatCategory, r(function () { var e = s.search(); "CF" in e && 0 < Object.keys(e).length ? (i.isLandingPage = !1, i.runit()) : i.filters = [{ name: "CF0", value: "PTS*gt*40" }] }, 0), i.$on("runit", function (e) { var t; i.isLandingPage && i.toggleFilters(), p(), i.showGroup = "Y" === i.params.GB, t = [], i.filters.forEach(function (e) { t.push(e.text) }), i.pageTitle = "Player Game Log Search", 0 < t.length && (i.pageTitle = t.join(", ") + " - " + i.pageTitle), i.isFilters = !1 }), i.toggleFilters = function () { i.isFilters = !i.isFilters } } stats.controller("GameFinderPlayerController", e), e.$inject = ["$scope", "$anchorScroll", "$element", "$filter", "$http", "$location", "$timeout", "QuerytoolDtmService", "GameFinderService", "QuerytoolSplitsService", "PlayersService"] }(), function () { function e(i, e, t, a, n, s, r, o, l, c, u) { i.isLandingPage = !0, i.isLoading = !0, i.noData = !0, i.showGroup = !1, i.isFilters = !0, i.pageTitle = "Team Game Log Search", i.ai = {}, i.ai.isNotAllstarTeam = function (e) { var t = p.filter(function (t) { return function (e) { return +e.id === t } }(e)); return 0 < t.length && t[0] }; var d, p = u.get(); function m() { i.noData = !1, i.isLoading = !0, i.isLandingPage = !1, l.get(f(i.params)).then(function (e) { !function (e) { var t = []; t = e.slice(0); var a, n, s = {}, r = [], o = 0; t.forEach(function (e) { a = e.TEAM_ID, void 0 === s[a] ? (s[a] = o, e.TOTAL_GAMES = 1, r.push(e), o++) : (n = s[a], r[n].TOTAL_GAMES += 1) }), i.grouped = r }(e), i.isLoading = !1, e && 0 !== e.length ? (i.tableHeaders = Object.keys(e[0]).slice(0, -3), i.teams = e, i.noData = !1) : i.noData = !0 }).catch(function (e) { i.isLandingPage = !0, i.isLoading = !1, i.noData = !0 }), o.triggerEvent("boxScoreSearch", o.setFilterProps(f(i.splits))) } function f(e) { var s = angular.copy(e); return i.filters && angular.forEach(i.filters, function (e) { var t = e.value.split("*"), a = t[1] + t[0], n = t[2]; -1 < t[0].indexOf("PCT") && (n /= 100), s[a] = n }), s } d = c.get(["Season", "SeasonType", "TeamID", "VsTeamID", "Outcome", "Location", "DateFrom", "DateTo", "VsConference", "VsDivision", "Conference", "Division", "DraftYear", "DraftNumber", "DraftRound", { name: "StatCategory", without: ["DD", "TD", "MINUTES", "PTSPAINT", "PTSFB", "PTS2NDCHANCE", "PTSOFFTOV"] }, { name: "GB", default: "N", initial: "N", type: "toggle", label: "Total Games", val: { true: "Y", false: "N" } }]), i.splits = d.splits, i.params = d.params, i.params.PlayerOrTeam = "T", i.params.LeagueID = "00", i.options = { sortField: t.data("sort-field"), sortDirection: t.data("sort-direction") }, i.customFields = d.splits.StatCategory.options.map(function (e) { return { name: e.val, text: e.text } }), delete i.splits.StatCategory, r(function () { var e = s.search(); "CF" in e && 0 < Object.keys(e).length ? (i.isLandingPage = !1, i.runit()) : i.filters = [{ name: "CF0", value: "PTS*gt*130" }] }, 0), i.$on("runit", function (e) { var t; i.isLandingPage && i.toggleFilters(), m(), i.showGroup = "Y" === i.params.GB, t = [], i.filters.forEach(function (e) { t.push(e.text) }), i.pageTitle = "Team Game Log Search", 0 < t.length && (i.pageTitle = t.join(", ") + " - " + i.pageTitle), i.isFilters = !1, i.limit = 50 }), i.toggleFilters = function () { i.isFilters = !i.isFilters } } stats.controller("GameFinderTeamController", e), e.$inject = ["$scope", "$anchorScroll", "$element", "$filter", "$http", "$location", "$timeout", "QuerytoolDtmService", "GameFinderService", "QuerytoolSplitsService", "TeamsService"] }(), function () { function e(a, e, t, n, s, r, o, i, l, c) { var u; function d(e) { var s = angular.copy(e); return a.filters && angular.forEach(a.filters, function (e) { var t = e.value.split("*"), a = t[1] + t[0], n = t[2]; -1 < t[0].indexOf("PCT") && (n /= 100), s[a] = n }), s } a.isLandingPage = !0, a.isLoading = !0, a.noData = !0, a.isFilters = !0, a.pageTitle = "Player Streak Search", u = c.get(["ActiveStreaksOnly", "Season", { name: "SeasonType" }, "TeamID", "VsTeamID", "Outcome", "Location", "DateFrom", "DateTo", "VsConference", "VsDivision", "Conference", "Division", "DraftYear", "DraftNumber", "DraftRound", { name: "StatCategory", without: ["DD", "TD", "PTSPAINT", "PTSFB", "PTS2NDCHANCE", "PTSOFFTOV"] }, "MinGames"]), a.splits = u.splits, a.params = u.params, a.options = { sortField: t.data("sort-field"), sortDirection: t.data("sort-direction") }, a.customFields = u.splits.StatCategory.options.map(function (e) { return { name: e.val, text: e.text } }), a.params.LeagueID = "00", delete a.splits.StatCategory, o(function () { var e = r.search(); "CF" in e && 0 < Object.keys(e).length ? (a.isLandingPage = !1, a.runit()) : a.filters = [{ name: "CF0", value: "PTS*gt*30" }] }, 0), a.$on("runit", function (e) { var t; a.isLandingPage && a.toggleFilters(), a.noData = !1, a.isLoading = !0, a.isLandingPage = !1, l.get(d(a.params)).then(function (e) { a.isLoading = !1, e && 0 !== e.length ? (a.tableHeaders = Object.keys(e[0]).slice(0, -2), a.players = e, a.noData = !1) : a.noData = !0 }).catch(function (e) { a.isLandingPage = !0, a.isLoading = !1, a.noData = !0 }), i.triggerEvent("playerStreakSearch", i.setFilterProps(d(a.splits))), t = [], a.filters.forEach(function (e) { t.push(e.text) }), a.pageTitle = "Player Streak Search", 0 < t.length && (a.pageTitle = t.join(", ") + " - " + a.pageTitle), a.isFilters = !1 }), a.toggleFilters = function () { a.isFilters = !a.isFilters } } stats.controller("StreakFinderController", e), e.$inject = ["$scope", "$anchorScroll", "$element", "$filter", "$http", "$location", "$timeout", "QuerytoolDtmService", "PlayerGameStreakService", "QuerytoolSplitsService"] }(), function () { function e(a, e, t, n, s, r, o, i, l, c, u) { a.isLandingPage = !0, a.isLoading = !0, a.noData = !0, a.isFilters = !0, a.pageTitle = "Team Streak Search", a.ai = {}, a.ai.isNotAllstarTeam = function (e) { var t = p.filter(function (t) { return function (e) { return +e.id === t } }(e)); return 0 < t.length && t[0] }; var d, p = u.get(); function m(e) { var s = angular.copy(e); return a.filters && angular.forEach(a.filters, function (e) { var t = e.value.split("*"), a = t[1] + t[0], n = t[2]; -1 < t[0].indexOf("PCT") && (n /= 100), s[a] = n }), a.oppFilters && angular.forEach(a.oppFilters, function (e) { var t = e.value.split("*"), a = "OPP" + t[0], a = "gt" == t[1] ? "Btr" + a : "Wrs" + a; s[a] = "YES" }), s } d = c.get(["ActiveStreaksOnly", "Season", { name: "SeasonType" }, "TeamID", "VsTeamID", "Outcome", "Location", "DateFrom", "DateTo", "VsConference", "VsDivision", "Conference", "Division", "DraftYear", "DraftNumber", "DraftRound", { name: "StatCategory", without: ["DD", "TD", "MINUTES"], include: [{ val: "OPPPTS", text: "Opp PTS" }, { val: "OPPREB", text: "Opp REB" }, { val: "OPPAST", text: "Opp AST" }, { val: "OPPSTL", text: "Opp STL" }, { val: "OPPBLK", text: "Opp BLK" }, { val: "OPPOREB", text: "Opp OREB" }, { val: "OPPDREB", text: "Opp DREB" }, { val: "OPPTOV", text: "Opp TOV" }, { val: "OPPPF", text: "Opp PF" }, { val: "OPPFGM", text: "Opp FGM" }, { val: "OPPFGA", text: "Opp FGA" }, { val: "OPPFG_PCT", text: "Opp FG%" }, { val: "OPPFG3M", text: "Opp 3PM" }, { val: "OPPFG3A", text: "Opp 3PA" }, { val: "OPPFG3_PCT", text: "Opp 3P%" }, { val: "OPPFTM", text: "Opp FTM" }, { val: "OPPFTA", text: "Opp FTA" }, { val: "OPPFT_PCT", text: "Opp FT%" }, { val: "OPPPTSPAINT", text: "Opp PITP" }, { val: "OPPPTSFB", text: "Opp FB PTS" }, { val: "OPPPTS2NDCHANCE", text: "Opp 2nd PTS" }, { val: "OPPPTSOFFTOV", text: "Opp PTS Off TOV" }] }, "MinGames"]), a.splits = d.splits, a.params = d.params, a.options = { sortField: t.data("sort-field"), sortDirection: t.data("sort-direction") }, a.customFields = d.splits.StatCategory.options.map(function (e) { return { name: e.val, text: e.text } }), a.oppFields = angular.copy(a.customFields).slice(0, 22), a.params.LeagueID = "00", delete a.splits.StatCategory, o(function () { var e = r.search(); ("CF" in e || "MATCHUP" in e) && 0 < Object.keys(e).length ? (a.isLandingPage = !1, a.runit()) : a.filters = [{ name: "CF0", value: "PTS*gt*120" }] }, 0), a.$on("runit", function (e) { var t; a.isLandingPage && a.toggleFilters(), a.noData = !1, a.isLoading = !0, a.isLandingPage = !1, l.get(m(a.params)).then(function (e) { a.isLoading = !1, e && 0 !== e.length ? (a.tableHeaders = Object.keys(e[0]).slice(0, -2), a.teams = e, a.noData = !1) : a.noData = !0 }).catch(function (e) { a.isLandingPage = !0, a.isLoading = !1, a.noData = !0 }), i.triggerEvent("teamStreakSearch", i.setFilterProps(m(a.splits))), t = [], a.filters.forEach(function (e) { t.push(e.text) }), a.pageTitle = "Team Streak Search", 0 < t.length && (a.pageTitle = t.join(", ") + " - " + a.pageTitle), a.isFilters = !1, a.limit = 50 }), a.toggleFilters = function () { a.isFilters = !a.isFilters } } stats.controller("TeamStreakFinderController", e), e.$inject = ["$scope", "$anchorScroll", "$element", "$filter", "$http", "$location", "$timeout", "QuerytoolDtmService", "TeamGameStreakService", "QuerytoolSplitsService", "TeamsService"] }(), function () { function e(i, t, l, a, n, e, s, c, r, u, o) { i.decodeHtml = function (e) { var t = document.createElement("textarea"); return t.innerHTML = e, a.trustAsHtml(t.value) }; var d = s.get("standings"), p = ["Oct", "Nov", "Dec", "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep"], m = c.get(["LeagueID", { name: "Season", initial: d.Season, default: d.Season, seasonRange: [d.SeasonYearFrom, d.SeasonYear] }, { name: "SeasonType", initial: d.SeasonType, default: d.SeasonType, without: ["Pre Season", "Playoffs", "All Star"] }, { name: "GroupBy", label: "Group By", default: "Conference", initial: "Conference", type: "select", options: [{ val: "Conference", text: "Conference" }, { val: "Division", text: "Division" }] }, { name: "Section", label: "Section", default: "", initial: "", type: "select", options: [{ val: "", text: "Overall" }, { val: "streaks", text: "Streaks" }, { val: "ab", text: "Ahead/Behind" }, { val: "margins", text: "Margins & Stats" }, { val: "vs", text: "vs Div/Conf" }, { val: "calendar", text: "Calendar" }] }]); i.splits = m.splits, i.params = m.params, i.isExternal = e.isExternal, i.isDomestic = e.isDomestic, i.ai = {}, i.ai.isExternal = i.isExternal, i.ai.isDomestic = i.isDomestic; function f() { delete i.params.Section, delete i.params.GroupBy, i.isLoading = !0, r.get(i.params).then(function (e) { for (var t in i.isLoading = !1, e.rows.forEach(function (t) { p.forEach(function (e) { t[e] && (i.ai[e] = !0) }) }), i.standings = e.rows.filter(function (e) { return "Intl" !== e.Conference }), i.standings) { var a = u.getById(i.standings[t].TeamID); i.standings[t].Team = a.code, i.standings[t].abbr = a.abbr } var n, s, r, o; i.groups = (n = i.standings, s = i.splits.GroupBy.selected.val, r = l("groupBy")(n, s), o = c.get([{ name: "Conference", without: [""] }, { name: "Division", without: [""] }]).splits[s].options.map(function (e) { return r[e.val] }), i.ai.group = s, o) }).catch(function (e) { i.isLoading = !1, i.noData = !0 }) } i.$on("customFields", function (e, t) { i.customFields = t }), i.$on("runit", function (e) { "2019-20" === e.targetScope.params.Season && (i.splits.GroupBy.selected = c.findDefault(i.splits.GroupBy), t.search("GroupBy", null)), f() }), i.standingsNoticeLinkClicked = function (e) { n.triggerEvent("standingsRtp", [e]) }, i.isLoading = !0, o.get("notices/standings_notices").then(function (e) { i.feedData = angular.extend({}, JSON.parse(e.body)), i.filterTitle = function (e) { return { head: e.split(" ").slice(0, -1).join(" "), tail: e.split(" ").slice(-1).join(" ") } }, i.isLoading = !1 }), "2019-20" === i.params.Season && (i.splits.GroupBy.selected = c.findDefault(i.splits.GroupBy), t.search("GroupBy", null)), f() } stats.controller("StandingsController", e), e.$inject = ["$scope", "$location", "$filter", "$sce", "DtmService", "ReferrerService", "SeasonsService", "SplitsService", "StandingsService", "TeamsService", "StatsFlatDataService"] }(), function () { function e(t, e, a, n) { var s = e.get("summerleague"); function r(e) { var t = n.getById(e.TeamID); t ? (e.tc = t.city, e.tn = t.name, e.info = t) : (e.tc = e.TeamCity, e.tn = e.TeamName) } t.params = { Season: s.SeasonYear, SeasonType: s.SeasonType, LeagueID: "15" }, delete t.params.Section, t.isLoading = !0, a.get(t.params).then(function (e) { t.isLoading = !1, t.standings = e.rows, e.rows.forEach(r) }).catch(function (e) { t.isLoading = !1, t.noData = !0 }) } stats.controller("SummerleagueStandingsController", e), e.$inject = ["$scope", "SeasonsService", "StandingsService", "TeamsService"] }(), function () { function e(t, e, a, n, s, r) { var o = r.get("summerleague"); t.isLoaded = !1, t.params = { LeagueID: a.LeagueID, LeagueName: s.findOptionByValue("LeagueID", a.LeagueID).text, TeamName: a.TeamName, Season: o.SeasonYear, SeasonType: o.SeasonTypeId }, n.get(t.params.TeamName, t.params.Season, t.params.LeagueName, t.params.SeasonType).then(function (e) { t.isLoaded = !0, t.hasRoster = !!e.roster.pl.length, t.hasTotals = !!e.stats.tot.length, t.hasAverages = !!e.stats.avg.length, t.team = e }).catch(function (e) { t.isLoaded = !0, t.hasRoster = !1, t.hasTotals = !1, t.hasAverages = !1, console.error(e) }) } stats.controller("SummerLeagueTeamController", e), e.$inject = ["$scope", "$filter", "$routeParams", "MobileTeamService", "SplitsService", "SeasonsService"] }(), function () { function e(s, r, e, t, o, i, a) { function l() { s.isLoading = !0, a.get(s.params).then(function (e) { s.stats = e, s.noData = !e.rows.length, s.isLoading = !1 }).catch(function (e) { s.isLoading = !1, s.noData = !0 }) } s.$watch("teamInfo", function (e) { if (!e) return; var t = o.get("teamStats"), a = s.teamObject, n = i.get(["LeagueID", { name: "Season", initial: a.Season, default: a.Season, seasonRange: [t.SeasonYearFrom, e.MAX_YEAR] }, { name: "SeasonType", initial: a.SeasonType, default: a.SeasonType, without: ["All Star"] }, "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "PORound", "ShotClockRange", "DateFrom", "DateTo"]); s.splits = n.splits, s.params = n.params, s.params.TeamID = e.TEAM_ID, s.params.PerMode = "Totals", s.params.MeasureType = r.data("measure-type"), l() }), s.$on("customFields", function (e, t) { s.customFields = t }), s.$on("runit", function (e) { l() }) } stats.controller("TeamBoxscoreSplitsController", e), e.$inject = ["$scope", "$element", "$filter", "$location", "SeasonsService", "SplitsService", "TeamGamelogSplitsService"] }(), function () { function e(a, e, t, n, s, r) { a.isLoading = !0; var o = n.get("teamGameLogs"); function i() { a.isLoading = !0, r.get(a.params).then(function (e) { a.teamStats = e, a.noData = 0 === e.rows.length, a.isLoading = !1 }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { i() }), a.$watch("teamInfo", function (e) { if (!e) return; var t = s.get(["LeagueID", { name: "Season", initial: o.Season, seasonRange: [e.MIN_YEAR, e.MAX_YEAR], includeBefore: [{ val: "ALL", text: "All Seasons" }] }, { name: "SeasonType", initial: o.SeasonType, without: ["All Star"] }, "DateFrom", "DateTo"]); a.splits = t.splits, a.params = t.params, a.params.TeamID = e.TEAM_ID, i() }) } stats.controller("TeamBoxscoresController", e), e.$inject = ["$scope", "$filter", "$location", "SeasonsService", "SplitsService", "TeamGamelogsService"] }(), function () { function e(n, e, t, s, r) { function o() { n.isLoading = !0, n.teamInfo = window.nbaStatsTeamInfo, t.get(n.params).then(function (e) { n.teamStats = e.rows, n.noData = 0 === n.teamStats.length, n.isLoading = !1 }).catch(function (e) { n.isLoading = !1, n.noData = !0 }) } n.isLoading = !0, n.noData = !1, n.$watch("teamInfo", function (e) { var t, a; e && (s.get("teamStats"), t = n.teamInfo, a = r.get(["LeagueID", { name: "SeasonType", initial: t.SeasonType, default: t.SeasonType, without: ["Pre Season", "All Star", "PlayIn"] }, "PerMode"]), n.splits = a.splits, n.params = a.params, n.params.TeamID = e.TEAM_ID, o()) }), n.$on("runit", function (e) { o() }) } stats.controller("TeamFranchiseLeadersController", e), e.$inject = ["$scope", "$filter", "FranchiseLeadersRankService", "SeasonsService", "SplitsService"] }(), function () { function e(a, e, t, n, s) { function r() { a.isLoading = !0, s.get(a.params).then(function (e) { a.teamStats = e, a.isLoading = !1, a.noData = !e.rows.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.isLoading = !0, a.showSplits = !1, a.noData = !1, a.$on("runit", function (e) { r() }), a.$on("customFields", function (e, t) { a.customFields = t }), a.$watch("teamInfo", function (e) { if (!e) return; a.teamObject; var t = n.get(["LeagueID", { name: "SeasonType", without: ["Pre Season", "All Star"] }, "PerMode"]); a.splits = t.splits, a.params = t.params, a.params.TeamID = e.TEAM_ID, r() }) } stats.controller("TeamHistoricRosterController", e), e.$inject = ["$scope", "$element", "$filter", "SplitsService", "TeamFranchiseRosterService"] }(), function () { function e(a, n, e, s, r, t, o) { a.isLoading = !0, a.showSplits = !1, a.rowsPerPage = 50, a.noData = !1; var i = t.get("teamLineups"); function l() { a.isLoading = !0, o.get(a.params).then(function (e) { a.datasets = e.Lineups, a.noData = 0 === a.datasets.rows.length, a.isLoading = !1 }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { l() }), a.$watch("teamInfo", function (e) { if (!e) return; var t = r.get(["LeagueID", { name: "Season", initial: i.Season, seasonRange: [i.SeasonYearFrom, e.MAX_YEAR] }, { name: "SeasonType", initial: i.SeasonType, without: ["Pre Season", "All Star"] }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, "GroupQuantity", "PlusMinus", "PaceAdjust", "PORound", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateFrom", "DateTo", { name: "GameID", default: "", type: "pseudo" }]); a.splits = t.splits, a.params = t.params, a.params.MeasureType = n.data("measure-type"), a.params.TeamID = e.TEAM_ID, a.splits.GameID.selected.text = function (e) { if (!e) return ""; var t = e.substr(0, 4), a = e.substr(4, 2), n = e.substr(6, 2); return e.substr(9, 3) + " vs " + e.substr(12, 3) + " - " + a + "/" + n + "/" + t }(s.search().GameCode), l() }) } stats.controller("TeamLineupsController", e), e.$inject = ["$scope", "$element", "$filter", "$location", "SplitsService", "SeasonsService", "TeamLineupsService"] }(), function () { function e(r, e, o, i, l, c, t) { function u() { var e; r.isLoading = !0, delete (e = "Offense" === r.params.Matchup ? angular.extend({}, r.params, { OffTeamID: r.teamId }) : angular.extend({}, r.params, { DefTeamID: r.teamId })).Matchup, t.get(e).then(function (e) { r.dataset = e, r.noData = 0 === e.rows.length, r.isLoading = !1 }).catch(function (e) { r.isLoading = !1, r.noData = !0 }) } r.$watch("teamInfo", function (e) { if (!e) return; r.availableStats.stats || i.path("/career/"); var t = l.get("leagueMatchups"), a = o("seasonyear")(Math.min(e.MAX_YEAR, t.SeasonYear)), n = [2017, e.MAX_YEAR]; if (n[1] < n[0]) return r.noData = !0, void (r.isLoading = !1); var s = c.get(["LeagueID", { name: "Season", initial: a, default: a, seasonRange: n }, { name: "SeasonType", initial: t.SeasonType, without: ["Pre Season", "All Star"] }, { name: "PerMode", default: "Totals" }, "Outcome", "DateFrom", "DateTo", "PORound", { name: "Matchup", type: "select", label: "Team On", initial: "Defense", default: "Defense", options: [{ val: "Offense", text: "Offense" }, { val: "Defense", text: "Defense" }] }]); r.teamId = e.TEAM_ID, r.splits = s.splits, r.params = s.params, u() }), r.$on("customFields", function (e, t) { r.customFields = t }), r.$on("runit", function (e) { u() }) } stats.controller("TeamMatchupsController", e), e.$inject = ["$scope", "$element", "$filter", "$location", "SeasonsService", "SplitsService", "LeagueMatchupsService"] }(), function () { function e(a, e, t, n, s, r) { a.isLoading = !0, a.showSplits = !1, a.noData = !1; var o = s.get("teamOnOffCourt"); function i() { a.isLoading = !0, r.get(a.params).then(function (e) { a.datasets = e, a.isLoading = !1, a.noData = 0 === a.datasets.OverallTeamPlayerOnOffSummary.rows.length || 0 === a.datasets.PlayersOnCourtTeamPlayerOnOffSummary.rows.length || 0 === a.datasets.PlayersOffCourtTeamPlayerOnOffSummary.rows.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.$on("runit", function (e) { i() }), a.$watch("teamInfo", function (e) { if (!e) return; var t = n.get(["LeagueID", { name: "Season", initial: o.Season, seasonRange: [o.SeasonYearFrom, e.MAX_YEAR] }, { name: "SeasonType", initial: o.SeasonType, without: ["Pre Season", "All Star"] }, "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateFrom", "DateTo"]); a.splits = t.splits, a.params = t.params, a.params.MeasureType = "Base", a.params.TeamID = e.TEAM_ID, a.params.PerMode = "Totals", i() }) } stats.controller("TeamOnOffCourtSummaryController", e), e.$inject = ["$scope", "$filter", "$location", "SplitsService", "SeasonsService", "TeamOnOffCourtSummaryService"] }(), function () { function e(a, n, e, t, s, r, o) { a.isLoading = !0, a.noData = !1; var i = r.get("teamOnOffCourt"); function l() { a.isLoading = !0, o.get(a.params).then(function (e) { a.isLoading = !1, a.datasets = e, a.noData = 0 === a.datasets.OverallTeamPlayerOnOffDetails.rows.length || 0 === a.datasets.PlayersOnCourtTeamPlayerOnOffDetails.rows.length || 0 === a.datasets.PlayersOffCourtTeamPlayerOnOffDetails.rows.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.$on("runit", function (e) { l() }), a.$watch("teamInfo", function (e) { if (!e) return; var t = s.get(["LeagueID", { name: "Season", initial: i.Season, seasonRange: [i.SeasonYearFrom, e.MAX_YEAR] }, { name: "SeasonType", initial: i.SeasonType, without: ["Pre Season", "All Star"] }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateFrom", "DateTo"]); a.splits = t.splits, a.params = t.params, a.params.MeasureType = n.data("measure-type"), a.params.TeamID = e.TEAM_ID, l() }) } stats.controller("TeamOnOffCourtController", e), e.$inject = ["$scope", "$element", "$filter", "$location", "SplitsService", "SeasonsService", "TeamOnOffCourtService"] }(), function () { function e(n, s, e, t, r, a, o) { n.isLoading = !0, n.showSplits = !1, n.noData = !1; var i = a.get("teamPlayer"); function l() { n.isLoading = !0, o.get(n.params).then(function (e) { n.datasets = e, n.isLoading = !1, n.noData = 0 === n.datasets.TeamOverall.rows.length || 0 === n.datasets.PlayersSeasonTotals.rows.length }).catch(function (e) { n.isLoading = !1, n.noData = !0 }) } n.$on("runit", function (e) { l() }), n.$watch("teamInfo", function (e) { if (!e) return; var t = n.teamObject, a = r.get(["LeagueID", { name: "Season", initial: t.Season, default: t.Season, seasonRange: [i.SeasonYearFrom, e.MAX_YEAR] }, { name: "SeasonType", initial: t.SeasonType, default: t.SeasonType, without: ["All Star"] }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, "PORound", "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateFrom", "DateTo"]); n.splits = a.splits, n.params = a.params, n.params.MeasureType = s.data("measure-type"), n.params.TeamId = e.TEAM_ID, l() }) } stats.controller("TeamPlayersController", e), e.$inject = ["$scope", "$element", "$filter", "$location", "SplitsService", "SeasonsService", "TeamPlayersService"] }(), function () { function e(s, a, e, t, n, r, o, i) { s.isLoading = !0; var l = n.get("teamRoster"); function c() { s.isLoading = !0, o.get(s.params).then(function (e) { for (var t in s.isLoading = !1, s.roster = e.CommonTeamRoster, s.coaches = e.Coaches, s.roster.rows) s.roster.rows[t].HEIGHT_INCHES = a("toInches")(s.roster.rows[t].HEIGHT), s.roster.rows[t].DOB = new Date(s.roster.rows[t].BIRTH_DATE); s.roster.rows.forEach(function (e) { e.NO = +e.NUM, e.XP = "R" === e.EXP ? 0 : +e.EXP }) }).catch(function (e) { s.isLoading = !1 }) } s.$on("runit", function (e) { c() }), s.$watch("teamInfo", function (e) { if (!e) return; var t = i.getById(e.TEAM_ID), a = Math.max(e.MAX_YEAR, l.SeasonYear); t && t.special && (a = e.MAX_YEAR); var n = r.get(["LeagueID", { name: "Season", initial: l.Season, seasonRange: [e.MIN_YEAR, a] }]); s.splits = n.splits, s.params = n.params, s.params.TeamID = e.TEAM_ID, c() }) } stats.controller("TeamProfileRosterController", e), e.$inject = ["$scope", "$filter", "$location", "$rootScope", "SeasonsService", "SplitsService", "TeamRosterService", "TeamsService"] }(), function () { function e(s, e, t, r, o, a) { function i() { s.isLoading = !0, a.get(s.params).then(function (e) { s.teamStats = e.TeamStats.rows.reverse(), s.noData = 0 === s.teamStats.length, s.isLoading = !1 }).catch(function (e) { s.isLoading = !1, s.noData = !0 }) } s.isLoading = !0, s.rowsPerPage = 100, s.noData = !1, s.$watch("teamInfo", function (e) { var t, a, n = r.get("teamStats"); e && (t = { LeagueID: n.LeagueID, TeamID: e.TEAM_ID, SeasonType: "Regular Season" }, a = o.get([{ name: "PerMode", initial: "Totals" }]), s.splits = a.splits, s.params = a.params, s.params = angular.extend({}, s.params, t), i()) }), s.$on("runit", function (e) { i() }) } stats.controller("TeamSeasonsController", e), e.$inject = ["$scope", "$filter", "$location", "SeasonsService", "SplitsService", "TeamSeasonsService"] }(), function () { function e(n, e, t, a, s, r, o) { function i() { n.isLoading = !0, o.get(n.params).then(function (e) { n.datasets = e.filter(function (e) { return "AssistedBy" !== e.name }), n.noData = !n.datasets[0].rows.length, n.isLoading = !1 }).catch(function (e) { n.isLoading = !1, n.noData = !0 }) } n.$on("customFields", function (e, t) { n.customFields = t }), n.$on("runit", function (e) { i() }), n.$watch("teamInfo", function (e) { var t, a; e && (t = s.get("teamStats"), a = r.get(["LeagueID", { name: "Season", initial: t.Season, seasonRange: [t.SeasonYearFrom, e.MAX_YEAR] }, { name: "SeasonType", initial: t.SeasonType, without: ["All Star"] }, "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "PORound", "ShotClockRange", "DateFrom", "DateTo"]), n.splits = a.splits, n.params = a.params, n.params.TeamID = e.TEAM_ID, n.params.MeasureType = "Base", n.params.PerMode = "Totals", i()) }) } stats.controller("TeamStatsShootingController", e), e.$inject = ["$scope", "$element", "$filter", "$location", "SeasonsService", "SplitsService", "TeamShootingSplitsService"] }(), function () { function e(n, e, t, s, a, r) { var o, i = a.get("teamTracking"); function l() { n.isLoading = !0, n.noData = !1, r.get(n.params).then(function (e) { var t = e; 0 === t.GeneralShooting.rows.length ? (n.noData = !0, n.datasets = []) : (n.noData = !1, n.datasets = [{ name: "GeneralShooting", datatable: t.GeneralShooting.rows }, { name: "ShotClockShooting", datatable: t.ShotClockShooting.rows }, { name: "DribbleShooting", datatable: t.DribbleShooting.rows }, { name: "ClosestDefenderShooting", datatable: t.ClosestDefenderShooting.rows }, { name: "ClosestDefender10ftPlusShooting", datatable: t.ClosestDefender10ftPlusShooting.rows }, { name: "TouchTimeShooting", datatable: t.TouchTimeShooting.rows }]), n.isLoading = !1 }).catch(function (e) { n.isLoading = !1, n.noData = !0 }) } n.isLoading = !0, n.showSplits = !1, n.noData = !1, n.$on("runit", function (e) { l() }), n.$watch("teamInfo", function (e) { var t, a; (o = e) && (t = o, a = s.get([{ name: "Season", initial: i.Season, default: i.Season, seasonRange: [i.SeasonYearFrom, Math.min(t.MAX_YEAR, i.SeasonYear)] }, { name: "SeasonType", initial: i.SeasonType, without: ["Pre Season", "All Star"] }, "PerMode", "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateFrom", "DateTo"]), n.splits = a.splits, n.params = { MeasureType: "Base", LeagueID: "00", TeamID: t.TEAM_ID, Season: n.splits.Season.selected.val, SeasonType: n.splits.SeasonType.selected.val, PerMode: n.splits.PerMode.selected.val, PlusMinus: n.splits.PlusMinus.selected.val, PaceAdjust: n.splits.PaceAdjust.selected.val, Rank: n.splits.Rank.selected.val, Outcome: n.splits.Outcome.selected.val, Location: n.splits.Location.selected.val, Month: n.splits.Month.selected.val, SeasonSegment: n.splits.SeasonSegment.selected.val, OpponentTeamID: n.splits.OpponentTeamID.selected.val, VsConference: n.splits.VsConference.selected.val, VsDivision: n.splits.VsDivision.selected.val, GameSegment: n.splits.GameSegment.selected.val, Period: n.splits.Period.selected.val, LastNGames: n.splits.LastNGames.selected.val, DateFrom: n.splits.DateFrom.selected.val, DateTo: n.splits.DateTo.selected.val }, l()) }) } stats.controller("TeamTrackingDashShotsController", e), e.$inject = ["$scope", "$location", "$filter", "SplitsService", "SeasonsService", "TeamTrackingDashShotsService"] }(), function () { function e(s, r, e, o, i, l, c) { function u() { s.isLoading = !0, c.endpoint = s.splits.Split.selected.endpoint, c.get(s.params).then(function (e) { s.datasets = e, s.noData = !s.datasets[0].rows.length, s.isLoading = !1 }).catch(function (e) { s.isLoading = !1, s.noData = !0 }) } s.$watch("teamInfo", function (e) { if (!e) return; var t = i.get("teamStats"), a = s.teamObject; a.special && o.path(a.id + "/seasons/"); var n = l.get(["LeagueID", { name: "Season", initial: a.Season, default: a.Season, seasonRange: [t.SeasonYearFrom, e.MAX_YEAR] }, { name: "SeasonType", initial: a.SeasonType, default: a.SeasonType, without: ["All Star"] }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, { name: "Split", label: "Split", order: 900, default: c.endpoints[0].val, initial: c.endpoints[0].val, type: "select", options: c.endpoints.slice(0) }, "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "PORound", "ShotClockRange", "DateFrom", "DateTo"]); s.splits = n.splits, s.params = n.params, s.params.TeamID = e.TEAM_ID, s.params.MeasureType = r.data("measure-type"), u() }), s.$on("customFields", function (e, t) { s.customFields = t }), s.$on("runit", function (e) { u() }) } stats.controller("TeamSplitsController", e), e.$inject = ["$scope", "$element", "$filter", "$location", "SeasonsService", "SplitsService", "TeamSplitsService"] }(), function () { function e(n, s, e, t, a, r, o, i) { var l, c = e.absUrl(); -1 < c.indexOf("/#!/") && (document.location = c.replace("/#!/", "/")), n.TeamID = s.data("team-id"), n.isLoading = !0, l = o.getById(n.TeamID), n.teamObject = l, n.teamInfo = window.nbaStatsTeamInfo, n.teamRanks = window.nbaStatsTeamRanks, n.teamSeasons = window.nbaStatsTeamSeasons, n.TeamAbbr = l.abbr, n.LeagueTeams = o.get(), n.ai = n.teamInfo, n.availableStats = { stats: !l.special, matchups: 2017 <= n.teamInfo.MAX_YEAR }, n.$emit("onTeamInfo", { id: l.id, name: l.name, city: l.city, abbr: l.abbr, isSpecial: l.special, sections: n.availableStats }), n.isLoading = !1, n.$on("$viewContentLoaded", function (e, t) { var a = s.find(".team-view"); n.pageCat = a.data("cat"), n.pageSection = a.data("section") }); var u = [null, null, n.TeamID, n.TeamAbbr]; r.triggerEvent("pageLoad", u) } stats.controller("TeamSummaryCtrl", e), e.$inject = ["$scope", "$element", "$location", "$window", "$routeParams", "DtmService", "TeamsService", "TeamSummaryService"] }(), function () { function e(a, e, t, n, s, r) { var o = {}; a.isLoading = !0, a.showSplits = !1, a.noData = !1; var i = s.get("teamTracking"); function l() { a.isLoading = !0, a.noData = !1, r.get(a.params).then(function (e) { var t = e; 0 === t.PassesMade.rows.length && 0 === t.PassesReceived.rows.length ? (a.noData = !0, a.datasets = []) : (a.noData = !1, a.datasets = [{ name: "Passes Made", datatable: t.PassesMade.rows }, { name: "Passes Received", datatable: t.PassesReceived.rows }]), a.isLoading = !1 }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } function c(e) { var t = n.get([{ name: "Season", initial: i.Season, default: i.Season, seasonRange: [i.SeasonYearFrom, Math.min(e.MAX_YEAR, i.SeasonYear)] }, { name: "SeasonType", initial: i.SeasonType, without: ["Pre Season", "All Star"] }, "PerMode", "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateFrom", "DateTo", "PORound"]); a.splits = t.splits, a.params = { MeasureType: "Base", LeagueID: "00", TeamID: e.TEAM_ID, Season: a.splits.Season.selected.val, SeasonType: a.splits.SeasonType.selected.val, Permode: a.splits.PerMode.selected.val, PlusMinus: a.splits.PlusMinus.selected.val, PaceAdjust: a.splits.PaceAdjust.selected.val, Rank: a.splits.Rank.selected.val, Outcome: a.splits.Outcome.selected.val, Location: a.splits.Location.selected.val, Month: a.splits.Month.selected.val, SeasonSegment: a.splits.SeasonSegment.selected.val, OpponentTeamID: a.splits.OpponentTeamID.selected.val, VsConference: a.splits.VsConference.selected.val, VsDivision: a.splits.VsDivision.selected.val, GameSegment: a.splits.GameSegment.selected.val, Period: a.splits.Period.selected.val, LastNGames: a.splits.LastNGames.selected.val, DateFrom: a.splits.DateFrom.selected.val, DateTo: a.splits.DateTo.selected.val } } a.$on("runit", function (e) { c(o), l() }), a.$watch("teamInfo", function (e) { (o = e) && (c(o), l()) }) } stats.controller("TeamTrackingDashPassesCtrl", e), e.$inject = ["$scope", "$filter", "$location", "SplitsService", "SeasonsService", "TeamTrackingDashPassesService"] }(), function () { function e(a, e, t, n, s, r) { var o = {}; a.isLoading = !0, a.showSlits = !1, a.noData = !1; var i = s.get("teamTracking"); function l() { a.isLoading = !0, a.noData = !1, r.get(a.params).then(function (e) { var t = e; 0 === t.OverallRebounding.rows.length ? (a.noData = !0, a.datasets = []) : (a.noData = !1, a.datasets = [{ name: "OverallRebounding", datatable: t.OverallRebounding.rows }, { name: "NumContestedRebounding", datatable: t.NumContestedRebounding.rows }, { name: "RebDistanceRebounding", datatable: t.RebDistanceRebounding.rows }, { name: "ShotDistanceRebounding", datatable: t.ShotDistanceRebounding.rows }, { name: "ShotTypeRebounding", datatable: t.ShotTypeRebounding.rows }]), a.isLoading = !1 }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } function c(e) { var t = n.get([{ name: "Season", initial: i.Season, default: i.Season, seasonRange: [i.SeasonYearFrom, Math.min(e.MAX_YEAR, i.SeasonYear)] }, { name: "SeasonType", initial: i.SeasonType, without: ["Pre Season", "All Star"] }, "PerMode", "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateFrom", "DateTo", "PORound"]); a.splits = t.splits, a.params = { MeasureType: "Base", LeagueID: "00", TeamID: e.TEAM_ID, Season: a.splits.Season.selected.val, SeasonType: a.splits.SeasonType.selected.val, PerMode: a.splits.PerMode.selected.val, PlusMinus: a.splits.PlusMinus.selected.val, PaceAdjust: a.splits.PaceAdjust.selected.val, Rank: a.splits.Rank.selected.val, Outcome: a.splits.Outcome.selected.val, Location: a.splits.Location.selected.val, Month: a.splits.Month.selected.val, SeasonSegment: a.splits.SeasonSegment.selected.val, OpponentTeamID: a.splits.OpponentTeamID.selected.val, VsConference: a.splits.VsConference.selected.val, VsDivision: a.splits.VsDivision.selected.val, GameSegment: a.splits.GameSegment.selected.val, Period: a.splits.Period.selected.val, LastNGames: a.splits.LastNGames.selected.val, DateFrom: a.splits.DateFrom.selected.val, DateTo: a.splits.DateTo.selected.val, PORound: a.splits.PORound.selected.val } } a.$on("runit", function (e) { c(o), l() }), a.$watch("teamInfo", function (e) { (o = e) && (c(o), l()) }) } stats.controller("TeamTrackingDashReboundsCtrl", e), e.$inject = ["$scope", "$filter", "$location", "SplitsService", "SeasonsService", "TeamTrackingDashReboundsService"] }(), function () { function e(t, e) { t.isLoading = !0, e.get("advanced_leaders").then(function (e) { t.feed = e, t.isLoading = !1 }) } stats.controller("TeamsAdvancedLeadersController", e), e.$inject = ["$scope", "StatsWidgetService"] }(), function () { function e(a, e, t, n, s, r, o) { function i() { a.isLoading = !0, o.get(a.params).then(function (e) { a.stats = e, a.noData = !e.rows.length, a.isLoading = !1 }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.ai = {}, a.ai.showTeamCol = !1, a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { i() }); var l = s.get("leagueGameLogs"), c = l.Season, u = [1996, l.SeasonYear]; if (u[1] < u[0]) return a.noData = !0, void (a.isLoading = !1); var d = r.get(["LeagueID", { name: "Season", initial: c, default: c, seasonRange: u }, { name: "SeasonType", initial: l.SeasonType, without: ["All Star"] }, "PlusMinus", "PaceAdjust", "Rank", "Outcome", "Location", "Month", "SeasonSegment", "OpponentTeamID", "VsConference", "VsDivision", "GameSegment", "Period", "LastNGames", "DateFrom", "DateTo", "PORound", "ShotClockRange"]); a.splits = d.splits, a.params = d.params, a.params.PerMode = "Totals", a.params.MeasureType = e.data("measure-type"), i() } stats.controller("TeamsBoxscoreSplitsController", e), e.$inject = ["$scope", "$element", "$filter", "$location", "SeasonsService", "SplitsService", "TeamGamelogSplitsService"] }(), function () { function e(a, e, t, n, s, r) { a.isLoading = !0, a.showSplits = !1, a.isAllTime = !1, e.on("click", "th[zort]", function () { var e = angular.element(this).data("field"); a.params.Sorter == e ? a.params.Direction = "DESC" === a.params.Direction ? "ASC" : "DESC" : (a.params.Sorter = e, a.params.Direction = "DESC"); t.search("Sorter", a.params.Sorter), t.search("Direction", a.params.Direction), l() }); var o = s.get("leagueGameLogs"), i = r.get(["LeagueID", { name: "Season", initial: o.Season, seasonRange: [o.SeasonYearFrom, o.SeasonYear], includeBefore: [{ val: "ALLTIME", text: "All Seasons" }] }, { name: "SeasonType", initial: o.SeasonType }, "DateFrom", "DateTo"]); function l() { a.isLoading = !0, n.get(a.params).then(function (e) { a.teamStats = e.rows, a.noData = 0 === a.teamStats.length, a.isLoading = !1 }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = i.splits, a.params = i.params, a.params.Sorter = t.search().Sorter || "DATE", a.params.Direction = t.search().Direction || "DESC", a.params.PlayerOrTeam = "T", a.params.Counter = "1000", a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { "ALLTIME" === a.params.Season ? (a.isAllTime || (t.search("sort", null), t.search("dir", null)), a.isAllTime = !0) : (a.isAllTime && (t.search("Sorter", null), t.search("Direction", null)), a.isAllTime = !1), l() }), l() } stats.controller("TeamsBoxscoresController", e), e.$inject = ["$scope", "$element", "$location", "LeagueGamelogsService", "SeasonsService", "SplitsService"] }(), function () { function e(a, e, t, n, s) { var r = s.get("leagueTeamStats"), o = n.get(["LeagueID", { name: "Season", initial: r.Season, seasonRange: [r.SeasonYearFrom, r.SeasonYear] }, { name: "SeasonType", initial: r.SeasonType }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, "GameSegment", "Period", "PlayerPosition", "StarterBench", "PlayerExperience", "OpponentTeamID", "VsConference", "VsDivision", "Outcome", "Location", "SeasonSegment", "Month", "LastNGames", "PlusMinus", "ClutchTime", "AheadBehind", "PointDiff", "PaceAdjust", "Rank", "GameScope", "DateFrom", "DateTo", "ShotClockRange", "TeamID", "Conference", "Division", "PORound"]); function i() { a.isLoading = !0, t.get(a.params).then(function (e) { a.isLoading = !1, a.datasets = e.rows, a.noData = 0 === a.datasets.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = o.splits, a.params = o.params, a.params.MeasureType = e.data("measure-type"), a.options = { sortField: e.data("sort-field"), sortDirection: e.data("sort-direction") }, a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { i() }), i() } stats.controller("TeamsClutchController", e), e.$inject = ["$scope", "$element", "LeagueTeamClutchService", "SplitsService", "SeasonsService"] }(), function () { function e(a, e, t, n, s, r) { var o = n.get("trackingStats"), i = s.get(["LeagueID", { name: "Season", initial: o.Season, seasonRange: [o.SeasonYearFrom, o.SeasonYear] }, { name: "SeasonType", initial: o.SeasonType, without: ["Pre Season"] }, "Conference", "DateFrom", "DateTo", "Division", "GameSegment", "LastNGames", "Location", "Month", "OpponentTeamID", "Outcome", "Period", "PerMode", "PORound", "SeasonSegment", "TeamID", "VsConference", "VsDivision"]); function l() { a.isLoading = !0, r.get(a.params).then(function (e) { a.isLoading = !1, a.datasets = e, a.noData = 0 === a.datasets.rows.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = i.splits, a.params = i.params, a.params.DefenseCategory = e.data("defense-category"), a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { l() }), l() } stats.controller("TeamsDefenseDashController", e), e.$inject = ["$scope", "$element", "$location", "SeasonsService", "SplitsService", "LeagueTeamTrackingDefensiveService"] }(), function () { function e(a, e, t, n, s) { var r = s.get("leagueTeamStats"), o = n.get(["LeagueID", { name: "Season", initial: r.Season, seasonRange: [r.SeasonYearFrom, r.SeasonYear] }, { name: "SeasonType", initial: r.SeasonType }]); function i() { a.isLoading = !0, t.get(a.params).then(function (e) { a.isLoading = !1, a.teamStats = e, a.noData = 0 === e.rows.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = o.splits, a.params = o.params, a.options = { sortField: e.data("sort-field"), sortDirection: e.data("sort-direction") }, a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { i() }), i() } stats.controller("TeamsEstimatedController", e), e.$inject = ["$scope", "$element", "LeagueTeamEstimatedMetricsService", "SplitsService", "SeasonsService"] }(), function () { function e(a, e, t, n, s) { var r = s.get("leagueTeamStats"), o = n.get(["LeagueID", { name: "Season", initial: r.Season, seasonRange: [r.SeasonYearFrom, r.SeasonYear] }, { name: "SeasonType", initial: r.SeasonType }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, "GameSegment", "Period", "PlayerPosition", "StarterBench", "PlayerExperience", "OpponentTeamID", "VsConference", "VsDivision", "Outcome", "Location", "SeasonSegment", "Month", "LastNGames", "PlusMinus", "PaceAdjust", "Rank", "GameScope", "DateFrom", "DateTo", "ShotClockRange", "TeamID", "Conference", "Division", "PORound", "TwoWay"]); function i() { a.isLoading = !0, t.get(a.params).then(function (e) { a.isLoading = !1, a.teamStats = e, a.noData = 0 === e.rows.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = o.splits, a.params = o.params, a.params.MeasureType = e.data("measure-type"), a.options = { sortField: e.data("sort-field"), sortDirection: e.data("sort-direction") }, a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { i() }), i() } stats.controller("TeamsGeneralController", e), e.$inject = ["$scope", "$element", "LeagueTeamGeneralService", "SplitsService", "SeasonsService"] }(), function () { function e(t, e) { t.isLoading = !0, e.get("hustle_leaders").then(function (e) { t.feed = e, t.isLoading = !1 }) } stats.controller("TeamsHustleLeadersController", e), e.$inject = ["$scope", "StatsWidgetService"] }(), function () { function e(a, e, t, n, s, r) { a.isLoading = !0, a.showSplits = !1, a.ai = {}; var o = e.data("season-section"), i = s.get(o), l = n.get(["LeagueID", { name: "Season", initial: i.Season, default: i.Season, seasonRange: [i.SeasonYearFrom, i.SeasonYear] }, { name: "SeasonType", initial: i.SeasonType, default: i.SeasonType, without: ["Pre Season"] }, { name: "PerMode", include: [{ val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }] }, "GameSegment", "Period", "PlayerPosition", "PlayerExperience", "OpponentTeamID", "VsConference", "VsDivision", "Outcome", "Location", "SeasonSegment", "Month", "LastNGames", "PlusMinus", "PaceAdjust", "Rank", "GameScope", "DateFrom", "DateTo", "ShotClockRange", "TeamID", "Conference", "Division", "PORound", "DraftYear", "DraftPick", "College", "Country", "Height", "Weight"]); function c() { a.isLoading = !0, a.ai.seasoncode = +(a.splits.SeasonType.selected.st + "" + a.splits.Season.selected.num), r.get(a.params).then(function (e) { a.teamStats = e.rows, a.isLoading = !1, a.noData = 0 === a.teamStats.length || a.ai.seasoncode <= 22015 }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = l.splits, a.params = l.params, a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { c() }), c() } stats.controller("TeamsHustleController", e), e.$inject = ["$scope", "$element", "$location", "SplitsService", "SeasonsService", "LeagueTeamHustleService"] }(), function () { function e(r, a, n, e, t, o, s, i) { r.isLoading = !0, r.trustAsHtml = t.trustAsHtml, r.modules = {}, r.teams = s.get(); r.scrollTo = function (e) { var t = n.hash(); a.yOffset = 50, n.hash(e), a(), n.hash(t) }; var l = 0;["teams_landing_inner", "teams_landing_sidebar"].forEach(function (n, e, s) { o.get(n).then(function (e) { var t, a = e.items; l++, r.modules[n] = a, l === s.length && (r.isLoading = !1, t = r.modules, r.sidebar = t.teams_landing_sidebar, r.league_leaders = t.teams_landing_inner[0], r.leaders = t.teams_landing_inner.slice(1), function (e) { var t, a = e.items; for (t in a) for (var n = 0; n < a[t].teamstats.length; n++) { var s = a[t].name, r = n + 1; !a[t].teamstats[n].rank && 0 === n || a[t].teamstats[n][s] < a[t].teamstats[n - 1][s] ? a[t].teamstats[n].rank = r : a[t].teamstats[n][s] == a[t].teamstats[n - 1][s] && (a[t].teamstats[n].rank = a[t].teamstats[n - 1].rank) } }(r.league_leaders)) }) }) } stats.controller("TeamsLandingCtrl", e), e.$inject = ["$scope", "$anchorScroll", "$location", "$http", "$sce", "StatsWidgetService", "TeamsService", "CMSENV"] }(), function () { function e(a, e, t, n, s, r) { var o = s.get("trackingStats"), i = r.get(["LeagueID", { name: "Season", initial: o.Season, default: o.Season, seasonRange: [o.SeasonYearFrom, o.SeasonYear] }, { name: "SeasonType", initial: o.SeasonType, default: o.SeasonType, without: ["Pre Season"] }, "PerMode", "GameSegment", "Period", "PlayerPosition", "StarterBench", "PlayerExperience", "OpponentTeamID", "VsConference", "VsDivision", "Outcome", "Location", "SeasonSegment", "Month", "LastNGames", "PlusMinus", "PaceAdjust", "Rank", "GameScope", "DateFrom", "DateTo", "TeamID", "Conference", "Division", "PORound", "DraftYear", "DraftPick", "College", "Country", "Height", "Weight", "TouchTimeRange", "GeneralRange", "DribbleRange", "CloseDefDistRange", { name: "ShotClockRange", initial: "24-22", default: "24-22", without: [""] }]); a.splits = i.splits, a.params = i.params; var l = e.data("measure-type"); function c() { a.isLoading = !0, n.get(a.params).then(function (e) { a.isLoading = !1, a.datasets = e, a.noData = 0 === a.datasets.rows.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } "cddr" !== l && (a.params.CloseDefDistRange = "", delete a.splits.CloseDefDistRange), "ttr" !== l && (a.params.TouchTimeRange = "", delete a.splits.TouchTimeRange), "scr" !== l && (a.params.ShotClockRange = "", delete a.splits.ShotClockRange), "gr" !== l && (a.params.GeneralRange = "", delete a.splits.GeneralRange), "dr" !== l && (a.params.DribbleRange = "", delete a.splits.DribbleRange), a.params.ShotDistRange = e.data("sdr") ? e.data("sdr") : "", a.$on("runit", function (e) { c() }), a.$on("customFields", function (e, t) { a.customFields = t }), c() } stats.controller("TeamsOppShotDashController", e), e.$inject = ["$scope", "$element", "$location", "LeagueTeamTrackingOppShotsService", "SeasonsService", "SplitsService"] }(), function () { function e(a, n, e, t, s) { a.isLoading = !0, a.showSplits = !1, a.setDistanceRange = function (e) { var t = e === +a.splits.DistanceRange.default ? null : e; n.search("DistanceRange", t), a.params.DistanceRange = e, i() }; var r = t.get("leagueTeamStats"), o = e.get(["LeagueID", { name: "Season", initial: r.Season, seasonRange: [r.SeasonYearFrom, r.SeasonYear] }, { name: "SeasonType", initial: r.SeasonType }, "PerMode", "DistanceRange", "GameSegment", "Period", "PlayerPosition", "StarterBench", "PlayerExperience", "OpponentTeamID", "VsConference", "VsDivision", "Outcome", "Location", "SeasonSegment", "Month", "LastNGames", "PlusMinus", "PaceAdjust", "Rank", "GameScope", "DateFrom", "DateTo", "ShotClockRange", "TeamID", "Conference", "Division", "PORound"]); function i() { a.isLoading = !0, s.get(a.params).then(function (e) { a.teamStats = e[0].datatable, a.isLoading = !1, a.noData = 0 === e[0].datatable.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = o.splits, a.params = o.params, a.params.MeasureType = "Opponent", a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { i() }), i() } stats.controller("TeamsOpponentShootingController", e), e.$inject = ["$scope", "$location", "SplitsService", "SeasonsService", "LeagueTeamShootingService"] }(), function () { function e(a, e, t, n, s) { var r = t.get("playtypeStats"), o = e.data("category"), i = { name: "OD", as: "TypeGrouping" }; -1 < ["cut", "putbacks", "misc"].indexOf(o.toLowerCase()) && (i.without = ["defensive"]); var l = n.get(["LeagueID", { name: "Season", as: "SeasonYear", initial: r.Season, seasonRange: [r.SeasonYearFrom, r.SeasonYear] }, { name: "SeasonType", initial: r.SeasonType, without: ["Pre Season", "All Star", "PlayIn"] }, i, "PerMode"]); function c() { a.isLoading = !0, s.get(a.params).then(function (e) { a.teamStats = e.SynergyPlayType, a.isLoading = !1, a.noData = 0 === e.SynergyPlayType.rows.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = l.splits, a.params = l.params, a.params.PlayerOrTeam = "T", a.params.PlayType = o, a.$on("$routeChangeSuccess", function (e, t) { c() }), a.$on("runit", function (e) { c() }), a.$on("customFields", function (e, t) { a.customFields = t }), c() } stats.controller("TeamsPlaytypeController", e), e.$inject = ["$scope", "$element", "SeasonsService", "SplitsService", "SynergyPlaytypesService"] }(), function () { function e(a, e, t, n, s) { a.isLoading = !0, a.showSplits = !1; var r = n.get("leagueTeamStats"), o = t.get(["LeagueID", { name: "Season", initial: r.Season, seasonRange: [r.SeasonYearFrom, r.SeasonYear] }, { name: "SeasonType", initial: r.SeasonType }, "PerMode", "DistanceRange", "GameSegment", "Period", "PlayerPosition", "StarterBench", "PlayerExperience", "OpponentTeamID", "VsConference", "VsDivision", "Outcome", "Location", "SeasonSegment", "Month", "LastNGames", "PlusMinus", "PaceAdjust", "Rank", "GameScope", "DateFrom", "DateTo", "ShotClockRange", "TeamID", "Conference", "Division", "PORound"]); function i() { a.isLoading = !0, s.get(a.params).then(function (e) { a.teamStats = e[0].datatable, a.isLoading = !1, a.noData = 0 === a.teamStats.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = o.splits, a.params = o.params, a.params.MeasureType = "Base", a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { i() }), i() } stats.controller("TeamsShootingController", e), e.$inject = ["$scope", "$location", "SplitsService", "SeasonsService", "LeagueTeamShootingService"] }(), function () { function e(a, e, t, n, s, r) { var o = s.get("trackingStats"), i = r.get(["LeagueID", { name: "Season", initial: o.Season, default: o.Season, seasonRange: [o.SeasonYearFrom, o.SeasonYear] }, { name: "SeasonType", initial: o.SeasonType, default: o.SeasonType, without: ["Pre Season"] }, "PerMode", "GameSegment", "Period", "PlayerPosition", "StarterBench", "PlayerExperience", "OpponentTeamID", "VsConference", "VsDivision", "Outcome", "Location", "SeasonSegment", "Month", "LastNGames", "PlusMinus", "PaceAdjust", "Rank", "GameScope", "DateFrom", "DateTo", "TeamID", "Conference", "Division", "PORound", "DraftYear", "DraftPick", "College", "Country", "Height", "Weight", "TouchTimeRange", "GeneralRange", "DribbleRange", "CloseDefDistRange", { name: "ShotClockRange", initial: "24-22", default: "24-22", without: [""] }]); a.splits = i.splits, a.params = i.params; var l = e.data("measure-type"); function c() { a.isLoading = !0, n.get(a.params).then(function (e) { a.isLoading = !1, a.datasets = e, a.noData = 0 === a.datasets.rows.length }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } "cddr" !== l && (a.params.CloseDefDistRange = "", delete a.splits.CloseDefDistRange), "ttr" !== l && (a.params.TouchTimeRange = "", delete a.splits.TouchTimeRange), "scr" !== l && (a.params.ShotClockRange = "", delete a.splits.ShotClockRange), "gr" !== l && (a.params.GeneralRange = "", delete a.splits.GeneralRange), "dr" !== l && (a.params.DribbleRange = "", delete a.splits.DribbleRange), a.params.ShotDistRange = e.data("sdr") ? e.data("sdr") : "", a.$on("runit", function (e) { c() }), a.$on("customFields", function (e, t) { a.customFields = t }), c() } stats.controller("TeamsShotDashController", e), e.$inject = ["$scope", "$element", "$location", "LeagueTeamTrackingShotsService", "SeasonsService", "SplitsService"] }(), function () { function e(a, e, t, n, s) { var r = t.get("trackingStats"), o = n.get(["LeagueID", { name: "Season", initial: r.Season, seasonRange: [r.SeasonYearFrom, r.SeasonYear] }, { name: "SeasonType", initial: r.SeasonType, without: ["Preseason"] }, "College", "Conference", "Country", "DateFrom", "DateTo", "Division", "DraftPick", "DraftYear", "GameScope", "Height", "LastNGames", "Location", "Month", "OpponentTeamID", "Outcome", "PerMode", "PlayerExperience", "PlayerPosition", "PORound", "SeasonSegment", "StarterBench", "VsConference", "VsDivision", "Weight", "TeamID", "Period", "GameSegment"]); function i() { a.isLoading = !0, s.get(a.params).then(function (e) { a.datasets = e.LeagueDashPtStats.rows, a.noData = 0 === a.datasets.length, a.isLoading = !1 }).catch(function (e) { a.isLoading = !1, a.noData = !0 }) } a.splits = o.splits, a.params = o.params, a.params.PlayerOrTeam = "Team", a.params.PtMeasureType = e.data("measure-type"), a.$on("customFields", function (e, t) { a.customFields = t }), a.$on("runit", function (e) { i() }), i() } stats.controller("TeamsTrackingController", e), e.$inject = ["$scope", "$element", "SeasonsService", "SplitsService", "TrackingDataService"] }(), function () { function e(e, t) { var a = t.isDomestic, n = (Math.random() + "").slice(2); e.trackingPixelSrc = "https://securepubads.g.doubleclick.net/gampad/adx?iu=/8663477/NBA/stats&rdp=1&sz=1x1&c=".concat(n, a ? "&t=pos%3Dns_atf_01%26status%3Dnba_pixel&mob=js" : "&t=pos%3Dns_atf_02%26status%3Dnba_pixel&mob=js") } stats.controller("TrackingPixelController", e), e.$inject = ["$scope", "ReferrerService"] }(), function () { function e(n, e, s, t) { n.showSplits = !1, n.isLoading = !0, n.noData = !1, n.seeMore = function () { n.itemsPerPage = n.itemsPerPage + 15, o() }, n.currentPage = 0, n.itemsPerPage = 8, n.noMoreData = !1; var r = {}; n.dates = []; var a = t.get(["LeagueID", "TeamID", "Month"]); function o() { n.itemsPerPage >= n.groupDates.length ? n.noMoreData = !0 : n.noMoreData = !1 } function i() { var t, e, a; n.dates && (e = angular.copy(n.dates.slice(0)), "0" !== n.params.Month && (t = (+n.params.Month + 9) % 12 || 12, e = e.filter(function (e) { return +e.date.split("-")[1] === t })), "0" !== n.params.TeamID && (a = +n.params.TeamID, e = e.filter(function (e) { return e.transactions = e.transactions.filter(function (e) { return e.TEAM_ID === a }), 0 !== e.transactions.length })), n.groupDates = e, n.noData = 0 === e.length, o()) } n.splits = a.splits, n.params = a.params, e.get("/stats/js/data/playermovement/NBA_Player_Movement.json").then(function (e) { for (var t = e.data.NBA_Player_Movement.rows, a = 0; a < t.length; a++)t[a].TEAM_ABBR = s.getById(t[a].TEAM_ID).abbr; for (a = 0; a < t.length; a++)0 === a && 0 === n.dates.length ? (r.date = t[a].TRANSACTION_DATE, r.transactions = [], r.transactions.push(t[a]), n.dates.push(r), r = {}, n.indexPushed = a) : 0 < a && (n.dates[n.indexPushed].date == t[a].TRANSACTION_DATE ? n.dates[n.indexPushed].transactions.push(t[a]) : (n.indexPushed = n.indexPushed + 1, r.date = t[a].TRANSACTION_DATE, r.transactions = [], r.transactions.push(t[a]), n.dates.push(r), r = {})); n.isLoading = !1, n.groupDates = n.dates, i() }), n.$on("runit", function (e) { i() }) } stats.controller("TransactionsController", e), e.$inject = ["$scope", "$http", "TeamsService", "SplitsService"] }(), function () { function e(D, e, b, s, t, x, n, a, r, o, l, i) { D.noHTH = !0, D.noSBD = !0, D.noSBA = !0; var c, u, d = o.get("playerVsPlayerStats"), I = x.getSearchURL(); for (c in D.isLoading = !0, D.limit = 5, D.hidePlayerSelect = !1, D.hideLineupSelect = !1, D.params = { IsOnlyCurrentSeason: "0", LeagueID: "00", PlayerID1: 0, PlayerID2: 0, PlayerID3: 0, PlayerID4: 0, PlayerID5: 0, PlayerTeamID: I.PlayerTeamID || 1, Season: d.Season, SeasonType: "Regular Season", VsPlayerID1: 0, VsPlayerID2: 0, VsPlayerID3: 0, VsPlayerID4: 0, VsPlayerID5: 0, VsTeamID: I.VsTeamID || 1 }, D.compare = { isReady: !1, left: { type: "", hasPlayer: !1, hasTeam: !1, hasLineup: !1, isLoading: !0, lineup: [], lineupChosen: [], lineupIDs: [], lineupShow: !1, info: {}, checked: 0, tag: "left", opp: "right", showDropdown: !1, query: "" }, right: { type: "", hasPlayer: !1, hasTeam: !1, hasLineup: !1, isLoading: !0, lineup: [], lineupShow: !1, lineupChosen: [], lineupIDs: [], info: {}, checked: 0, tag: "right", opp: "left", showDropdown: !1, query: "" } }, D.columns = [], D.showCol) D.showCol[c].name = c, D.columns.push(D.showCol[c]); function p(t, a) { var n = s.defer(); return void 0 !== t && (D.params.TeamID = t), a.hasPlayer = !1, a.hasTeam = !1, i.get(D.params).then(function (e) { a.lineup = e.CommonTeamRoster.rows, a.lineupShow = !0, a.lineupTeam = t, n.resolve(a.lineup) }), n.promise } function m(t) { var a = s.defer(); return r.get(D.params).then(function (e) { D.params.PerMode = "Totals", t.info = e.playerInfo, D.isLoading = !1, t.hasPlayer = !0, t.team = l.getById(t.info.TEAM_ID), t.type = "player", D.params.PlayerID = t.info.PERSON_ID, a.resolve() }), a.promise } function f(e, t) { D.hidePlayerSelect = !0, D.hideLineupSelect = !0 } function h(e, t) { D.$broadcast("onCompareSearch", t) } D.switchSides = function () { var e = D.compare.left; D.compare.left = D.compare.right, D.compare.right = e, D.compare.left.tag = "left", D.compare.left.opp = "right", D.compare.right.tag = "right", D.compare.right.opp = "left" }, D.setStatType = function (e, t, a) { t.type; t.type = e, t.lineup = [], t.lineupChosen = [], t.lineupIDs = [], t.checked = 0, t.hasTeam = !1, t.hasLineup = !1, t.hasPlayer = !1, "left" === a && (D.compare.right.type = "", D.compare.right.setType = "", D.compare.right.info = null), D.compare.left.showDropdown = !1, D.compare.right.showDropdown = !1, D.compare.isReady = !1 }, D.setTeam = function (e, t) { var a = s.defer(); return t.info = e, t.setType = "team", t.type = "team", t.hasTeam = !0, t.isReady = !0, a.resolve(), a.promise }, D.setLineup = function (e) { e.lineupChosen.length < 2 || 5 < e.lineupChosen.length || (e.lineupShow = !1, e.hasLineup = !0, e.isReady = !0, e.type = "lineup", e.setType = "lineup") }, D.chooseLineup = function (e, t) { t.lineup = [], p(e, t), t.lineupShow = !0, t.team = e }, D.checkChange = function (e, t) { var a; e.selected ? (t.checked++, t.lineupChosen.push(e), t.lineupIDs.push(e.PLAYER_ID)) : (a = t.lineupIDs.indexOf(e.PLAYER_ID), t.lineupIDs.splice(a, 1), t.lineupChosen.splice(a, 1), t.checked--) }, D.onSelect = function (e, t, a, n, s) { D.$item = e, D.$model = t, D.$label = a, D.params.PlayerID = D.$model.id, m(n), n.lineupRoutes = [], n.info = D.$model, n.info.paramID = D.params.PlayerID, n.isReady = !0, D.compare[s].query = "" }, D.searchPlayerName = function (t) { return function (e) { return -1 !== (e.fn + " " + e.ln).toLowerCase().indexOf(t.toLowerCase()) } }, D.$watch("compare", function (e, t) { var a, n = D.compare.left.hasLineup, s = D.compare.right.hasLineup, r = D.compare.left.hasPlayer, o = D.compare.right.hasPlayer, i = D.compare.left.hasTeam, l = i && o, c = r && o, u = n && s, d = {}; for (a in angular.copy(I, d), d) { if ("Season" === a) break; delete d[a] } var p, m, f = {}; (l || c || u) && (D.compare.isReady = !0), (l || c) && (i ? f.TeamID = D.compare.left.info.id : f.PlayerID = D.compare.left.info.PERSON_ID, f.VsPlayerID = D.compare.right.info.PERSON_ID), u && (f.LineupIDs = D.compare.left.lineupIDs.join("~"), f.VsLineupIDs = D.compare.right.lineupIDs.join("~"), f.PlayerTeamID = f.TeamID = D.compare.left.team, f.VsTeamID = D.compare.right.team, p = [], m = [], D.compare.left.lineupChosen.forEach(function (e) { p.push(e.PLAYER) }), D.compare.right.lineupChosen.forEach(function (e) { m.push(e.PLAYER) }), f.PlayerNames = p.join("~"), f.VsPlayerNames = m.join("~")); var h, g, v, S, y, P, T = []; for (P in h = f, g = I, S = Object.keys(h), y = Object.keys(g), T = S.length ? y.filter((v = S, function (e) { var t, a = !1; for (t in v) if (a = -1 !== e.indexOf(v[t])) break; return !a })) : []) b.search(T[P], null); angular.extend(f, d), x.setSearchURL(f) }, !0), D.$on("$locationChangeSuccess", function () { b.search().TeamID; var e, t = b.search().PlayerID, a = b.search().VsPlayerID; t && a && (e = [D.compare.left.info.DISPLAY_FIRST_LAST, D.compare.right.info.DISPLAY_FIRST_LAST].join("|"), n.triggerEvent("compareToolPlayerVsPlayer", e)) }), D.$on("$locationChangeSuccess", function () { var e = b.absUrl().split("/")[4]; "four-factors" !== e && "opponent" !== e && (D.search = "?" + b.url().split("?")[1], h(0, D.search)); var t, a = b.search().TeamID, n = b.search().VsTeamID, s = b.search().PlayerID, r = b.search().VsPlayerID, o = b.search().LineupIDs, i = b.search().VsLineupIDs; if (!D.compare.isReady) { if (o && i) return D.compare.left.lineupIDs = o.split("~"), D.compare.right.lineupIDs = i.split("~"), void p(a, D.compare.left).then(function () { D.compare.left.lineupShow = !1, p(n, D.compare.right).then(function () { D.compare.right.lineupShow = !1, D.compare.isReady = !0 }) }); if (s && r) return D.params.PlayerID = s, void m(D.compare.left).then(function () { D.params.PlayerID = r, m(D.compare.right).then(function () { D.compare.isReady = !0 }) }); if (a && r) return t = l.getById(a), void D.setTeam(t, D.compare.left).then(function () { D.params.PlayerID = r, m(D.compare.right).then(function () { D.compare.isReady = !0 }) }); s && (D.params.PlayerID = s, m(D.compare.left)), a && (t = l.getById(a), D.setTeam(t, D.compare.left)) } }), D.$on("onFourFactorsSearch", h), D.$on("onOpponentSearch", h), D.$on("onOnOffFourFactors", f), D.$on("onOnOffOpponent", f), D.pages = [{ value: "/advanced/", text: "Advanced" }, { value: "/misc/", text: "Misc" }, { value: "/scoring/", text: "Scoring" }, { value: "/fourfactors/", text: "Four Factors" }, { value: "/opponent/", text: "Opponent" }], D.$emit("onOnOffInfo", {}), D.players = a.get(!0), D.isLoading = !1, u = l.get().slice(0), D.teams = u } stats.controller("VsSummaryController", e), e.$inject = ["$scope", "$filter", "$location", "$q", "$routeParams", "DeepLinksFactory", "DtmService", "PlayersService", "PlayerSummaryService", "SeasonsService", "TeamsService", "TeamRosterService"] }(), function () { function e(a, e, t, n, s, r) { var o = r.get("playerVsPlayerStats"), i = n.getSearchURL(), l = !!i.LineupIDs, c = [], u = [], d = [], p = []; l && (c = i.LineupIDs.split("~"), u = i.PlayerNames.split("~"), d = i.VsLineupIDs.split("~"), p = i.VsPlayerNames.split("~")); var m, f = t.get([{ name: "Season", initial: o.Season, seasonRange: e.search().range }, { name: "SeasonType", initial: o.SeasonType, without: ["All Star"] }, "SeasonSegment", "VsDivision", "ShotClockRange", "OpponentTeamID", "GameSegment", "Outcome", "Location", "Period", "Month", "VsConference", "LastNGames", "DateFrom", "DateTo", "PlusMinus", "PaceAdjust", "Rank"]); for (m in a.splits = f.splits, a.params = f.params, angular.extend(a.params, { MeasureType: "Advanced", PerMode: i.PerMode || "PerGame", PlayerID1: c[0] || 0, PlayerID2: c[1] || 0, PlayerID3: c[2] || 0, PlayerID4: c[3] || 0, PlayerID5: c[4] || 0, PlayerTeamID: i.PlayerTeamID || 1, TeamID: e.search().VsTeamID, VsPlayerID1: d[0] || 0, VsPlayerID2: d[1] || 0, VsPlayerID3: d[2] || 0, VsPlayerID4: d[3] || 0, VsPlayerID5: d[4] || 0, VsTeamID: i.VsTeamID || 1 }), l && (a.compare.left.lineupIDs = c.map(function (e) { return e }), a.compare.right.lineupIDs = d.map(function (e) { return e }), a.compare.left.lineupIDs.forEach(function (e, t) { a.compare.left.lineupChosen[t] = { PLAYER_ID: e, PLAYER: u[t] } }), a.compare.right.lineupIDs.forEach(function (e, t) { a.compare.right.lineupChosen[t] = { PLAYER_ID: e, PLAYER: p[t] } }), a.compare.left.lineup = a.compare.left.lineupIDs, a.compare.right.lineup = a.compare.right.lineupIDs, a.compare.left.type = a.compare.right.type = "lineup", h()), a.showCol = { MIN: { visible: !1, index: 0, label: "MIN", format: "number", invert: !1 }, OFF_RATING: { visible: !1, index: 1, label: "OFF RATING", format: "number", invert: !1 }, DEF_RATING: { visible: !1, index: 2, label: "DEF RATING", format: "number", invert: !0 }, NET_RATING: { visible: !0, index: 3, label: "NET RATING", format: "number", invert: !1 }, AST_PCT: { visible: !1, index: 4, label: "AST %", format: "percent", invert: !1 }, AST_TO: { visible: !1, index: 5, label: "AST TO", format: "number", invert: !1 }, AST_RATIO: { visible: !0, index: 6, label: "AST RATIO", format: "number", invert: !1 }, OREB_PCT: { visible: !1, index: 7, label: "OREB %", format: "percent", invert: !1 }, DREB_PCT: { visible: !1, index: 8, label: "DREB %", format: "percent", invert: !1 }, REB_PCT: { visible: !0, index: 9, label: "REB %", format: "percent", invert: !1 }, TM_TOV_PCT: { visible: !1, index: 10, label: "TO RATIO", format: "percent", invert: !0 }, EFG_PCT: { visible: !0, index: 11, label: "EFG %", format: "percent", invert: !1 }, TS_PCT: { visible: !1, index: 12, label: "TS %", format: "percent", invert: !1 }, USG_PCT: { visible: !1, index: 13, label: "USG %", format: "percent", invert: !1 }, PACE: { visible: !1, index: 14, label: "PACE", format: "number", invert: !1 }, PIE: { visible: !0, index: 15, label: "PIE", format: "percent", invert: !1 } }, a.columns = [], a.showCol) a.showCol[m].name = m, a.columns.push(a.showCol[m]); function h() { s.getStats(a) } a.$on("runit", function (e) { for (var t in a.compare.isReady = !0, a.splits) a.params[t] = a.splits[t].selected.val; h() }), a.$watch("compare", function () { a.compare.isReady && (a.params.PlayerID1 = a.compare.left.lineupIDs[0] || a.params.PlayerID1, a.params.PlayerID2 = a.compare.left.lineupIDs[1] || a.params.PlayerID2, a.params.PlayerID3 = a.compare.left.lineupIDs[2] || a.params.PlayerID3, a.params.PlayerID4 = a.compare.left.lineupIDs[3] || a.params.PlayerID4, a.params.PlayerID5 = a.compare.left.lineupIDs[4] || a.params.PlayerID5, a.params.VsPlayerID1 = a.compare.right.lineupIDs[0] || a.params.VsPlayerID1, a.params.VsPlayerID2 = a.compare.right.lineupIDs[1] || a.params.VsPlayerID2, a.params.VsPlayerID3 = a.compare.right.lineupIDs[2] || a.params.VsPlayerID3, a.params.VsPlayerID4 = a.compare.right.lineupIDs[3] || a.params.VsPlayerID4, a.params.VsPlayerID5 = a.compare.right.lineupIDs[4] || a.params.VsPlayerID5, a.params.TeamID = a.compare.left.team || a.params.PlayerTeamID, a.params.PlayerTeamID = a.compare.left.team || a.params.PlayerTeamID, a.params.VsTeamID = a.compare.right.team || a.params.VsTeamID, h(), a.splits = f.splits) }, !0), a.$on("customFields", function (e, t) { a.customFields = t }) } stats.controller("PlayerVsPlayerAdvancedController", e), e.$inject = ["$scope", "$location", "SplitsService", "DeepLinksFactory", "VsPlayerVersusService", "SeasonsService"] }(), function () { function e(c, u, d, s, e, t, a) { var n = e.get("playerVsPlayerStats"), r = d.getSearchURL(); c.brSearch = "", c.$emit("onOnOffFourFactors", {}); var o, i = t.get([{ name: "Season", initial: n.Season }, { name: "SeasonType", initial: n.SeasonType, without: ["All Star"] }, "PerMode", "Month", "VsConference", "LastNGames", "SeasonSegment", "VsDivision", "ShotClockRange", "OpponentTeamID", "GameSegment", "Outcome", "Location", "Period", "DateFrom", "DateTo", "PlusMinus", "PaceAdjust", "Rank"]); for (o in c.splits = i.splits, c.params = i.params, angular.extend(c.params, { MeasureType: "Four Factors", PlayerID1: 0, PlayerID2: 0, PlayerID3: 0, PlayerID4: 0, PlayerID5: 0, PlayerTeamID: r.PlayerTeamID || 1, VsPlayerID1: 0, VsPlayerID2: 0, VsPlayerID3: 0, VsPlayerID4: 0, VsPlayerID5: 0, VsTeamID: r.VsTeamID || 1 }), c.showCol = { MIN: { visible: !1, index: 0, label: "MIN", format: "number", invert: !1 }, EFG_PCT: { visible: !0, index: 1, label: "EFG %", format: "percent", invert: !1 }, FTA_RATE: { visible: !0, index: 2, label: "FTA RT", format: "number", invert: !1 }, TM_TOV_PCT: { visible: !0, index: 3, label: "TM TV %", format: "percent", invert: !1 }, OREB_PCT: { visible: !0, index: 4, label: "OREB %", format: "percent", invert: !1 }, OPP_EFG_PCT: { visible: !0, index: 5, label: "OPP EFG %", format: "percent", invert: !0 }, OPP_FTA_RATE: { visible: !0, index: 6, label: "OPP FTA RT", format: "number", invert: !0 }, OPP_TOV_PCT: { visible: !0, index: 7, label: "OPP FTM", format: "percent", invert: !0 }, OPP_OREB_PCT: { visible: !1, index: 8, label: "OPP FTA", format: "percent", invert: !0 } }, c.columns = [], c.showCol) c.showCol[o].name = o, c.columns.push(c.showCol[o]); function l() { a.getStats(c) } function p(e, t, a) { var n = s.getById(a); c.compare[e].tag = e, c.compare[e].opp = t, c.compare[e].info.PERSON_ID = n.id, c.compare[e].info.DISPLAY_FIRST_LAST = n.fn + " " + n.ln, c.compare[e].info.TEAM_NAME = n.tn, c.compare[e].info.TEAM_ID = n.tid, c.compare[e].info.TEAM_ABBREVIATION = n.ta, c.compare[e].setType = "player" } function m(e, t, a) { var n; c.compare[e].tag = e, c.compare[e].opp = t, c.compare[e].lineupChosen = a.split("~").map(function (e) { var t = {}; return n = s.getById(e), t.PLAYER_ID = n.id, t.PLAYER = n.fn + " " + n.ln, t }), c.compare[e].setType = "lineup" } c.$on("runit", function (e) { for (var t in c.compare.isReady = !0, c.splits) c.params[t] = c.splits[t].selected.val; l() }), c.$watch("compare", function () { c.compare.isReady && (c.params.PlayerID1 = c.compare.left.lineupIDs[0] || c.params.PlayerID1, c.params.PlayerID2 = c.compare.left.lineupIDs[1] || c.params.PlayerID2, c.params.PlayerID3 = c.compare.left.lineupIDs[2] || c.params.PlayerID3, c.params.PlayerID4 = c.compare.left.lineupIDs[3] || c.params.PlayerID4, c.params.PlayerID5 = c.compare.left.lineupIDs[4] || c.params.PlayerID5, c.params.VsPlayerID1 = c.compare.right.lineupIDs[0] || c.params.VsPlayerID1, c.params.VsPlayerID2 = c.compare.right.lineupIDs[1] || c.params.VsPlayerID2, c.params.VsPlayerID3 = c.compare.right.lineupIDs[2] || c.params.VsPlayerID3, c.params.VsPlayerID4 = c.compare.right.lineupIDs[3] || c.params.VsPlayerID4, c.params.VsPlayerID5 = c.compare.right.lineupIDs[4] || c.params.VsPlayerID5, c.params.TeamID = c.compare.left.team || c.params.PlayerTeamID, c.params.PlayerTeamID = c.compare.left.team || c.params.PlayerTeamID, c.params.VsTeamID = c.compare.right.team || c.params.VsTeamID, l(), c.splits = i.splits) }, !0), c.$on("customFields", function (e, t) { c.customFields = t }), c.$on("$locationChangeStart", function () { var e, t, a, n, s = "?" + u.url().split("?")[1], r = u.search().PlayerID, o = u.search().VsPlayerID, i = u.search().LineupIDs, l = u.search().VsLineupIDs; (r || i || l) && (c.brSearch = "?" + u.url().split("?")[1], t = o, a = i, n = l, (e = r) && t ? (p("left", "right", e), p("right", "left", t)) : a && n && (m("left", "right", a), m("right", "left", n)), c.noData = !0, c.noHTH = !0, c.noSBD = !0, c.noSBA = !0, d.resetSearchURL()), c.search = "undefined" !== s.slice(1) ? s : c.brSearch, c.$emit("onFourFactorsSearch", c.search) }) } stats.controller("PlayerVsPlayerFourFactorsController", e), e.$inject = ["$scope", "$location", "DeepLinksFactory", "PlayersService", "SeasonsService", "SplitsService", "VsPlayerVersusService"] }(), function () { function e(c, u, d, s, e, t, a) { var n = d.getSearchURL(); c.$emit("onOnOffOpponent", {}); var r, o = e.get("playerVsPlayerStats"), i = t.get([{ name: "Season", initial: o.Season, seasonRange: u.search().seasonRange }, { name: "SeasonType", initial: o.SeasonType, without: ["All Star"] }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, "Month", "VsConference", "LastNGames", "SeasonSegment", "VsDivision", "ShotClockRange", "OpponentTeamID", "GameSegment", "Outcome", "Location", "Period", "DateFrom", "DateTo", "PlusMinus", "PaceAdjust", "Rank"]); for (r in c.splits = i.splits, c.params = i.params, angular.extend(c.params, { MeasureType: "Opponent", PlayerID1: 0, PlayerID2: 0, PlayerID3: 0, PlayerID4: 0, PlayerID5: 0, PlayerTeamID: n.PlayerTeamID || 1, TeamID: u.search().VsTeamID, VsPlayerID1: 0, VsPlayerID2: 0, VsPlayerID3: 0, VsPlayerID4: 0, VsPlayerID5: 0, VsTeamID: n.VsTeamID || 1 }), c.showCol = { MIN: { visible: !1, index: 0, label: "MIN", format: "number", invert: !1 }, OPP_FGM: { visible: !1, index: 1, label: "OPP FGM", format: "number", invert: !0 }, OPP_FGA: { visible: !1, index: 2, label: "OPP FGA", format: "number", invert: !0 }, OPP_FG_PCT: { visible: !0, index: 3, label: "OPP FG%", format: "percent", invert: !0 }, OPP_FG3M: { visible: !1, index: 4, label: "OPP 3PM", format: "number", invert: !0 }, OPP_FG3A: { visible: !1, index: 5, label: "OPP 3PA", format: "number", invert: !0 }, OPP_FG3_PCT: { visible: !0, index: 6, label: "OPP 3P%", format: "percent", invert: !0 }, OPP_FTM: { visible: !1, index: 7, label: "OPP FTM", format: "number", invert: !0 }, OPP_FTA: { visible: !1, index: 8, label: "OPP FTA", format: "number", invert: !0 }, OPP_FT_PCT: { visible: !0, index: 9, label: "OPP FT%", format: "percent", invert: !0 }, OPP_OREB: { visible: !1, index: 10, label: "OPP OREB", format: "number", invert: !0 }, OPP_DREB: { visible: !1, index: 11, label: "OPP DREB", format: "number", invert: !0 }, OPP_REB: { visible: !0, index: 12, label: "OPP REB", format: "number", invert: !0 }, OPP_AST: { visible: !0, index: 13, label: "OPP AST", format: "number", invert: !0 }, OPP_TOV: { visible: !1, index: 14, label: "OPP TOV", format: "number", invert: !1 }, OPP_STL: { visible: !0, index: 15, label: "OPP STL", format: "number", invert: !0 }, OPP_BLK: { visible: !0, index: 16, label: "OPP BLK", format: "number", invert: !0 }, OPP_PF: { visible: !1, index: 17, label: "OPP PF", format: "number", invert: !0 }, OPP_PTS: { visible: !1, index: 18, label: "OPP PTS", format: "number", invert: !0 } }, c.columns = [], c.showCol) c.showCol[r].name = r, c.columns.push(c.showCol[r]); function l() { a.getStats(c) } function p(e, t, a) { var n = s.getById(a); c.compare[e].tag = e, c.compare[e].opp = t, c.compare[e].info.PERSON_ID = n.id, c.compare[e].info.DISPLAY_FIRST_LAST = n.fn + " " + n.ln, c.compare[e].info.TEAM_NAME = n.tn, c.compare[e].info.TEAM_ID = n.tid, c.compare[e].info.TEAM_ABBREVIATION = n.ta, c.compare[e].setType = "player" } function m(e, t, a) { var n; c.compare[e].tag = e, c.compare[e].opp = t, c.compare[e].lineupChosen = a.split("~").map(function (e) { var t = {}; return n = s.getById(e), t.PLAYER_ID = n.id, t.PLAYER = n.fn + " " + n.ln, t }), c.compare[e].setType = "lineup" } c.$on("runit", function (e) { for (var t in c.compare.isReady = !0, c.splits) c.params[t] = c.splits[t].selected.val; l() }), c.$watch("compare", function () { c.compare.isReady && (c.params.PlayerID1 = c.compare.left.lineupIDs[0] || c.params.PlayerID1, c.params.PlayerID2 = c.compare.left.lineupIDs[1] || c.params.PlayerID2, c.params.PlayerID3 = c.compare.left.lineupIDs[2] || c.params.PlayerID3, c.params.PlayerID4 = c.compare.left.lineupIDs[3] || c.params.PlayerID4, c.params.PlayerID5 = c.compare.left.lineupIDs[4] || c.params.PlayerID5, c.params.VsPlayerID1 = c.compare.right.lineupIDs[0] || c.params.VsPlayerID1, c.params.VsPlayerID2 = c.compare.right.lineupIDs[1] || c.params.VsPlayerID2, c.params.VsPlayerID3 = c.compare.right.lineupIDs[2] || c.params.VsPlayerID3, c.params.VsPlayerID4 = c.compare.right.lineupIDs[3] || c.params.VsPlayerID4, c.params.VsPlayerID5 = c.compare.right.lineupIDs[4] || c.params.VsPlayerID5, c.params.TeamID = c.compare.left.team || c.params.PlayerTeamID, c.params.PlayerTeamID = c.compare.left.team || c.params.PlayerTeamID, c.params.VsTeamID = c.compare.right.team || c.params.VsTeamID, l(), c.splits = i.splits) }, !0), c.$on("customFields", function (e, t) { c.customFields = t }), c.$on("$locationChangeStart", function () { var e, t, a, n, s = "?" + u.url().split("?")[1], r = u.search().PlayerID, o = u.search().VsPlayerID, i = u.search().LineupIDs, l = u.search().VsLineupIDs; (r || i || l) && (c.brSearch = "?" + u.url().split("?")[1], t = o, a = i, n = l, (e = r) && t ? (p("left", "right", e), p("right", "left", t)) : a && n && (m("left", "right", a), m("right", "left", n)), c.noData = !0, c.noHTH = !0, c.noSBD = !0, c.noSBA = !0, d.resetSearchURL()), c.search = "undefined" !== s.slice(1) ? s : c.brSearch, c.$emit("onOpponentSearch", c.search) }) } stats.controller("PlayerVsPlayerOpponentController", e), e.$inject = ["$scope", "$location", "DeepLinksFactory", "PlayersService", "SeasonsService", "SplitsService", "VsPlayerVersusService"] }(), function () { function e(a, e, t, n, s, r) { var o = n.getSearchURL(), i = !!o.LineupIDs, l = [], c = [], u = [], d = []; i && (l = o.LineupIDs.split("~"), c = o.PlayerNames.split("~"), u = o.VsLineupIDs.split("~"), d = o.VsPlayerNames.split("~")); var p, m = r.get("playerVsPlayerStats"), f = t.get([{ name: "Season", initial: m.Season, seasonRange: e.search().range }, { name: "SeasonType", initial: m.SeasonType, without: ["All Star"] }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, "Month", "VsConference", "LastNGames", "SeasonSegment", "VsDivision", "ShotClockRange", "OpponentTeamID", "GameSegment", "Outcome", "Location", "Period", "DateFrom", "DateTo", "PlusMinus", "PaceAdjust", "Rank"]); for (p in a.splits = f.splits, a.params = f.params, angular.extend(a.params, { MeasureType: "Misc", PerMode: o.PerMode || "PerGame", PlayerID1: l[0] || 0, PlayerID2: l[1] || 0, PlayerID3: l[2] || 0, PlayerID4: l[3] || 0, PlayerID5: l[4] || 0, PlayerTeamID: o.PlayerTeamID || 1, TeamID: e.search().VsTeamID, VsPlayerID1: u[0] || 0, VsPlayerID2: u[1] || 0, VsPlayerID3: u[2] || 0, VsPlayerID4: u[3] || 0, VsPlayerID5: u[4] || 0, VsTeamID: o.VsTeamID || 1 }), i && (a.compare.left.lineupIDs = l.map(function (e) { return e }), a.compare.right.lineupIDs = u.map(function (e) { return e }), a.compare.left.lineupIDs.forEach(function (e, t) { a.compare.left.lineupChosen[t] = { PLAYER_ID: e, PLAYER: c[t] } }), a.compare.right.lineupIDs.forEach(function (e, t) { a.compare.right.lineupChosen[t] = { PLAYER_ID: e, PLAYER: d[t] } }), a.compare.left.lineup = a.compare.left.lineupIDs, a.compare.right.lineup = a.compare.right.lineupIDs, a.compare.left.type = a.compare.right.type = "lineup", h()), a.showCol = { MIN: { visible: !1, index: 0, label: "MIN", format: "number", invert: !1 }, PTS_OFF_TOV: { visible: !0, index: 1, label: "PTS OFF TOV", format: "number", invert: !1 }, PTS_2ND_CHANCE: { visible: !0, index: 2, label: "PTS 2ND CHANCE", format: "number", invert: !1 }, PTS_FB: { visible: !0, index: 3, label: "PTS FB", format: "number", invert: !1 }, PTS_PAINT: { visible: !1, index: 4, label: "PTS PAINT", format: "number", invert: !1 }, OPP_PTS_OFF_TOV: { visible: !1, index: 5, label: "OPP PTS OFF TOV", format: "number", invert: !0 }, OPP_PTS_2ND_CHANCE: { visible: !1, index: 6, label: "OPP PTS 2ND CHANCE", format: "number", invert: !0 }, OPP_PTS_FB: { visible: !1, index: 7, label: "OPP PTS FB", format: "number", invert: !0 }, OPP_PTS_PAINT: { visible: !0, index: 8, label: "OPP PTS PAINT", format: "number", invert: !0 }, BLK: { visible: !1, index: 9, label: "BLK", format: "number", invert: !1 }, BLKA: { visible: !1, index: 10, label: "BLKA", format: "number", invert: !0 }, PF: { visible: !1, index: 11, label: "PF", format: "number", invert: !0 }, PFD: { visible: !1, index: 12, label: "PFD", format: "number", invert: !0 } }, a.columns = [], a.showCol) a.showCol[p].name = p, a.columns.push(a.showCol[p]); function h() { s.getStats(a) } a.$on("runit", function (e) { for (var t in a.compare.isReady = !0, a.splits) a.params[t] = a.splits[t].selected.val; h() }), a.$watch("compare", function () { a.compare.isReady && (a.params.PlayerID1 = a.compare.left.lineupIDs[0] || a.params.PlayerID1, a.params.PlayerID2 = a.compare.left.lineupIDs[1] || a.params.PlayerID2, a.params.PlayerID3 = a.compare.left.lineupIDs[2] || a.params.PlayerID3, a.params.PlayerID4 = a.compare.left.lineupIDs[3] || a.params.PlayerID4, a.params.PlayerID5 = a.compare.left.lineupIDs[4] || a.params.PlayerID5, a.params.VsPlayerID1 = a.compare.right.lineupIDs[0] || a.params.VsPlayerID1, a.params.VsPlayerID2 = a.compare.right.lineupIDs[1] || a.params.VsPlayerID2, a.params.VsPlayerID3 = a.compare.right.lineupIDs[2] || a.params.VsPlayerID3, a.params.VsPlayerID4 = a.compare.right.lineupIDs[3] || a.params.VsPlayerID4, a.params.VsPlayerID5 = a.compare.right.lineupIDs[4] || a.params.VsPlayerID5, a.params.TeamID = a.compare.left.team || a.params.PlayerTeamID, a.params.PlayerTeamID = a.compare.left.team || a.params.PlayerTeamID, a.params.VsTeamID = a.compare.right.team || a.params.VsTeamID, h(), a.splits = f.splits) }, !0), a.$on("customFields", function (e, t) { a.customFields = t }) } stats.controller("PlayerVsPlayerMiscController", e), e.$inject = ["$scope", "$location", "SplitsService", "DeepLinksFactory", "VsPlayerVersusService", "SeasonsService"] }(), function () { function e(a, e, t, n, s, r) { var o = n.getSearchURL(), i = !!o.LineupIDs, l = [], c = [], u = [], d = []; i && (l = o.LineupIDs.split("~"), c = o.PlayerNames.split("~"), u = o.VsLineupIDs.split("~"), d = o.VsPlayerNames.split("~")); var p, m = r.get("playerVsPlayerStats"), f = t.get([{ name: "Season", initial: m.Season, seasonRange: e.search().range }, { name: "SeasonType", initial: m.SeasonType, without: ["All Star"] }, "PerMode", "Month", "VsConference", "LastNGames", "SeasonSegment", "VsDivision", "ShotClockRange", "OpponentTeamID", "GameSegment", "Outcome", "Location", "Period", "DateFrom", "DateTo", "PlusMinus", "PaceAdjust", "Rank"]); for (p in a.splits = f.splits, a.params = f.params, angular.extend(a.params, { MeasureType: "Scoring", PerMode: o.PerMode || "PerGame", PlayerID1: l[0] || 0, PlayerID2: l[1] || 0, PlayerID3: l[2] || 0, PlayerID4: l[3] || 0, PlayerID5: l[4] || 0, PlayerTeamID: o.PlayerTeamID || 1, TeamID: e.search().VsTeamID, VsPlayerID1: u[0] || 0, VsPlayerID2: u[1] || 0, VsPlayerID3: u[2] || 0, VsPlayerID4: u[3] || 0, VsPlayerID5: u[4] || 0, VsTeamID: o.VsTeamID || 1 }), i && (a.compare.left.lineupIDs = l.map(function (e) { return e }), a.compare.right.lineupIDs = u.map(function (e) { return e }), a.compare.left.lineupIDs.forEach(function (e, t) { a.compare.left.lineupChosen[t] = { PLAYER_ID: e, PLAYER: c[t] } }), a.compare.right.lineupIDs.forEach(function (e, t) { a.compare.right.lineupChosen[t] = { PLAYER_ID: e, PLAYER: d[t] } }), a.compare.left.lineup = a.compare.left.lineupIDs, a.compare.right.lineup = a.compare.right.lineupIDs, a.compare.left.type = a.compare.right.type = "lineup", h()), a.showCol = { MIN: { visible: !1, index: 0, label: "MIN", format: "number", invert: !1 }, PCT_FGA_2PT: { visible: !1, index: 1, label: "% FGA 2PT", format: "percent", invert: !1 }, PCT_FGA_3PT: { visible: !1, index: 2, label: "% FGA 3PT", format: "percent", invert: !1 }, PCT_PTS_2PT: { visible: !1, index: 3, label: "% PTS 2PT", format: "percent", invert: !1 }, PCT_PTS_2PT_MR: { visible: !0, index: 4, label: "% PTS 2PT MR", format: "percent", invert: !1 }, PCT_PTS_3PT: { visible: !0, index: 5, label: "% PTS 3PT", format: "percent", invert: !1 }, PCT_PTS_FB: { visible: !0, index: 6, label: "% PTS FB", format: "percent", invert: !1 }, PCT_PTS_FT: { visible: !0, index: 7, label: "% PTS FT", format: "percent", invert: !1 }, PCT_PTS_OFF_TOV: { visible: !1, index: 8, label: "% PTS OFF TOV", format: "percent", invert: !1 }, PCT_PTS_PAINT: { visible: !0, index: 9, label: "% PTS PAINT", format: "percent", invert: !1 }, PCT_AST_2PM: { visible: !1, index: 10, label: "% AST 2PM", format: "percent", invert: !1 }, PCT_UAST_2PM: { visible: !1, index: 11, label: "% UAST 2PM", format: "percent", invert: !1 }, PCT_AST_3PM: { visible: !1, index: 12, label: "% AST 3PM ", format: "percent", invert: !1 }, PCT_UAST_3PM: { visible: !1, index: 13, label: "% UAST 3PM", format: "percent", invert: !1 }, PCT_AST_FGM: { visible: !1, index: 14, label: "% AST FGM", format: "percent", invert: !1 }, PCT_UAST_FGM: { visible: !1, index: 15, label: "% UAST FGM", format: "percent", invert: !1 } }, a.columns = [], a.showCol) a.showCol[p].name = p, a.columns.push(a.showCol[p]); function h() { s.getStats(a) } a.$on("runit", function (e) { for (var t in a.compare.isReady = !0, a.splits) a.params[t] = a.splits[t].selected.val; h() }), a.$watch("compare", function () { a.compare.isReady && (a.params.PlayerID1 = a.compare.left.lineupIDs[0] || a.params.PlayerID1, a.params.PlayerID2 = a.compare.left.lineupIDs[1] || a.params.PlayerID2, a.params.PlayerID3 = a.compare.left.lineupIDs[2] || a.params.PlayerID3, a.params.PlayerID4 = a.compare.left.lineupIDs[3] || a.params.PlayerID4, a.params.PlayerID5 = a.compare.left.lineupIDs[4] || a.params.PlayerID5, a.params.VsPlayerID1 = a.compare.right.lineupIDs[0] || a.params.VsPlayerID1, a.params.VsPlayerID2 = a.compare.right.lineupIDs[1] || a.params.VsPlayerID2, a.params.VsPlayerID3 = a.compare.right.lineupIDs[2] || a.params.VsPlayerID3, a.params.VsPlayerID4 = a.compare.right.lineupIDs[3] || a.params.VsPlayerID4, a.params.VsPlayerID5 = a.compare.right.lineupIDs[4] || a.params.VsPlayerID5, a.params.TeamID = a.compare.left.team || a.params.PlayerTeamID, a.params.PlayerTeamID = a.compare.left.team || a.params.PlayerTeamID, a.params.VsTeamID = a.compare.right.team || a.params.VsTeamID, h(), a.splits = f.splits) }, !0), a.$on("customFields", function (e, t) { a.customFields = t }) } stats.controller("PlayerVsPlayerScoringController", e), e.$inject = ["$scope", "$location", "SplitsService", "DeepLinksFactory", "VsPlayerVersusService", "SeasonsService"] }(), function () { function e(a, e, t, n, s, r) { var o = n.getSearchURL(), i = !!o.LineupIDs, l = [], c = [], u = [], d = []; i && (l = o.LineupIDs.split("~"), c = o.PlayerNames.split("~"), u = o.VsLineupIDs.split("~"), d = o.VsPlayerNames.split("~")); var p, m = r.get("playerVsPlayerStats"), f = t.get([{ name: "Season", initial: m.Season, seasonRange: e.search().seasonRange }, { name: "SeasonType", initial: m.SeasonType, without: ["All Star"] }, { name: "PerMode", include: [{ val: "Per100Possessions", text: "Per 100 Poss" }, { val: "Per100Plays", text: "Per 100 Plays" }, { val: "Per48", text: "Per 48 Minutes" }, { val: "Per40", text: "Per 40 Minutes" }, { val: "Per36", text: "Per 36 Minutes" }, { val: "PerMinute", text: "Per 1 Minute" }, { val: "PerPossession", text: "Per 1 Poss" }, { val: "PerPlay", text: "Per 1 Play" }, { val: "MinutesPer", text: "Minutes Per" }] }, "Month", "VsConference", "LastNGames", "SeasonSegment", "VsDivision", "ShotClockRange", "OpponentTeamID", "GameSegment", "Outcome", "Location", "Period", "StatCategory", "DateFrom", "DateTo", "PlusMinus", "PaceAdjust", "Rank"]); for (p in a.splits = f.splits, a.params = f.params, angular.extend(a.params, { MeasureType: "Base", PerMode: o.PerMode || "PerGame", PlayerID1: l[0] || 0, PlayerID2: l[1] || 0, PlayerID3: l[2] || 0, PlayerID4: l[3] || 0, PlayerID5: l[4] || 0, PlayerTeamID: o.PlayerTeamID || 1, TeamID: e.search().VsTeamID, VsPlayerID1: u[0] || 0, VsPlayerID2: u[1] || 0, VsPlayerID3: u[2] || 0, VsPlayerID4: u[3] || 0, VsPlayerID5: u[4] || 0, VsTeamID: o.VsTeamID || 1 }), i && (a.compare.left.lineupIDs = l.map(function (e) { return e }), a.compare.right.lineupIDs = u.map(function (e) { return e }), a.compare.left.lineupIDs.forEach(function (e, t) { a.compare.left.lineupChosen[t] = { PLAYER_ID: e, PLAYER: c[t] } }), a.compare.right.lineupIDs.forEach(function (e, t) { a.compare.right.lineupChosen[t] = { PLAYER_ID: e, PLAYER: d[t] } }), a.compare.left.lineup = a.compare.left.lineupIDs, a.compare.right.lineup = a.compare.right.lineupIDs, a.compare.left.type = a.compare.right.type = "lineup", h()), a.showCol = { MIN: { visible: !1, index: 0, label: "MIN", format: "number", invert: !1 }, FGM: { visible: !1, index: 1, label: "FGM", format: "number", invert: !1 }, FGA: { visible: !1, index: 2, label: "FGA", format: "number", invert: !1 }, FG_PCT: { visible: !1, index: 3, label: "FG%", format: "percent", invert: !1 }, FG3M: { visible: !1, index: 4, label: "3PM", format: "number", invert: !1 }, FG3A: { visible: !1, index: 5, label: "3PA", format: "number", invert: !1 }, FG3_PCT: { visible: !1, index: 6, label: "3P%", format: "percent", invert: !1 }, FTM: { visible: !1, index: 7, label: "FTM", format: "number", invert: !1 }, FTA: { visible: !1, index: 8, label: "FTA", format: "number", invert: !1 }, FT_PCT: { visible: !1, index: 9, label: "FT%", format: "percent", invert: !1 }, OREB: { visible: !1, index: 10, label: "OREB", format: "number", invert: !1 }, DREB: { visible: !1, index: 11, label: "DREB", format: "number", invert: !1 }, REB: { visible: !0, index: 12, label: "REB", format: "number", invert: !1 }, AST: { visible: !0, index: 13, label: "AST", format: "number", invert: !1 }, TOV: { visible: !1, index: 14, label: "TOV", format: "number", invert: !0 }, STL: { visible: !0, index: 15, label: "STL", format: "number", invert: !1 }, BLK: { visible: !0, index: 16, label: "BLK", format: "number", invert: !1 }, PF: { visible: !1, index: 17, label: "PF", format: "number", invert: !1 }, PTS: { visible: !0, index: 18, label: "PTS", format: "number", invert: !1 } }, a.columns = [], a.showCol) a.showCol[p].name = p, a.columns.push(a.showCol[p]); function h() { s.getStats(a) } a.$on("runit", function (e) { for (var t in a.compare.isReady = !0, a.splits) a.params[t] = a.splits[t].selected.val; h() }), a.$watch("compare", function () { a.compare.isReady && (a.params.PlayerID1 = a.compare.left.lineupIDs[0] || a.params.PlayerID1, a.params.PlayerID2 = a.compare.left.lineupIDs[1] || a.params.PlayerID2, a.params.PlayerID3 = a.compare.left.lineupIDs[2] || a.params.PlayerID3, a.params.PlayerID4 = a.compare.left.lineupIDs[3] || a.params.PlayerID4, a.params.PlayerID5 = a.compare.left.lineupIDs[4] || a.params.PlayerID5, a.params.VsPlayerID1 = a.compare.right.lineupIDs[0] || a.params.VsPlayerID1, a.params.VsPlayerID2 = a.compare.right.lineupIDs[1] || a.params.VsPlayerID2, a.params.VsPlayerID3 = a.compare.right.lineupIDs[2] || a.params.VsPlayerID3, a.params.VsPlayerID4 = a.compare.right.lineupIDs[3] || a.params.VsPlayerID4, a.params.VsPlayerID5 = a.compare.right.lineupIDs[4] || a.params.VsPlayerID5, a.params.TeamID = a.compare.left.team || a.params.PlayerTeamID, a.params.PlayerTeamID = a.compare.left.team || a.params.PlayerTeamID, a.params.VsTeamID = a.compare.right.team || a.params.VsTeamID, h(), a.splits = f.splits) }, !0), a.$on("customFields", function (e, t) { a.customFields = t }) } stats.controller("PlayerVsPlayerBaseController", e), e.$inject = ["$scope", "$location", "SplitsService", "DeepLinksFactory", "VsPlayerVersusService", "SeasonsService"] }(), function () { function m(e, t, a, n) { var s = (n - 90) * Math.PI / 180; return { x: e + a * Math.cos(s), y: t + a * Math.sin(s) } } stats.filter("arcPath", function () { return function (e, t, a, n, s) { return l = n, u = m(r = e, o = t, i = a, c = s), d = m(r, o, i, l), p = c - l <= 180 ? "0" : "1", ["M", r, o, "L", u.x, u.y, "A", i, i, 0, p, 0, d.x, d.y, "Z"].join(" "); var r, o, i, l, c, u, d, p } }) }(), stats.filter("area", function () { return function (e) { return e ? (e / 100).toFixed(1) + " ft " : 0 } }), stats.filter("donutArc", function () { return function (e, t) { if (e) { var a = 100 * e * (2 * Math.PI / 100), n = t + Math.sin(0) * t, s = t - Math.cos(0) * t, r = t + Math.sin(a) * t, o = t - Math.cos(a) * t; return ["M ", t, ",", t, " L ", n, ",", s, " A ", t, ",", t, " 0 ", a > Math.PI ? 1 : 0, " 1 ", r, ",", o, " Z"].join("") } } }), function () { function e(a) { return function (e, t) { return t += "", null === e ? "-" : -1 < t.indexOf("DATE") ? a("date")(e, "MM/dd/yyyy") : -1 < t.indexOf("ACTIVE") ? 1 === e ? "Yes" : "No" : -1 < t.indexOf("_PCT") ? (100 * Number(e)).toFixed(1) : e } } stats.filter("qtFieldFormatter", e), e.$inject = ["$filter"] }(), stats.filter("qtTableHeader", function () { return function (e) { return e = (e += "").replace("3FGM", "3PM").replace("3FGA", "3PA").replace("FG3M", "3PM").replace("FG3A", "3PA").replace("FG3_PCT", "3P%").replace("M_", "*").replace("GAMESTREAK", "GAMES").replace("DATE", "").replace("PLUS_MINUS", "+/-").replace("_PCT", "%").replace(/\_/g, " ").replace("NUM", "").replace("ACTIVESTREAK", "ACTIVE") } }), function () { function e(i, r, e, t, o, a, l, n, s, c, u, d, p, m) { var f = p.get().map(function (e, t, a) { var n = e.city + " " + e.name; return angular.extend({}, e, { teamName: n }) }); f.unshift({ teamName: "Select A Team", id: 0 }); var h = { title: "Lineups", meta: [{ desc: "Traditional Lineups", url: "/stats/lineups/traditional/" }, { desc: "Advanced Lineups", url: "/stats/lineups/advanced/" }], teams: f }; i.results = { links: { left: [{ title: "Essential Features", meta: [{ desc: "Official League Leaders", url: "/stats/leaders/" }, { desc: "Sortable Player Stats", url: "/stats/players/traditional/?sort=PTS&dir=-1" }, { desc: "Sortable Team Stats", url: "/stats/teams/traditional/?sort=W_PCT&dir=-1" }, { desc: "Enhanced Standings", url: "/stats/standings/" }, { desc: "Video Box Scores", url: "/stats/scores/" }, { desc: "Player Tracking", url: "/stats/players/shooting-efficiency/" }, { desc: "Hustle Leaders", url: "/stats/players/hustle-leaders/" }, { desc: "Advanced Player Leaders", url: "/stats/players/advanced-leaders/" }, { desc: "Advanced Team Leaders", url: "/stats/teams/advanced-leaders/" }, { desc: "All-Time Leaders", url: "/stats/alltime/" }, { desc: "Glossary", url: "/stats/help/glossary/" }, { desc: "Official Box Scores", url: "/stats/gamebooks/" }] }, { title: "Player Tracking", meta: [{ desc: "Catch and Shoot", url: "/stats/players/catch-shoot/" }, { desc: "Defensive Impact", url: "/stats/players/defensive-impact/" }, { desc: "Drives", url: "/stats/players/drives/" }, { desc: "Passing", url: "/stats/players/passing/" }, { desc: "Touches", url: "/stats/players/touches/" }, { desc: "Pull Up Shooting", url: "/stats/players/pullup/" }, { desc: "Rebounding", url: "/stats/players/rebounding/" }, { desc: "Speed and Distance", url: "/stats/players/speed-distance/" }, { desc: "Elbow Touches", url: "/stats/players/elbow-touch/" }, { desc: "Post Ups", url: "/stats/players/tracking-post-ups/" }, { desc: "Paint Touches", url: "/stats/players/paint-touch/" }] }, { title: "Team Tracking", meta: [{ desc: "Catch and Shoot", url: "/stats/teams/catch-shoot/" }, { desc: "Defensive Impact", url: "/stats/teams/defensive-impact/" }, { desc: "Drives", url: "/stats/teams/drives/" }, { desc: "Passing", url: "/stats/teams/passing/" }, { desc: "Touches", url: "/stats/teams/touches/" }, { desc: "Pull Up Shooting", url: "/stats/teams/pullup/" }, { desc: "Rebounding", url: "/stats/teams/rebounding/" }, { desc: "Speed and Distance", url: "/stats/teams/speed-distance/" }, { desc: "Elbow Touches", url: "/stats/teams/elbow-touch/" }, { desc: "Post Ups", url: "/stats/teams/tracking-post-ups/" }, { desc: "Paint Touches", url: "/stats/teams/paint-touch/" }] }, { title: "Team / Player Shooting", meta: [{ desc: "Team Shot Locations by Zone", url: "/stats/teams/shooting/?DistanceRange=By%20Zone&PerMode=Totals" }, { desc: "Player Shot Locations by Zone", url: "/stats/players/shooting/?DistanceRange=By%20Zone&PerMode=Totals" }, { desc: "Pull Up Shooting", url: "/stats/players/shots-general/?GeneralRange=Pullups" }, { desc: "Catch and Shoot Shooting", url: "/stats/players/shots-general/?GeneralRange=Catch%20and%20Shoot" }, { desc: "Shots by Shotclock", url: "/stats/players/shots-shotclock/" }, { desc: "Shots by Dribbles", url: "/stats/players/shots-dribbles/" }, { desc: "Shots by Closest Defender", url: "/stats/players/shots-closest-defender/" }, { desc: "Opponent Shooting", url: "/stats/teams/opponent-shooting/" }] }, { title: "Team Statistics", meta: [{ desc: "Sortable Team Stats", url: "/stats/teams/traditional/" }, { desc: "Sortable Advanced Stats", url: "/stats/teams/advanced/?sort=W&dir=-1" }, { desc: "Sortable Misc Stats", url: "/stats/teams/misc/?sort=W&dir=-1" }, { desc: "Sortable Clutch Stats", url: "/stats/teams/clutch-traditional/" }] }, { title: "Player Statistics", meta: [{ desc: "Sortable Player Stats", url: "/stats/players/traditional/" }, { desc: "Sortable Advanced Stats", url: "/stats/players/advanced/?sort=W&dir=-1" }, { desc: "Sortable Misc Stats", url: "/stats/players/misc/?sort=W&dir=-1" }, { desc: "Sortable Clutch Stats", url: "/stats/players/clutch-traditional/" }] }, { title: "Player Defense", meta: [{ desc: "Defending Shots Overall", url: "/stats/players/defense-dash-overall/" }, { desc: "Defending 3 Pointers", url: "/stats/players/defense-dash-3pt/" }, { desc: "Defending 2 Pointers", url: "/stats/players/defense-dash-2pt/" }, { desc: "Defending Less than 6 Ft", url: "/stats/players/defense-dash-lt6/" }, { desc: "Defending Less than 10 Ft", url: "/stats/players/defense-dash-lt10/" }, { desc: "Defending Greater than 15 Ft", url: "/stats/players/defense-dash-gt15/" }] }, { title: "Team Defense", meta: [{ desc: "Opponent Shooting by Zone", url: "/stats/teams/opponent-shooting/?DistanceRange=By%20Zone" }, { desc: "Defending Shots Overall", url: "/stats/teams/defense-dash-overall/" }, { desc: "Defending 3 Pointers", url: "/stats/teams/defense-dash-3pt/" }, { desc: "Defending 2 Pointers", url: "/stats/teams/defense-dash-2pt/" }, { desc: "Defending Less than 6 Ft", url: "/stats/teams/defense-dash-lt6/" }, { desc: "Defending Less than 10 Ft", url: "/stats/teams/defense-dash-lt10/" }, { desc: "Defending Greater than 15 Ft", url: "/stats/teams/defense-dash-gt15/" }] }], right: [h, { title: "Tools", meta: [{ desc: "Impact Tool", url: "/stats/impact/" }, { desc: "Player Compare Tool", url: "/stats/vs/" }, { desc: "Player Box Score Search", url: "/stats/search/player-game/#?CF=PTS*gt*30" }, { desc: "Team Box Score Search", url: "/stats/search/team-game/#?CF=PTS*gt*130" }, { desc: "Player Streak Search", url: "/stats/player-streak/#?CF=PTS*gt*30" }, { desc: "Team Streak Search", url: "/stats/search/team-streak/#?CF=PTS*gt*120" }] }, { title: "Tutorials", meta: [{ desc: "Shotcharts", url: "/stats/articles/off-the-charts/" }, { desc: "Impact Tool", url: "/stats/articles/measuring-impact/" }] }] }, teams: f }, i.handleTeamLineUp = function (e) { var t = "/stats/team/" + e.id + "/lineups-traditional/"; window.location = t }, i.handleTeamOnOffCourt = function (e) { var t = "/stats/team/" + e.id + "/onoffcourt-summary/"; window.location = t }, i.selectedFranchiseLeaders = f[0], i.handleSelectFranchiseLeaders = function (e) { var t = "/stats/team/" + e.id + "/franchise-leaders/"; window.location = t }; var g = d.findBy("rs", !0).slice(0), v = d.findBy("rs", !1).slice(0), S = p.get().map(function (e) { return angular.extend({}, e, { type: "tm" }) }); i.search = "", i.searchResults = [], i.recentSearches = m.get(), i.maxResults = 7, i.showSearch = !1, i.showResults = !1, i.hasResults = !1, i.activeIndex = -1, i.totalResults = 0, i.toggleSearch = function () { if (i.showSearch = !i.showSearch, i.showResults = !1, i.showSearchChart = !1, i.showResultsChart = !1, i.showRecentChart = !1, !i.showSearch) return; i.search = "", i.showRecent = !0, i.searchResults = m.get(), i.showResults = !0, o(function () { r.find(".cheatsheet-search__input.player-input").focus() }, 0) }, i.onKeyDown = function (e) { { var t, a, n, s; "38" == (e = e || window.event).keyCode ? (i.activeIndex = Math.max(0, i.activeIndex - 1), e.preventDefault()) : "40" == e.keyCode ? (i.activeIndex = Math.min(i.maxResults - 1, Math.min(i.searchResults.length, i.activeIndex + 1)), e.preventDefault()) : "13" == e.keyCode && (t = i.searchResults[i.activeIndex], a = r.find(".cheatsheet-search__item:eq(" + i.activeIndex + ") a"), i.recentSearches = m.add(t), n = { focus: "search-bar", content: [t] }, "undefined" != typeof _nba && _nba.analytics.click(n), s = a.attr("href"), document.location = s, i.search = "", i.showSearch = !1, i.showResults = !1) } }, i.onChange = function (e) { (function (e) { if (e.length < 3) return; i.showRecent = !1; var t, a = e.toLowerCase().split(" ").filter(function (e) { return !!e.length }), n = g.slice(0), s = v.slice(0), r = S.slice(0); for (t in a) { var o = a[t]; n = n.filter(P.bind("", o)), s = s.filter(P.bind("", o)), r = l("filter")(r, o, !1) } i.searchResults = [].concat(r).concat(n).concat(s), i.hasResults = !!i.searchResults.length, i.showResults = !0 })(i.search), i.activeIndex = -1 }, i.onItemClick = function (e, t, a) { e.preventDefault(), e.stopPropagation(), i.recentSearches = m.add(t); var n = { focus: "search-bar", content: [t] }; "undefined" != typeof _nba && _nba.analytics.click(n); var s = angular.element(e.target).attr("href"); document.location = s, o(function () { i.showSearch = !1, i.showResults = !1 }, 0) }, i.onItemHover = function (e, t, a) { i.activeIndex = a }, i.onBlur = function (e) { o(function () { i.showSearch = !1, i.showResults = !1 }, 100) }; var y = r.data("season-section"); function P(e, t) { var a = "toLowerCase"; return -1 < t.fn[a]().indexOf(e) || -1 < t.ln[a]().indexOf(e) } i.searchYear = s.get(y).Season, i.recentSearches.length, a.on("click", function (e) { var t; i.showSearch && (t = e.target, $.contains(r.get(0), t) || (i.showSearch = !1, i.showResults = !1, i.$apply())) }), i.searchChart = "", i.searchResultsChart = [], i.recentSearchesChart = m.get(), i.maxResultsChart = 7, i.showSearchChart = !1, i.showResultsChart = !1, i.hasResultsChart = !1, i.activeIndexChart = -1, i.totalResultsChart = 0, i.toggleSearchChart = function () { if (i.showSearchChart = !i.showSearchChart, i.showResultsChart = !1, i.showSearch = !1, i.showResults = !1, i.showRecent = !1, !i.showSearchChart) return; i.searchChart = "", i.showRecentChart = !0, i.searchResultsChart = m.get(), i.showResultsChart = !0, o(function () { r.find(".cheatsheet-search__input-chart").focus() }, 0) }, i.onKeyDownChart = function (e) { { var t, a, n, s; "38" == (e = e || window.event).keyCode ? (i.activeIndexChart = Math.max(0, i.activeIndexChart - 1), e.preventDefault()) : "40" == e.keyCode ? (i.activeIndexChart = Math.min(i.maxResultsChart - 1, Math.min(i.searchResultsChart.length, i.activeIndexChart + 1)), e.preventDefault()) : "13" == e.keyCode && (t = i.searchResultsChart[i.activeIndexChart], a = r.find(".cheatsheet-search__item-chart:eq(" + i.activeIndexChart + ") a"), i.recentSearchesChart = m.add(t), n = { focus: "search-bar", content: [t] }, "undefined" != typeof _nba && _nba.analytics.click(n), s = a.attr("href"), document.location = s, i.searchChart = "", i.showSearchChart = !1, i.showResultsChart = !1) } }, i.onChangeChart = function (e) { (function (e) { if (e.length < 3) return; i.showRecentChart = !1; var t, a = e.toLowerCase().split(" ").filter(function (e) { return !!e.length }), n = g.slice(0), s = v.slice(0), r = S.slice(0); for (t in a) { var o = a[t]; n = n.filter(D.bind("", o)), s = s.filter(P.bind("", o)), r = l("filter")(r, o, !1) } i.searchResultsChart = [].concat(r).concat(n).concat(s), i.hasResultsChart = !!i.searchResultsChart.length, i.showResultsChart = !0 })(i.searchChart), i.activeIndexChart = -1 }, i.onItemClickChart = function (e, t, a) { e.preventDefault(), e.stopPropagation(), i.recentSearchesChart = m.add(t); var n = { focus: "search-bar", content: [t] }; "undefined" != typeof _nba && _nba.analytics.click(n); var s = angular.element(e.target).attr("href"); document.location = s, o(function () { i.showSearchChart = !1, i.showResultsChart = !1 }, 0) }, i.onItemHoverChart = function (e, t, a) { i.activeIndexChart = a }, i.onBlurChart = function (e) { o(function () { i.showSearchChart = !1, i.showResultsChart = !1 }, 100) }; var T = r.data("season-section"); function D(e, t) { var a = "toLowerCase"; return -1 < t.fn[a]().indexOf(e) || -1 < t.ln[a]().indexOf(e) } i.searchYearChart = s.get(T).Season, i.recentSearchesChart.length, a.on("click", function (e) { var t; i.showSearchChart && (t = e.target, $.contains(r.get(0), t) || (i.showSearchChart = !1, i.showResultsChart = !1, i.$apply())) }) } stats.controller("QuickLinksController", e), e.$inject = ["$scope", "$element", "$location", "$interval", "$timeout", "$document", "$filter", "LeagueGamelogsService", "SeasonsService", "SplitsService", "StatsWidgetService", "PlayersService", "TeamsService", "RecentSearchesService"] }(), function () { function e(i, r, e, t, o, a, l, n, s, c, u, d, p, m) { var f = p.get().map(function (e, t, a) { var n = e.city + " " + e.name; return angular.extend({}, e, { teamName: n }) }); f.unshift({ teamName: "Select A Team", id: 0 }); var h = { title: "Lineups", meta: [{ desc: "Traditional Lineups", url: "/stats/lineups/traditional/" }, { desc: "Daily Lineups", url: "https://www.nba.com/players/todays-lineups" }], teams: f }; i.results = { links: { left: [{ title: "Featured", meta: [{ header: "ESSENTIALS", links: [{ desc: "Player Sortable Stats", url: "/stats/players/traditional/?sort=PTS&dir=-1" }, { desc: "Team Sortable Stats", url: "/stats/teams/traditional/?sort=PTS&dir=-1" }, { desc: "Official Box Scores", url: "/stats/gamebooks/" }, { desc: "Glossary", url: "/stats/help/glossary/" }] }, { header: "LEADERS", links: [{ desc: "All-Time Leaders", url: "/stats/alltime/" }, { desc: "Official Leaders", url: "/stats/leaders/" }, { desc: "Advanced Player Leaders", url: "/stats/players/advanced/?sort=W&dir=-1" }, { desc: "Advanced Team Leaders", url: "/stats/teams/advanced/?sort=W&dir=-1" }, { desc: "Hustle Leaders", url: "/stats/players/hustle-leaders/" }] }, { header: "INTERACTIVE TOOLS", links: [{ desc: "Impact Tool (Tutorial)", url: "/stats/articles/measuring-impact/" }, { desc: "Player Compare Tool", url: "/stats/vs/" }, { desc: "Player Box Score Search", url: "/stats/search/player-game/#?CF=PTS*gt*30" }, { desc: "Player Streak Search", url: "/stats/player-streak/#?CF=PTS*gt*30" }, { desc: "Team Box Score Search", url: "/stats/search/team-game/#?CF=PTS*gt*130" }, { desc: "Team Streak Search", url: "/stats/search/team-streak/#?CF=PTS*gt*120" }] }] }, { title: "Players", meta: [{ header: "TRACKING", links: [{ desc: "Sortable Advanced Stats", url: "/stats/players/advanced/" }, { desc: "Sortable Misc. Stats", url: "/stats/players/misc/?sort=W&dir=-1" }, { desc: "Clutch Stats", url: "/stats/players/clutch-traditional/?sort=W_PCT&dir=-1" }, { desc: "Drives", url: "/stats/players/drives/" }, { desc: "Passing", url: "/stats/players/passing/" }, { desc: "Touches", url: "/stats/players/touches/" }, { desc: "Rebounding", url: "/stats/players/rebounding/" }, { desc: "Speed and Distance", url: "/stats/players/speed-distance/" }, { desc: "Elbow Touches", url: "/stats/players/elbow-touch/" }, { desc: "Post Ups", url: "/stats/players/tracking-post-ups/" }, { desc: "Paint Touches", url: "/stats/players/paint-touch/" }] }, { header: "SHOOTING", links: [{ desc: "Shooting Efficiency", url: "/stats/players/shooting/" }, { desc: "Catch and Shoot", url: "/stats/players/catch-shoot/" }, { desc: "Pull Up Shooting", url: "/stats/players/pullup/" }, { desc: "Shot Locations by Zone", url: "/stats/players/shooting/?DistanceRange=By%20Zone&PerMode=Totals" }, { desc: "Shots by Shotclock", url: "/stats/players/shots-shotclock/" }, { desc: "Shots by Dribbles", url: "/stats/players/shots-dribbles/" }, { desc: "Shots by Closest Defender", url: "/stats/players/shots-closest-defender/" }, { desc: "Opponent Shooting", url: "/stats/teams/opponent-shooting/" }] }, { header: "DEFENSE", links: [{ desc: "Opponent Shooting by Zone", url: "/stats/players/opponent-shooting/?DistanceRange=By%20Zone" }, { desc: "Defensive Impact", url: "/stats/players/defensive-impact/" }, { desc: "Defending Shots Overall", url: "/stats/players/defense-dash-overall/" }, { desc: "Defending 3 Pointers", url: "/stats/players/defense-dash-3pt/" }, { desc: "Defending 2 Pointers", url: "/stats/players/defense-dash-2pt/" }, { desc: "Defending Less than 6 Ft", url: "/stats/players/defense-dash-lt6/" }, { desc: "Defending Less than 10 Ft", url: "/stats/players/defense-dash-lt10/" }, { desc: "Defending Greater than 15 Ft", url: "/stats/players/defense-dash-gt15/" }] }] }, { title: "Teams", meta: [{ header: "TRACKING", links: [{ desc: "Sortable Advanced Stats", url: "/stats/teams/advanced/" }, { desc: "Sortable Misc. Stats", url: "/stats/teams/misc/?sort=W&dir=-1" }, { desc: "Clutch Stats", url: "/stats/teams/clutch-traditional/?sort=W_PCT&dir=-1" }, { desc: "Drives", url: "/stats/teams/drives/" }, { desc: "Passing", url: "/stats/teams/passing/" }, { desc: "Touches", url: "/stats/teams/touches/" }, { desc: "Rebounding", url: "/stats/teams/rebounding/" }, { desc: "Speed and Distance", url: "/stats/teams/speed-distance/" }, { desc: "Elbow Touches", url: "/stats/teams/elbow-touch/" }, { desc: "Post Ups", url: "/stats/teams/tracking-post-ups/" }, { desc: "Paint Touches", url: "/stats/teams/paint-touch/" }] }, { header: "SHOOTING", links: [{ desc: "Shooting Efficiency", url: "/stats/teams/shooting/" }, { desc: "Catch and Shoot", url: "/stats/teams/catch-shoot/" }, { desc: "Pull Up Shooting", url: "/stats/teams/pullup/" }, { desc: "Shot Locations by Zone", url: "/stats/teams/shooting/?DistanceRange=By%20Zone&PerMode=Totals" }, { desc: "Shots by Shotclock", url: "/stats/teams/shots-shotclock/" }, { desc: "Shots by Dribbles", url: "/stats/teams/shots-dribbles/" }, { desc: "Shots by Closest Defender", url: "/stats/teams/shots-closest-defender/" }, { desc: "Opponent Shooting", url: "/stats/teams/opponent-shooting/" }] }, { header: "DEFENSE", links: [{ desc: "Opponent Shooting by Zone", url: "/stats/teams/opponent-shooting/?DistanceRange=By%20Zone" }, { desc: "Defensive Impact", url: "/stats/teams/defensive-impact/" }, { desc: "Defending Shots Overall", url: "/stats/teams/defense-dash-overall/" }, { desc: "Defending 3 Pointers", url: "/stats/teams/defense-dash-3pt)" }, { desc: "Defending 2 Pointers", url: "/stats/teams/defense-dash-2pt/" }, { desc: "Defending Less than 6 Ft", url: "/stats/teams/defense-dash-lt6/" }, { desc: "Defending Less than 10 Ft", url: "/stats/teams/defense-dash-lt10/" }, { desc: "Defending Greater than 15 Ft", url: "/stats/teams/defense-dash-gt15/" }] }] }], right: [h] }, teams: f }, i.handleTeamLineUp = function (e) { var t = "/stats/team/" + e.id + "/lineups-traditional/"; window.location = t }, i.handleTeamOnOffCourt = function (e) { var t = "/stats/team/" + e.id + "/onoffcourt-summary/"; window.location = t }, i.selectedFranchiseLeaders = f[0], i.handleSelectFranchiseLeaders = function (e) { var t = "/stats/team/" + e.id + "/franchise-leaders/"; window.location = t }; var g = d.findBy("rs", !0).slice(0), v = d.findBy("rs", !1).slice(0), S = p.get().map(function (e) { return angular.extend({}, e, { type: "tm" }) }); i.search = "", i.searchResults = [], i.recentSearches = m.get(), i.maxResults = 7, i.showSearch = !1, i.showResults = !1, i.hasResults = !1, i.activeIndex = -1, i.totalResults = 0, i.toggleSearch = function () { if (i.showSearch = !i.showSearch, i.showResults = !1, i.showSearchChart = !1, i.showResultsChart = !1, i.showRecentChart = !1, !i.showSearch) return; i.search = "", i.showRecent = !0, i.searchResults = m.get(), i.showResults = !0, o(function () { r.find(".cheatsheet-search__input.player-input").focus() }, 0) }, i.onKeyDown = function (e) { { var t, a, n, s; "38" == (e = e || window.event).keyCode ? (i.activeIndex = Math.max(0, i.activeIndex - 1), e.preventDefault()) : "40" == e.keyCode ? (i.activeIndex = Math.min(i.maxResults - 1, Math.min(i.searchResults.length, i.activeIndex + 1)), e.preventDefault()) : "13" == e.keyCode && (t = i.searchResults[i.activeIndex], a = r.find(".cheatsheet-search__item:eq(" + i.activeIndex + ") a"), i.recentSearches = m.add(t), n = { focus: "search-bar", content: [t] }, "undefined" != typeof _nba && _nba.analytics.click(n), s = a.attr("href"), document.location = s, i.search = "", i.showSearch = !1, i.showResults = !1) } }, i.onChange = function (e) { (function (e) { if (e.length < 3) return; i.showRecent = !1; var t, a = e.toLowerCase().split(" ").filter(function (e) { return !!e.length }), n = g.slice(0), s = v.slice(0), r = S.slice(0); for (t in a) { var o = a[t]; n = n.filter(P.bind("", o)), s = s.filter(P.bind("", o)), r = l("filter")(r, o, !1) } i.searchResults = [].concat(r).concat(n).concat(s), i.hasResults = !!i.searchResults.length, i.showResults = !0 })(i.search), i.activeIndex = -1 }, i.onItemClick = function (e, t, a) { e.preventDefault(), e.stopPropagation(), i.recentSearches = m.add(t); var n = { focus: "search-bar", content: [t] }; "undefined" != typeof _nba && _nba.analytics.click(n); var s = angular.element(e.target).attr("href"); document.location = s, o(function () { i.showSearch = !1, i.showResults = !1 }, 0) }, i.onItemHover = function (e, t, a) { i.activeIndex = a }, i.onBlur = function (e) { o(function () { i.showSearch = !1, i.showResults = !1 }, 100) }; var y = r.data("season-section"); function P(e, t) { var a = "toLowerCase"; return -1 < t.fn[a]().indexOf(e) || -1 < t.ln[a]().indexOf(e) } i.searchYear = s.get(y).Season, i.recentSearches.length, a.on("click", function (e) { var t; i.showSearch && (t = e.target, $.contains(r.get(0), t) || (i.showSearch = !1, i.showResults = !1, i.$apply())) }), i.searchChart = "", i.searchResultsChart = [], i.recentSearchesChart = m.get(), i.maxResultsChart = 7, i.showSearchChart = !1, i.showResultsChart = !1, i.hasResultsChart = !1, i.activeIndexChart = -1, i.totalResultsChart = 0, i.toggleSearchChart = function () { if (i.showSearchChart = !i.showSearchChart, i.showResultsChart = !1, i.showSearch = !1, i.showResults = !1, i.showRecent = !1, !i.showSearchChart) return; i.searchChart = "", i.showRecentChart = !0, i.searchResultsChart = m.get(), i.showResultsChart = !0, o(function () { r.find(".cheatsheet-search__input-chart").focus() }, 0) }, i.onKeyDownChart = function (e) { { var t, a, n, s; "38" == (e = e || window.event).keyCode ? (i.activeIndexChart = Math.max(0, i.activeIndexChart - 1), e.preventDefault()) : "40" == e.keyCode ? (i.activeIndexChart = Math.min(i.maxResultsChart - 1, Math.min(i.searchResultsChart.length, i.activeIndexChart + 1)), e.preventDefault()) : "13" == e.keyCode && (t = i.searchResultsChart[i.activeIndexChart], a = r.find(".cheatsheet-search__item-chart:eq(" + i.activeIndexChart + ") a"), i.recentSearchesChart = m.add(t), n = { focus: "search-bar", content: [t] }, "undefined" != typeof _nba && _nba.analytics.click(n), s = a.attr("href"), document.location = s, i.searchChart = "", i.showSearchChart = !1, i.showResultsChart = !1) } }, i.onChangeChart = function (e) { (function (e) { if (e.length < 3) return; i.showRecentChart = !1; var t, a = e.toLowerCase().split(" ").filter(function (e) { return !!e.length }), n = g.slice(0), s = v.slice(0), r = S.slice(0); for (t in a) { var o = a[t]; n = n.filter(D.bind("", o)), s = s.filter(P.bind("", o)), r = l("filter")(r, o, !1) } i.searchResultsChart = [].concat(r).concat(n).concat(s), i.hasResultsChart = !!i.searchResultsChart.length, i.showResultsChart = !0 })(i.searchChart), i.activeIndexChart = -1 }, i.onItemClickChart = function (e, t, a) { e.preventDefault(), e.stopPropagation(), i.recentSearchesChart = m.add(t); var n = { focus: "search-bar", content: [t] }; "undefined" != typeof _nba && _nba.analytics.click(n); var s = angular.element(e.target).attr("href"); document.location = s, o(function () { i.showSearchChart = !1, i.showResultsChart = !1 }, 0) }, i.onItemHoverChart = function (e, t, a) { i.activeIndexChart = a }, i.onBlurChart = function (e) { o(function () { i.showSearchChart = !1, i.showResultsChart = !1 }, 100) }; var T = r.data("season-section"); function D(e, t) { var a = "toLowerCase"; return -1 < t.fn[a]().indexOf(e) || -1 < t.ln[a]().indexOf(e) } i.searchYearChart = s.get(T).Season, i.recentSearchesChart.length, a.on("click", function (e) { var t; i.showSearchChart && (t = e.target, $.contains(r.get(0), t) || (i.showSearchChart = !1, i.showResultsChart = !1, i.$apply())) }) } stats.controller("QuickLinksNextController", e), e.$inject = ["$scope", "$element", "$location", "$interval", "$timeout", "$document", "$filter", "LeagueGamelogsService", "SeasonsService", "SplitsService", "StatsWidgetService", "PlayersService", "TeamsService", "RecentSearchesService"] }(), function () { function e(i, r, e, t, o, a, l, n, s, c, u, d, p, m) { var f = p.get().map(function (e, t, a) { var n = e.city + " " + e.name; return angular.extend({}, e, { teamName: n }) }); f.unshift({ teamName: "Select A Team", id: 0 }); i.results = { links: { left: [{ title: "Essential Features", meta: [{ desc: "Sortable Player Stats", url: "/stats/players/traditional/?sort=W&dir=-1" }, { desc: "Sortable Advanced Stats", url: "/stats/players/advanced/?sort=W&dir=-1" }] }, { title: "Tracking", meta: [{ desc: "Drives", url: "/stats/players/drives/" }, { desc: "Passing", url: "/stats/players/passing/" }, { desc: "Rebounding", url: "/stats/players/rebounding/" }] }, { title: "Shooting", meta: [{ desc: "Player Shooting Efficiency", url: "/stats/players/shooting-efficiency/" }, { desc: "Catch and Shoot", url: "/stats/players/catch-shoot/" }, { desc: "Pull Up Shooting", url: "/stats/players/pullup/" }, { desc: "Shot Locations by Zone", url: "/stats/players/shooting/?Season=2021-22&SeasonType=Regular%20Season&DistanceRange=By%20Zone&PerMode=Totals" }] }, { title: "Defense", meta: [{ desc: "Defending Shots Overall", url: "/stats/players/defense-dash-overall/" }, { desc: "Defending 3 Pointers", url: "/stats/players/defense-dash-3pt/" }, { desc: "Defending 2 Pointers", url: "/stats/players/defense-dash-2pt/" }] }] }, teams: f }, i.handleTeamLineUp = function (e) { var t = "/stats/team/" + e.id + "/stats/lineups-traditional/"; window.location = t }, i.handleTeamOnOffCourt = function (e) { var t = "/stats/team/" + e.id + "/stats/onoffcourt-summary/"; window.location = t }, i.selectedFranchiseLeaders = f[0], i.handleSelectFranchiseLeaders = function (e) { var t = "/stats/team/" + e.id + "/stats/franchise-leaders/"; window.location = t }; var h = d.findBy("rs", !0).slice(0), g = d.findBy("rs", !1).slice(0), v = p.get().map(function (e) { return angular.extend({}, e, { type: "tm" }) }); i.search = "", i.searchResults = [], i.recentSearches = m.get(), i.maxResults = 7, i.showSearch = !1, i.showResults = !1, i.hasResults = !1, i.activeIndex = -1, i.totalResults = 0, i.toggleSearch = function () { if (i.showSearch = !i.showSearch, i.showResults = !1, i.showSearchChart = !1, i.showResultsChart = !1, i.showRecentChart = !1, !i.showSearch) return; i.search = "", i.showRecent = !0, i.searchResults = m.get(), i.showResults = !0, o(function () { r.find(".cheatsheet-search__input.player-input").focus() }, 0) }, i.onKeyDown = function (e) { { var t, a, n, s; "38" == (e = e || window.event).keyCode ? (i.activeIndex = Math.max(0, i.activeIndex - 1), e.preventDefault()) : "40" == e.keyCode ? (i.activeIndex = Math.min(i.maxResults - 1, Math.min(i.searchResults.length, i.activeIndex + 1)), e.preventDefault()) : "13" == e.keyCode && (t = i.searchResults[i.activeIndex], a = r.find(".cheatsheet-search__item:eq(" + i.activeIndex + ") a"), i.recentSearches = m.add(t), n = { focus: "search-bar", content: [t] }, "undefined" != typeof _nba && _nba.analytics.click(n), s = a.attr("href"), document.location = s, i.search = "", i.showSearch = !1, i.showResults = !1) } }, i.onChange = function (e) { (function (e) { if (e.length < 3) return; i.showRecent = !1; var t, a = e.toLowerCase().split(" ").filter(function (e) { return !!e.length }), n = h.slice(0), s = g.slice(0), r = v.slice(0); for (t in a) { var o = a[t]; n = n.filter(y.bind("", o)), s = s.filter(y.bind("", o)), r = l("filter")(r, o, !1) } i.searchResults = [].concat(r).concat(n).concat(s), i.hasResults = !!i.searchResults.length, i.showResults = !0 })(i.search), i.activeIndex = -1 }, i.onItemClick = function (e, t, a) { e.preventDefault(), e.stopPropagation(), i.recentSearches = m.add(t); var n = { focus: "search-bar", content: [t] }; "undefined" != typeof _nba && _nba.analytics.click(n); var s = angular.element(e.target).attr("href"); document.location = s, o(function () { i.showSearch = !1, i.showResults = !1 }, 0) }, i.onItemHover = function (e, t, a) { i.activeIndex = a }, i.onBlur = function (e) { o(function () { i.showSearch = !1, i.showResults = !1 }, 100) }; var S = r.data("season-section"); function y(e, t) { var a = "toLowerCase"; return -1 < t.fn[a]().indexOf(e) || -1 < t.ln[a]().indexOf(e) } i.searchYear = s.get(S).Season, i.recentSearches.length, a.on("click", function (e) { var t; i.showSearch && (t = e.target, $.contains(r.get(0), t) || (i.showSearch = !1, i.showResults = !1, i.$apply())) }), i.searchChart = "", i.searchResultsChart = [], i.recentSearchesChart = m.get(), i.maxResultsChart = 7, i.showSearchChart = !1, i.showResultsChart = !1, i.hasResultsChart = !1, i.activeIndexChart = -1, i.totalResultsChart = 0, i.toggleSearchChart = function () { if (i.showSearchChart = !i.showSearchChart, i.showResultsChart = !1, i.showSearch = !1, i.showResults = !1, i.showRecent = !1, !i.showSearchChart) return; i.searchChart = "", i.showRecentChart = !0, i.searchResultsChart = m.get(), i.showResultsChart = !0, o(function () { r.find(".cheatsheet-search__input-chart").focus() }, 0) }, i.onKeyDownChart = function (e) { { var t, a, n, s; "38" == (e = e || window.event).keyCode ? (i.activeIndexChart = Math.max(0, i.activeIndexChart - 1), e.preventDefault()) : "40" == e.keyCode ? (i.activeIndexChart = Math.min(i.maxResultsChart - 1, Math.min(i.searchResultsChart.length, i.activeIndexChart + 1)), e.preventDefault()) : "13" == e.keyCode && (t = i.searchResultsChart[i.activeIndexChart], a = r.find(".cheatsheet-search__item-chart:eq(" + i.activeIndexChart + ") a"), i.recentSearchesChart = m.add(t), n = { focus: "search-bar", content: [t] }, "undefined" != typeof _nba && _nba.analytics.click(n), s = a.attr("href"), document.location = s, i.searchChart = "", i.showSearchChart = !1, i.showResultsChart = !1) } }, i.onChangeChart = function (e) { (function (e) { if (e.length < 3) return; i.showRecentChart = !1; var t, a = e.toLowerCase().split(" ").filter(function (e) { return !!e.length }), n = h.slice(0), s = g.slice(0), r = v.slice(0); for (t in a) { var o = a[t]; n = n.filter(T.bind("", o)), s = s.filter(y.bind("", o)), r = l("filter")(r, o, !1) } i.searchResultsChart = [].concat(r).concat(n).concat(s), i.hasResultsChart = !!i.searchResultsChart.length, i.showResultsChart = !0 })(i.searchChart), i.activeIndexChart = -1 }, i.onItemClickChart = function (e, t, a) { e.preventDefault(), e.stopPropagation(), i.recentSearchesChart = m.add(t); var n = { focus: "search-bar", content: [t] }; "undefined" != typeof _nba && _nba.analytics.click(n); var s = angular.element(e.target).attr("href"); document.location = s, o(function () { i.showSearchChart = !1, i.showResultsChart = !1 }, 0) }, i.onItemHoverChart = function (e, t, a) { i.activeIndexChart = a }, i.onBlurChart = function (e) { o(function () { i.showSearchChart = !1, i.showResultsChart = !1 }, 100) }; var P = r.data("season-section"); function T(e, t) { var a = "toLowerCase"; return -1 < t.fn[a]().indexOf(e) || -1 < t.ln[a]().indexOf(e) } i.searchYearChart = s.get(P).Season, i.recentSearchesChart.length, a.on("click", function (e) { var t; i.showSearchChart && (t = e.target, $.contains(r.get(0), t) || (i.showSearchChart = !1, i.showResultsChart = !1, i.$apply())) }) } stats.controller("QuickLinksPlayersNextController", e), e.$inject = ["$scope", "$element", "$location", "$interval", "$timeout", "$document", "$filter", "LeagueGamelogsService", "SeasonsService", "SplitsService", "StatsWidgetService", "PlayersService", "TeamsService", "RecentSearchesService"] }(), stats.service("AnalyticsService", function () { return { googs: function (e, t, a) { "undefined" != typeof ga && ga("send", "event", e, t, a) } } }), stats.factory("DeepLinksFactory", ["$location", function (s) { var e = { getSearchURL: function (e) { return e ? s.search()[e] : s.search() }, setSearchURL: function (e) { var t, a = e || {}; for (t in a) s.search(t, a[t]) }, resetSearchURL: function (e) { for (var t = e || Object.keys(s.search()), a = t.length, n = 0; n < a; n++)s.search(t[n], null) }, hasSearchURL: function () { return 0 < Object.keys(s.search()).length }, getHashURL: function () { return s.hash() }, setHashURL: function (e) { s.hash(e) }, resetHashURL: function () { s.hash(null) }, getFullURL: function () { return s.absUrl() }, getPath: function () { return s.path() }, setPath: function (e) { s.path(e) } }; return e }]), function () { function e(e) { var a = !1, r = { pageLoad: { desc: "track page load event for team and player pages", props: ["playerName", "playerId", "teamId", "teamName"], defaultProps: {} }, homeDailyLeadersTab: { desc: "track homepage daily leaders tab click", props: "interactionName", defaultProps: { interactionType: "tab click", interactionName: "", event: "interaction - tab click" } }, homeSeasonLeadersTab: { desc: "track homepage season leaders tab click", props: "interactionName", defaultProps: { interactionType: "tab click", interactionName: "", event: "interaction - tab click" } }, navigation: { desc: "user changes the Primary, secondary or tertiary inline nav component", props: "statsNavigationRefinement", defaultProps: { statsNavigationRefinement: "", event: "navigation refinement" } }, setCustomFilter: { desc: "user sets a custom Filter", props: ["customFilter", "numFiltersUsed"], defaultProps: { event: "custom filter" } }, setFilter: { desc: "user sets a standard or advanced filter", props: ["filter", "numFiltersUsed"], defaultProps: { event: "standard filter" } }, scoresPageTab: { desc: "A user click on a tab on the scores pages", props: "interactionName", defaultProps: { interactionType: "tab click", interactionName: "<<date_game_tabname>>", event: "interaction - tab click" } }, scoresPageLink: { desc: "user clicks on a link on the scores page, links below the box score", props: "interactionName", defaultProps: { interactionType: "link click", interactionName: "", event: "interaction - link click" } }, fantasyCompareTool: { desc: "user compares players with the fantasy compare tool", props: "impactComparePlayer", defaultProps: { impactComparePlayer: "", event: "fantasy compare" } }, compareToolPlayerVsPlayer: { desc: "user compares players with the compare tool", props: "impactComparePlayer", defaultProps: { event: "compare tool" } }, compareToolTeamVsPlayer: { desc: "user compares team vs player with the compare tool", props: ["impactComparePlayer", "impactCompareTeam"], defaultProps: { event: "compare tool" } }, compareImpact: { desc: "user compares players/teams with the impact tool", props: ["impactComparePlayer", "impactCompareTeam"], defaultProps: { event: "impact tool" } }, share: { desc: "user clicks share on share bar directive", props: "interactionName", defaultProps: { interactionType: "social share", interactionName: "", event: "interaction - social share" } }, shotchartSave: { desc: "user clicks save on a shot chart", defaultProps: { interactionType: "download", interactionName: "shot chart", event: "interaction - download" } }, playerProfileGLeagueLink: { desc: "user clicks on g league profile link in player summary header", props: ["playerId", "playerName"], defaultProps: { interactionType: "click", interactionName: "NBA G League Stats", playerId: "", playerName: "", event: "interaction - NBA G League click" } }, homepageLiveScoresLink: { desc: "user clicks on the live scores link in the homepage daily leaders module", defaultProps: { interactionType: "click", interactionName: "live scores", event: "interaction - live scores click" } }, viewInfographic: { desc: "user clicks save on a shot chart", props: "interactionName", defaultProps: { interactionType: "infographic", interactionName: "", event: "interaction - infographic" } }, rtpHub: { desc: "user click a link on the rtp hub", props: ["interactionType", "interactionName"], defaultProps: { event: "interaction", interactionType: "", interactionName: "" } }, scheduleRtp: { desc: "user click more details link on schedule rtp notice", props: ["interactionName"], defaultProps: { event: "interaction", interactionType: "rtp:schedule", interactionName: "" } }, standingsRtp: { desc: "user click more details link on standings rtp notice", props: ["interactionName"], defaultProps: { event: "interaction", interactionType: "rtp:standings", interactionName: "" } } }; function o(e) { a && console.error(" DTM Service Error: " + e) } function i(e) { var t = "", a = ""; if ("t" === e) return (t = "stats.nba.com:") + (a = location.pathname.replace(/#/g, "").replace(/\/$/, "")) + "/"; if ("n" !== e) return null; var n, t = "us:stats"; return (a = location.pathname.replace(/#/g, "").replace(/\/$/, "").replace(/\//gi, ":")).includes("scores") && !a.includes("boxscores") && (a = ":" + (n = a.split(":"))[1] + ":" + n.slice(-3).join("")), "" !== a && ":" !== a || (a = ":main"), t + a } return { triggerEvent: function (e, t) { var n, s; e && ((n = r[e]) ? !n.props || t ? (s = angular.extend({}, n.defaultProps), n.props && (Array.isArray(t) ? t.forEach(function (e, t) { var a; e && (a = n.props[t], s[a] = e + "") }) : s[n.props] = t), a && (console.warn("----"), console.warn(" DTM: " + e + " event triggered with props: " + t), console.warn(" New digital data: ", window.digitalData), console.warn("----")), function (e) { { var t; window._satellite ? (t = function () { var e = function () { var e = location.pathname.replace(/#/g, "").replace(/\/$/, "").replace(/\//gi, ":"); e = "" === e || ":" === e ? "main" : e.split(":")[1]; return "stats.nba.com:" + e }(), t = i("t"), a = i("n"), n = function (e) { if (e) for (var t = 0; t < e.split(";").length; t++) { var a = e[t]; if (-1 !== a.indexOf("aam_uuid")) return a.split("=")[1] } return "" }(document.cookie); return { tPageName: t, nPageName: a, tChannel: e, nChannel: e, registeredUser: "", page: { pageInfo: { uuid: n } } } }(), window.digitalData = angular.extend({}, window.digitalData, t, e)) : o("DTM package not detected. window._satellite object not found.") } }(s)) : o("Event is missing required props.") : o("Event does not exist.")) }, setCustomFilterProps: function (e) { return ["[" + e.map(function (e) { if (e.text) return e.text.replace(/ /g, "") }).join(",") + "]", e.length] }, setFilterProps: function (s) { var e = Object.keys(s).reduce(function (e, t) { var a, n = s[t]; return n.default !== n.selected.val && (a = t + "=" + n.selected.val, e.push(a)), e }, []); return ["[" + e.join(", ") + "]", e.length + ""] }, parseMenuOptions: function (t, a, e) { var n = ""; return Object.keys(t).forEach(function (e) { !0 === t[e] && (n = e) }), Object.keys(a).forEach(function (e) { !0 === a[e] && (n = e) }), "main menu: " + [n, "", e].filter(function (e) { return "" !== e }).join(" | ") } } } stats.service("DtmService", e), e.$inject = ["$http"] }(), function () { function e(e, t, s) { var r = t.get("playerList"), a = window.stats_ptsd, o = {}, n = (a && a.data && a.data.players ? a.data.players : []).map(function (e) { var t, a = {}, n = e[1].split(","); return a.id = e[0], a.name = e[1], a.fn = (n[1] || "").trim(), a.ln = (n[0] || "").trim(), a.rs = 1 === e[2], a.gp = "Y" === e[6], a.from = +e[3], a.to = +e[4], a.type = "pl", a.active = a.to >= r.SeasonYear, e[5] && (t = s.getById(e[5]), a.tid = t.id, a.ta = t.abbr, a.tc = t.city, a.tn = t.name), o[a.id] = a }); return { get: function (e) { return e ? n.filter(function (e) { return e.rs }) : n }, getById: function (e) { return o[e] }, findBy: function (t, a) { return n.filter(function (e) { return e[t] === a }) } } } stats.factory("PlayersService", e), e.$inject = ["$filter", "SeasonsService", "TeamsService"] }(), function () { function e(s, i, r) { var o = {}, l = {}; function c(t, e) { var a, n = e ? "initial" : "default"; return "select" === t.type || "combo" === t.type ? a = t.options.find(function (e) { return e.val == t[n] }) : "number" === t.type || "datepicker" === t.type || "multi" === t.type ? a = { val: t[n], text: t[n], key: t.name, label: t.label } : "async" === t.type && (a = { val: t[n], text: t[n], key: t.name, label: t.label, isLoaded: !1 }), a } function u(t) { t.options.forEach(function (e) { e.key = t.name, e.label = t.label }) } function d(e) { var t = angular.extend({}, angular.copy(r[e.name]), e); return t ? ("toggle" === t.type && (t.initial = i.search()[t.name] || t.initial || t.default, t.selected = { key: t.name, label: t.name, text: t.initial, val: t.initial }), e.hasOwnProperty("default") && (t.default = e.default), e.range && (t.options = function (e, t) { for (var a = [], n = t; e <= n; --n)a.push({ val: n, text: n }); return a }(parseInt(e.range[0], 10), parseInt(e.range[1], 10))), e.seasonRange && (t.options = function (e, t) { for (var a = [], n = t; e <= n; --n)a.push({ val: s("seasonyear")(n), text: s("seasonyear")(n) }); return a }(parseInt(e.seasonRange[0], 10), parseInt(e.seasonRange[1], 10))), e.without && (t.options = t.options.filter(function (e) { return -1 === this.indexOf(e.val) }.bind(e.without))), e.include && (t.options = t.options.concat(e.include)), e.includeBefore && (t.options = e.includeBefore.concat(t.options)), e.as && (e.name = e.as, t.name = e.name), void 0 !== i.search()[t.name] ? t.initial = i.search()[t.name] : e.initial ? t.initial = e.initial : t.initial = t.default, "select" !== t.type && "search" !== t.type || (u(t), t.selected = c(t, !0)), t) : e } return { get: function (e) { for (var t in o = {}, l = {}, e) { var a, n = e[t]; "string" == typeof n ? (o[n] = function (e) { var a, t = angular.copy(r[e]), n = i.search()[e]; return t && ("select" === t.type ? (t.initial = n || t.default, u(t), t.selected = c(t, !0)) : "datepicker" === t.type ? n && (t.selected = { val: n, text: t.label + " : " + n, key: t.name, label: t.label }) : "number" === t.type ? n && (t.selected = { val: +n, text: t.label + " : " + +n, key: t.name, label: t.label }) : "multi" === t.type ? (a = i.search()[e] ? i.search()[e].split(",") : t.default, t.selected = t.options.reduce(function (e, t) { return -1 < a.indexOf(t.val) && e.push(t), e }, [])) : "async" === t.type && n && (t.selected = { val: +n, text: +n })), t }(n), o[n] ? l[n] = o[n].selected.val : l[n] = i.search()[n]) : "object" === _typeof(n) && (a = d(n), o[a.name] = a, o[n.name].selected && (n.param ? l[n.param] = o[n.name].selected.val : l[n.name] = o[n.name].selected.val)) } return { splits: o, params: l } }, findDefault: c, runSplits: function (e, t) { var a, n = []; for (a in e) { var s, r = e[a], o = r.selected.val; o == r.default && "SeasonType" != a && "Season" != a ? i.search(a, null) : (i.search(a, o), delete (s = angular.extend({}, r.selected)).$$hashKey, n.push(s)), t[a] = o } return n } } } stats.factory("QuerytoolSplitsService", e), e.$inject = ["$filter", "$location", "QuerytoolSplits"] }(), stats.service("RecentFiltersService", function () { var a = "stats-recent-filters", n = JSON.stringify, s = JSON.parse, r = !1; if ("object" === ("undefined" == typeof localStorage ? "undefined" : _typeof(localStorage))) try { localStorage.setItem("localStorage", 1), localStorage.removeItem("localStorage"), r = !0 } catch (e) { r = !1 } r && !localStorage.getItem(a) && localStorage.setItem(a, n([])); return { get: function () { return r ? s(localStorage.getItem(a)) : [] }, add: function (e) { if (!r) return []; var t = s(localStorage.getItem(a)); return t.unshift(e), t = t.slice(0, 10), localStorage.setItem(a, n(t)), t } } }), function () { function e(n) { var s = "stats-recent-searches", r = JSON.stringify, o = JSON.parse, i = !1; if ("object" === ("undefined" == typeof localStorage ? "undefined" : _typeof(localStorage))) try { localStorage.setItem("localStorage", 1), localStorage.removeItem("localStorage"), i = !0 } catch (e) { i = !1 } return i && !localStorage.getItem(s) && localStorage.setItem(s, r([])), { get: function () { return i ? o(localStorage.getItem(s)) : [] }, add: function (e) { if (!i) return []; e.$$hashKey && delete e.$$hashKey; var t = o(localStorage.getItem(s)); t.unshift(e); var a = (a = n("uniqueKey")(t, "id")).slice(0, 5); return localStorage.setItem(s, r(a)), a } } } stats.service("RecentSearchesService", e), e.$inject = ["$filter"] }(), function () { function e(e, t) { var a = {}, n = t.navigator.userAgent, s = ""; e.search() ? s = e.search().rfr || "" : console.warn("stats referrer not found here"); var r = s.split(":"); a.isExternal = "nba" === r[0], a.refSection = r[1], window.esi_ ? (angular.extend(a, window.esi_), a.isDomestic = "US" == a.country || "CA" == a.country) : (a.isDomestic = !0, a.country = "US"); var o = new Date; o.getUTCHours() < 18 && o.setUTCDate(o.getUTCDate() - 1); var i = new Date(o.getUTCFullYear(), o.getUTCMonth(), o.getUTCDate()); return a.gameDate = i, a.isMobile = /(iphone|ipod|android|blackberry|opera.mobi)/gi.test(n), a.browserType = function () { var e, t = { chrome: /chrome/i, safari: /safari/i, firefox: /firefox/i, ie: /trident/i }; for (e in t) if (t[e].test(n)) return e; return "unknown" }(), a } stats.service("ReferrerService", e), e.$inject = ["$location", "$window"] }(), function () { function e(a) { var e = window.stats_ptsd, n = {}; (e && e.data && e.data.seasons ? e.data.seasons : []).map(function (e) { var t = {}; return t.Section = e[0], t.LeagueID = e[1], t.LeagueName = a("leagueIdToName")(e[1]), t.Season = a("seasonyear")(e[2]), t.SeasonYear = e[2], t.SeasonType = a("seasonTypeIdToSeasonType")(e[3]), t.SeasonTypeId = a("padLeft")(e[3], 2, "0"), t.SeasonTypeInt = +e[3], t.SeasonFrom = a("seasonyear")(e[4]), t.SeasonYearFrom = e[4], t.Flags = function (e) { if (!Array.isArray(e)) return; var s = {}; return e.forEach(function (e) { var t = e[0], a = e[1], n = e[2]; s[t] = a && n ? n : a }), s }(e[5]), n[t.Section] = t }); return { get: function (e) { var t = n[e]; return t || n.site } } } stats.service("SeasonsService", e), e.$inject = ["$filter"] }(), function () { function e(n, s) { return { getLinks: function (t) { var a = n.defer(), e = { url: t }; return s.post("https://a.data.nba.com/nba/shortlinks", e).then(function (e) { var t = e.data; a.resolve(t) }).catch(function (e) { a.resolve(t) }), a.promise } } } stats.service("SocialService", e), e.$inject = ["$q", "$http"] }(), function () { function e(n, l, c) { var u = {}, d = {}; function p(t, e) { var a, n = e ? "initial" : "default"; return "select" === t.type || "combo" === t.type ? a = t.options.find(function (e) { return e.val == t[n] }) : "number" === t.type || "datepicker" === t.type || "text" === t.type || "pseudo" === t.type ? a = { val: t[n], text: t[n], key: t.name, label: t.label } : "toggle" === t.type && (a = { val: t[n], text: t.label + ": " + t[n], key: t.name, label: t.label }), a } function m(t) { t.options.forEach(function (e) { e.key = t.name, e.label = t.label }) } function f(e) { var t, a = angular.extend({}, angular.copy(c[e.name]), e); return "pseudo" === (a = a || e).type ? (a.initial = l.search()[a.name] || a.default, a.selected = { key: a.name, label: a.name, text: a.initial, val: a.initial }) : ("toggle" === a.type && (a.initial = l.search()[a.name] || a.initial || a.default, a.selected = { key: a.name, label: a.name, text: a.initial, val: a.initial }), e.hasOwnProperty("default") && (a.default = e.default), e.range && (a.options = n("range")(+e.range[0], +e.range[1]).map(function (e) { return { val: e, text: e } }).reverse()), e.seasonRange && (a.options = n("range")(+e.seasonRange[0], +e.seasonRange[1], "seasonyear").map(function (e) { return { val: e, text: e, num: parseInt(e.substr(0, 4)) } }).reverse()), e.without && (a.options = a.options.filter(function (e) { return -1 === this.indexOf(e.val) }.bind(e.without))), e.include && (a.options = a.options.concat(e.include)), e.includeBefore && (a.options = e.includeBefore.concat(a.options)), e.as && (e.name = e.as, a.name = e.name), void 0 !== l.search()[a.name] ? a.initial = l.search()[a.name] : e.initial ? a.initial = e.initial : a.initial = a.default, "select" !== a.type && "search" !== a.type || (m(a), t = p(a, !0), a.selected = t || a.options[0])), a } return { get: function (e) { for (var t in u = {}, d = {}, e) { var a, n = e[t]; "string" == typeof n ? (u[n] = (s = n, i = o = r = void 0, o = angular.copy(c[s]), i = l.search()[s], o && ("select" === o.type || "search" === o.type ? (o.initial = i || o.default, m(o), r = p(o, !0), o.selected = r || o.options[0]) : "datepicker" === o.type || "text" === o.type || "toggle" === o.type ? i && (o.selected = { val: i, text: o.label + ": " + i, key: o.name, label: o.label }) : "number" === o.type && i && (o.selected = { val: +i, text: o.label + ": " + +i, key: o.name, label: o.label })), o), u[n] ? d[n] = u[n].selected.val : d[n] = l.search()[n] || "") : "object" === _typeof(n) && (a = f(n), u[a.name] = a, u[n.name].selected ? n.param ? d[n.param] = u[n.name].selected.val : d[n.name] = u[n.name].selected.val : (d[n.name] = n.initial, u[n.name] = n)) } var s, r, o, i; return { splits: u, params: d } }, findDefault: p, findOptionByValue: function (e, t, a) { var n = c[e]; if (a = a || "val", n && n.options) return n.options.find(function (e) { return e[a] === t }) }, runSplits: function (e, t) { var a, n = []; for (a in e) { var s, r, o = e[a]; o && o.selected && ((s = o.selected.val) == o.default && "SeasonType" != a && "Season" != a ? l.search(a, null) : (l.search(a, s), delete (r = angular.extend({}, o.selected)).$$hashKey, n.push(r)), t[a] = s) } return n } } } stats.factory("SplitsService", e), e.$inject = ["$filter", "$location", "SPLITS"] }(), function () { function e(a) { var n = ["", "Eastern", "Western"], s = ["", "Atlantic", "Central", "Northwest", "Pacific", "Southeast", "Southwest"], e = window.stats_ptsd, r = {}, o = {}, i = {}, l = (e && e.data && e.data.teams ? e.data.teams : []).map(function (e) { var t = {}; return t.id = e[0], t.abbr = e[1], t.code = e[2], t.city = e[3], t.name = e[4], t.conference = n[e[5]], t.division = s[e[6]], t.special = 1 === e[7], t.Season = a("seasonyear")(e[8]), t.seasonyear = e[8], t.SeasonType = a("seasonTypeIdToSeasonType")(e[9]), t.color = e[10][0], t.colors = e[10], r[t.id] = t, o[t.code] = t, i[t.abbr] = t }); return l = a("orderBy")(l, "city"), { get: function (e) { return e ? l : l.filter(function (e) { return !e.special }) }, getByAbbr: function (e) { return i[e] }, getByCode: function (e) { return o[e] }, getById: function (e) { return r[e] }, findBy: function (t, a) { return l.filter(function (e) { return e[t] === a }) } } } stats.factory("TeamsService", e), e.$inject = ["$filter"] }(), function () { function e(s, r, o) { function a(e) { var t = o.defer(), a = "/stats/js/data/draftcombine/" + e + "_gamedetail.json"; return s.get(a, { cache: !1 }).then(function (e) { t.resolve(e.data.g) }).catch(function (e) { t.reject({ error: "no game data" }) }), t.promise } function n(e, t) { var a = o.defer(), n = "/stats/js/data/draftcombine/" + e + "_" + t + "_pbp.json"; return s.get(n, { cache: !1 }).then(function (e) { a.resolve(e.data.g) }).catch(function (e) { console.error("pbp error fetch", n), a.resolve({ error: "no pbp data" }) }), a.promise } return { get: function (e) { var s = o.defer(), t = [a(e), n(e, 1), n(e, 2)]; return o.all(t).then(function (e) { var t, a, n = ((a = {}).game = (t = e)[0], a.period = a.game.p, a.hls = a.game.hls, a.vls = a.game.vls, a.pbps = t.slice(1), a.plays = [], a.pbps.forEach(function (t) { t && !t.error && t.pla && t.pla.length && (t.pla.forEach(function (e) { e.p = t.p, e.decimalTime = r("decimalTime")(e.p, e.cl) }), a.plays = a.plays.concat(t.pla)) }), a); s.resolve(n) }).catch(function (e) { s.reject(e) }), s.promise }, getGameDetails: a, getPlayByPlay: n } } stats.service("CombineScrimmageService", e), e.$inject = ["$http", "$filter", "$q"] }(), function () { function e(n, s) { return { get: function (e) { var a = n.defer(), t = "https://data.nba.net/data/5s/prod/draft/".concat(e.Season, "/draft_pick.json"); return s.get(t, { cache: !1 }).then(function (e) { var t = e.data; a.resolve(t) }).catch(function (e) { a.reject(e) }), a.promise } } } stats.service("DraftboardService", e), e.$inject = ["$q", "$http"] }(), function () { function e(o, i, l, e) { var t = e.get("site"), c = { league: t.LeagueName.toLowerCase(), season: t.SeasonYear, cache: !1 }; function u(e, t) { e.id = t, e.memo = e.memo || "" } return { get: function (e, t) { var s = l.defer(), a = o("gameIdToObject")(e); c.season = a.seasonyear, c.league = a.league; var n = angular.extend({}, c, t), r = "https://data.nba.com/data/10s/v2015/json/mobile_teams/".concat(n.league.toLowerCase(), "/").concat(n.season, "/scores/gamedetail/").concat(e, "_gamedetail.json"); return i.get(r, { cache: n.cache }).then(function (e) { var t, a = e.data, n = ((t = a.g).hls.pstsg && t.vls.pstsg ? (t.hls.pstsg.forEach(u), t.vls.pstsg.forEach(u)) : (t.vls.pstsg = [], t.hls.pstsg = []), t); s.resolve(n) }).catch(function (e) { s.reject(e) }), s.promise } } } stats.service("MobileGameDetailService", e), e.$inject = ["$filter", "$http", "$q", "SeasonsService"] }(), function () { function e(r, e, o) { return { get: function (e, t, a) { var n = o.defer(), s = "https://data.nba.net/data/10s/prod/v1/".concat(t, "/").concat(e, "_lead_tracker_").concat(a, ".json"); return r.get(s, { cache: !1 }).then(function (e) { var t = e.data; n.resolve(t.plays) }), n.promise } } } stats.service("MobileLeadTrackerService", e), e.$inject = ["$http", "$filter", "$q"] }(), function () { function e(r, o, i, e) { var t = e.get("site"), l = { league: t.LeagueName, season: t.SeasonYear, cache: !1 }; return { get: function (e, t) { var n = i.defer(), a = angular.extend({}, l, t), s = "https://data.nba.com/data/10s/v2015/json/mobile_teams/".concat(a.league.toLowerCase(), "/").concat(a.season, "/scores/pbp/").concat(e, "_full_pbp.json"); return r.get(s, a.cache).then(function (e) { var t = e.data.g, a = t.pd.reduce(function (e, t) { return t.pla.forEach(function (e) { e.p = t.p, e.decimalTime = o("decimalTime")(e.p, e.cl) }), e = e.concat(t.pla) }, []); n.resolve(a) }), n.promise } } } stats.service("MobilePlayByPlayService", e), e.$inject = ["$http", "$filter", "$q", "SeasonsService"] }(), function () { function e(s, r, e) { var t = e.get("site"), o = { league: t.LeagueName, leagueid: t.LeagueID, season: t.SeasonYear, cache: !0 }; return { get: function (e) { var a = r.defer(), t = angular.extend({}, o, e), n = "https://data.nba.com/data/10s/v2015/json/mobile_teams/".concat(t.league.toLowerCase(), "/").concat(t.season, "/players/").concat(t.leagueid, "_player_info.json"); return s.get(n, { cache: t.cache }).then(function (e) { var t = e.data.pls.pl; a.resolve(t) }).catch(function (e) { a.reject(e) }), a.promise } } } stats.service("MobilePlayerInfoService", e), e.$inject = ["$http", "$q", "SeasonsService"] }(), function () { function e(e, o, i) { var l = { league: "nba", leagueId: "00", cache: !1 }; return { get: function (e, t, a) { var n = i.defer(), s = angular.extend({}, l, a), r = ["https://data.nba.com/data/10s/v2015/json/mobile_teams/", s.league, "/", e, "/league/", s.leagueId, "_league_schedule_", t, ".json"].join(""); return o.get(r, { cache: s.cache }).then(function (e) { var t = e.data; t.scd ? n.resolve(t.scd.g) : t.mscd.g && n.resolve(t.mscd.g) }).catch(function (e) { console.error("error fetching schedule data", r), n.resolve([]) }), n.promise } } } stats.service("MobileScheduleService", e), e.$inject = ["$filter", "$http", "$q"] }(), function () { function e(e, r, o) { var i = { league: "nba", leagueId: "00", cache: !0 }; return { get: function (e, t) { var a = o.defer(), n = angular.extend({}, i, t), s = ["wnba" === n.league.toLowerCase() ? "https://data.wnba.com/data/10s/v2015/json/mobile_teams/" : "https://data.nba.com/data/10s/v2015/json/mobile_teams/", "gleague" === n.league.toLowerCase() || "g league" === n.league.toLowerCase() ? "dleague" : n.league, "/", e, "/league/", n.leagueId, "_full_schedule.json"].join(""); return r.get(s, n.cache).then(function (e) { var t = e.data.lscd.reduce(function (e, t) { return e = e.concat(t.mscd.g) }, []); t.forEach(function (e) { e.gmonth = +e.gdte.substr(5, 2), e.st = +e.st }), a.resolve(t) }).catch(function (e) { console.error("error fetching schedule data", s), a.resolve([]) }), a.promise } } } stats.service("MobileSeasonScheduleService", e), e.$inject = ["$filter", "$http", "$q"] }(), function () { function e(e, r, o) { var i = { league: "nba", leagueId: "00", cache: !0 }; return { get: function (e, t) { var s = o.defer(), a = angular.extend({}, i, t), n = ["https://data.nba.com/data/10s/v2015/json/mobile_teams/", a.league, "/", e, "/league/", a.leagueId, "_full_schedule_week.json"].join(""); return r.get(n, { cache: a.cache }).then(function (e) { var t, a = e.data, n = a.lscd.reduce(function (e, t) { return e = e.concat(t.mscd.g) }, []); n.forEach(function (e) { e.gmonth = +e.gdte.substr(5, 2), e.st = +e.st }), a && a.lws && a.lws.length && (t = a.lws.map(function (e) { var t = e.from + "", a = e.to + ""; return { week: +e.week, from: t.substr(0, 4) + "-" + t.substr(4, 2) + "-" + t.substr(6, 2), to: a.substr(0, 4) + "-" + a.substr(4, 2) + "-" + a.substr(6, 2) } })), s.resolve({ games: n, weeks: t }) }).catch(function (e) { console.error("error fetching schedule data", n), s.resolve({ games: [], weeks: [] }) }), s.promise } } } stats.service("MobileSeasonScheduleWeekService", e), e.$inject = ["$filter", "$http", "$q"] }(), function () { function e(e, r, o) { var i = { league: "nba", leagueId: "00", cache: !0 }; return { get: function (e, t) { var s = o.defer(), a = angular.extend({}, i, t), n = ["https://data.nba.com/data/10s/v2015/json/mobile_teams/", a.league, "/", e, "/league/", a.leagueId, "_full_schedule_week_tbds.json"].join(""); return r.get(n, { cache: a.cache }).then(function (e) { var t, a = e.data, n = a.lscd.reduce(function (e, t) { return e = e.concat(t.mscd.g) }, []); n.forEach(function (e) { e.gmonth = +e.gdte.substr(5, 2), e.st = +e.st }), a && a.lws && a.lws.length && (t = a.lws.map(function (e) { var t = e.from + "", a = e.to + ""; return { week: +e.week, from: t.substr(0, 4) + "-" + t.substr(4, 2) + "-" + t.substr(6, 2), to: a.substr(0, 4) + "-" + a.substr(4, 2) + "-" + a.substr(6, 2) } })), s.resolve({ games: n, weeks: t }) }).catch(function (e) { console.error("error fetching schedule data", n), s.resolve({ games: [], weeks: [] }) }), s.promise } } } stats.service("MobileSeasonScheduleWeekTBDService", e), e.$inject = ["$filter", "$http", "$q"] }(), function () { function e(e, s, r) { return { get: function (e, t) { var a = r.defer(), n = ["https://data.nba.com/data/10s/v2015/json/mobile_teams/nba/", t, "/teams/", e, "_schedule.json"].join(""); return s.get(n, { cache: !0 }).then(function (e) { var t = e.data.gscd.g; a.resolve(t) }), a.promise } } } stats.service("MobileTeamScheduleService", e), e.$inject = ["$filter", "$http", "$q"] }(), function () { function e(v, S, y) { var P = "https://data.nba.com/data/v2015/json/mobile_teams/"; function T(e) { var r = { avg: [], tot: [] }; return e.pl.forEach(function (e) { var t, a = { fn: e.fn, ln: e.ln, pid: e.pid, pos: e.pos }, n = angular.extend({}, e.avg, a), s = angular.extend({}, e.tot, a); (t = s).fgpct = t.fgm / t.fga || 0, t.tppct = t.tpm / t.tpa || 0, t.ftpct = t.ftm / t.fta || 0, r.avg.push(n), r.tot.push(s) }), r } return { get: function (e, t, a, n) { var s, r, o, i, l, c, u, d, p, m, f, h = y.defer(), g = [(u = e, d = t, p = a, m = y.defer(), f = [P, p.toLowerCase(), "/", d, "/teams/", u, "_roster.json"].join(""), S.get(f).then(function (e) { var t, a = ((t = e.data.t).pl.forEach(function (e) { e.birthday = v("date")(e.dob, "MMM dd, yyyy").toUpperCase(), e.htInches = v("toInches")(e.ht), e.exp = e.y ? e.y : "R" }), t); m.resolve(a) }).catch(function (e) { m.reject("Mobile Team Service: Team Roster Feed Error: \n" + e) }), m.promise), (s = e, r = t, o = a, i = n, l = y.defer(), c = [P, o.toLowerCase(), "/", r, "/teams/", s, "/player_averages_", i, ".json"].join(""), S.get(c).then(function (e) { var t = T(e.data.tpsts); l.resolve(t) }).catch(function (e) { l.reject("Mobile Team Service: Team Player Averages Feed Error: \n" + e) }), l.promise)]; return y.all(g).then(function (e) { var t = { roster: e[0], stats: e[1] }; h.resolve(t) }).catch(function (e) { console.error(e) }), h.promise } } } stats.service("MobileTeamService", e), e.$inject = ["$filter", "$http", "$q"] }(), function () { function e(e, n, s) { return { get: function (e) { var a = s.defer(), t = ["https://data.nba.com/data/10s/v2015/json/mobile_teams/nba/", e, "/league/00_league_tickets.json"].join(""); return n.get(t, { cache: !0 }).then(function (e) { var t = e.data; a.resolve(t.gtls) }), a.promise } } } stats.service("MobileTicketLinksService", e), e.$inject = ["$filter", "$http", "$q"] }(), function () { function e(n, s) { return { get: function (e) { var a = n.defer(), t = "https://data.nba.com/data/5s/json/bios/player_" + e + ".json"; return s.get(t, { cache: !0 }).then(function (e) { var t = e.data; a.resolve(t) }), a.promise } } } stats.service("PlayerBioService", e), e.$inject = ["$q", "$http"] }(), function () { function e(a) { return { get: function (e) { var t = "https://data.nba.com/data/10s/v2015/json/mobile_teams/nba/".concat(e, "/scores/00_playoff_bracket.json"); return a.get(t) } } } stats.service("PlayoffBracketsService", e), e.$inject = ["$http"] }(), function () { function e(n, e) { var s = { season: e.get("site").SeasonYear, league: "nba", leagueId: "00", cache: !1 }; return { get: function (e) { var t = angular.extend({}, s, e), a = ["wnba" === t.league.toLowerCase() ? "https://data.wnba.com/data/10s/v2015/json/mobile_teams/" : "https://data.nba.com/data/10s/v2015/json/mobile_teams/", "gleague" === t.league.toLowerCase() || "g league" === t.league.toLowerCase() ? "dleague" : t.league, "/", t.season, "/scores/", t.leagueId, "_todays_scores.json"].join(""); return n({ method: "GET", url: a, cache: t.cache }) } } } stats.service("TodaysScoresService", e), e.$inject = ["$http", "SeasonsService"] }(), stats.service("QuerytoolDtmService", function () { var a = !1, r = { boxScoreSearch: { desc: "A user performs a box score search (Custom Filter)", props: ["customFilter", "numFiltersUsed"], defaultProps: { event: "score search" } }, playerStreakSearch: { desc: "A user performs a player streak search (Custom Filter)", props: ["customFilter", "numFiltersUsed"], defaultProps: { event: "player streak search" } }, teamStreakSearch: { desc: "A user performs a team streak search (Custom Filter)", props: ["customFilter", "numFiltersUsed"], defaultProps: { event: "team streak search" } } }; function o(e) { a && console.log(" DTM Service Error: " + e) } function i(e) { var t = "", a = ""; if ("t" === e) return (t = "stats.nba.com:") + (a = location.pathname.replace(/#/g, "").replace(/\/$/, "")) + "/"; if ("n" !== e) return null; var n, t = "us:stats"; return (a = location.pathname.replace(/#/g, "").replace(/\/$/, "").replace(/\//gi, ":")).includes("scores") && !a.includes("boxscores") && (a = ":" + (n = a.split(":"))[1] + ":" + n.slice(-3).join("")), "" !== a && ":" !== a || (a = ":main"), t + a } return { triggerEvent: function (e, t) { var n, s; e && ((n = r[e]) ? !n.props || t ? (s = angular.extend({}, n.defaultProps), n.props && (Array.isArray(t) ? t.map(function (e, t) { var a; e && (a = n.props[t], s[a] = e + "") }) : s[n.props] = t), a && (console.log("----"), console.log(" DTM: " + e + " event triggered with props: " + t), console.log(" New digital data: ", window.digitalData), console.log("----")), function (e) { { var t; window._satellite ? (t = function () { var e = function () { var e = location.pathname.replace(/#/g, "").replace(/\/$/, "").replace(/\//gi, ":"); e = "" === e || ":" === e ? "main" : e.split(":")[1]; return "stats.nba.com:" + e }(), t = i("t"), a = i("n"); return { tPageName: t, nPageName: a, tChannel: e, nChannel: e, registeredUser: "" } }(), window.digitalData = angular.extend({}, window.digitalData, t, e)) : o("DTM package not detected. window._satellite object not found.") } }(s)) : o("Event is missing required props.") : o("Event does not exist.")) }, setFilterProps: function (s) { var e = Object.keys(s).reduce(function (e, t) { var a = s[t], n = ""; return Array.isArray(a.default) && Array.isArray(a.selected) ? "" === a.default[0] && 0 !== a.selected.length && a.default[0] !== a.selected[0] && (n = t + "=" + a.selected[0].val, e.push(n)) : "object" === _typeof(a) ? Array.isArray(a.selected) || a.default === a.selected.val || (n = t + "=" + a.selected.val, e.push(n)) : (n = t + "=" + a, e.push(n)), e }, []); return ["[" + e.join(", ") + "]", e.length + ""] } } }), function () { function e(t) { var a = "leaguegamefinder"; function n(e) { return e.sets[0].rows } return { endpoint: a, params: {}, splits: {}, get: function (e) { return t.get(a, e, n) }, transform: n } } stats.service("GameFinderService", e), e.$inject = ["HanaService"] }(), function () { function e(t) { var a = "playergamestreakfinder"; function n(e) { return e.sets[0].rows } return { endpoint: a, params: {}, splits: {}, get: function (e) { return t.get(a, e, n) }, transform: n } } stats.service("PlayerGameStreakService", e), e.$inject = ["HanaService"] }(), function () { function e(t) { var a = "teamgamestreakfinder"; function n(e) { return e.sets[0].rows } return { endpoint: a, params: {}, splits: {}, get: function (e) { return t.get(a, e, n) }, transform: n } } stats.service("TeamGameStreakService", e), e.$inject = ["HanaService"] }(), function () { function e(e) { function a(e, t) { for (var a in t) t[a].name = t[a].name.replace(/([A-Z]+)/g, ",$1"), t[a].name = t[a].name.replace(/,/g, " "); for (a in e.datasets = { OverallCompare: {}, Individual: {} }, t) e.datasets[a] && (e.datasets[a] = t[a]); if (e.player = { a: t.OverallCompare.rows[0], b: "team" == e.compare.left.type ? t.vsPlayerOverall.rows[0] : t.OverallCompare.rows[1] }, e.datasets.Individual && 0 < e.datasets.Individual.rows.length) for (a in e.datasets.Individual.rows) e.datasets.Individual.rows[a].TM_TOV_PCT && (e.datasets.Individual.rows[a].TM_TOV_PCT = e.datasets.Individual.rows[a].TM_TOV_PCT / 100); if (e.datasets.OverallCompare && 0 < e.datasets.OverallCompare.rows.length) for (a in e.datasets.OverallCompare.rows) e.datasets.OverallCompare.rows[a].TM_TOV_PCT && (e.datasets.OverallCompare.rows[a].TM_TOV_PCT = e.datasets.OverallCompare.rows[a].TM_TOV_PCT / 100); e.isLoading = !1, function (e) { var t, a = 0; for (t in e.datasets) a += e.datasets[t].rows.length; e.noHTH = 0 === a, e.noData = e.noHTH }(e) } return { getStats: function (t) { t.isLoading = !0, t.showGraph = !0, e.get(t.params).then(function (e) { a(t, e), t.isLoading = !1 }) } } } stats.service("VsFantasyCompareService", e), e.$inject = ["FantasyCompareService"] }(), function () { function e(u) { function d(e, t) { var a, n = e.compare.left.type; for (a in t) t[a].name = t[a].name.replace(/([A-Z]+)/g, ",$1"), t[a].name = t[a].name.replace(/,/g, " "); for (a in e.datasets = "lineup" === n || "" === n ? { Combined: {}, Individual: {}, OverallCompare: {} } : { OnOffCourt: {}, Overall: {} }, "team" === n && (e.datasets.vsPlayerOverall = {}), e.shootingsets = { ShotAreaOffCourt: {}, ShotAreaOnCourt: {}, ShotAreaOverall: {}, ShotDistanceOffCourt: {}, ShotDistanceOnCourt: {}, ShotDistanceOverall: {} }, t) e.datasets[a] && (e.datasets[a] = t[a]), e.shootingsets[a] && (e.shootingsets[a] = t[a]); if ("lineup" === n || "" === n) e.player = { a: t.OverallCompare.rows[0], b: t.OverallCompare.rows[1] }; else { for (a in e.player = { a: t.Overall.rows[0], b: "team" == e.compare.left.type ? t.vsPlayerOverall.rows[0] : t.Overall.rows[1] }, e.shootingsets = t, e.shootingsets) a.indexOf("Shot") < 0 && delete e.shootingsets[a]; e.shootingByDistance = [e.shootingsets.ShotDistanceOverall, e.shootingsets.ShotDistanceOnCourt, e.shootingsets.ShotDistanceOffCourt], e.shootingByArea = [e.shootingsets.ShotAreaOverall, e.shootingsets.ShotAreaOnCourt, e.shootingsets.ShotAreaOffCourt] } if ("team" == e.compare.left.type) { if (e.datasets.vsPlayerOverall && 0 < e.datasets.vsPlayerOverall.rows.length) for (a in e.datasets.vsPlayerOverall.rows) e.datasets.vsPlayerOverall.rows[a].TM_TOV_PCT && (e.datasets.vsPlayerOverall.rows[a].TM_TOV_PCT = e.datasets.vsPlayerOverall.rows[a].TM_TOV_PCT / 100) } else if ("lineup" != e.compare.left.type) { if (e.datasets.Overall && 0 < e.datasets.Overall.rows.length) for (a in e.datasets.Overall.rows) e.datasets.Overall.rows[a].TM_TOV_PCT && (e.datasets.Overall.rows[a].TM_TOV_PCT = e.datasets.Overall.rows[a].TM_TOV_PCT / 100); if (e.datasets.OnOffCourt && 0 < e.datasets.OnOffCourt.rows.length) for (a in e.datasets.OnOffCourt.rows) e.datasets.OnOffCourt.rows[a].TM_TOV_PCT && (e.datasets.OnOffCourt.rows[a].TM_TOV_PCT = e.datasets.OnOffCourt.rows[a].TM_TOV_PCT / 100) } e.isLoading = !1, function (e) { var t, a = 0; for (t in e.datasets) a += e.datasets[t].rows.length; for (t in e.noHTH = 0 === a, a = 0, e.shootingByDistance) a += e.shootingByDistance[t].rows.length; for (t in e.noSBD = 0 === a, a = 0, e.shootingByArea) a += e.shootingByArea[t].rows.length; e.noSBA = 0 === a, e.noData = e.noHTH && e.noSBD && e.noSBA }(e) } return { getStats: function (n) { var e, t = n.compare.left.hasPlayer, a = n.compare.left.hasTeam, s = !!n.compare.left.lineupIDs.length; if (t && (e = "playerVsPlayer", n.params.PlayerID = n.compare.left.info.PERSON_ID, n.params.VsPlayerID = n.compare.right.info.PERSON_ID), a && (e = "teamVsPlayer", n.params.TeamID = n.compare.left.info.id, n.params.VsPlayerID = n.compare.right.info.PERSON_ID), s) { e = "playersVsPlayers"; var r, o, i = [n.params.PlayerID1, n.params.PlayerID2, n.params.PlayerID3, n.params.PlayerID4, n.params.PlayerID5], l = [n.params.VsPlayerID1, n.params.VsPlayerID2, n.params.VsPlayerID3, n.params.VsPlayerID4, n.params.VsPlayerID5]; for (o in n.compare.left.lineupChosen.forEach(function (e, t, a) { i[t] = n.compare.left.lineupChosen[t].PLAYER_ID }), n.compare.right.lineupChosen.forEach(function (e, t, a) { l[t] = n.compare.right.lineupChosen[t].PLAYER_ID }), n.params) for (var c = i.length; r < c; r++)n.params[i[0]] && (n.params[i[0]] = i[0]), n.params[l[0]] && (n.params[l[0]] = l[0]) } n.isLoading = !0, n.showGraph = !0, u.endpoint = e, u.get(n.params).then(function (e) { d(n, e), n.isLoading = !1 }) } } } stats.service("VsPlayerVersusService", e), e.$inject = ["OnOffCompareService"] }(), function () { function e(s, r, o, e) { s.$watch("playerId", t), s.$watch("teamId", t), s.$watch("season", t), r.addClass("player-img").on("error", function () { i ? (i = !1, r.attr("src", l.base)) : r.attr("src", l.fallback).attr("srcset", "").addClass("not-found") }); var i = !1, l = {}; function t() { var e, t, a, n; s.playerId && (e = s.playerId, t = s.teamId, a = s.season, i = !!a, n = o.getById(e) || {}, l = { season: "https://ak-static.cms.nba.com/wp-content/uploads/headshots/nba/" + t + "/" + a + "/260x190/" + e + ".png", base: "https://ak-static.cms.nba.com/wp-content/uploads/headshots/nba/latest/260x190/" + e + ".png", fallback: "https://ak-static.cms.nba.com/wp-content/uploads/headshots/nba/latest/260x190/logoman.png" }, r.attr("src", i ? l.season : l.base).attr("alt", n.fn + " " + n.ln).attr("title", n.fn + " " + n.ln)) } } stats.directive("playerHeadshot", function () { return { restrict: "A", scope: { playerId: "@", teamId: "@", season: "@" }, controller: e } }), e.$inject = ["$scope", "$element", "PlayersService", "TeamsService"] }(), function () { function e(s, r, o, e) { s.$watch("playerId", t), s.$watch("teamId", t), s.$watch("season", t), r.addClass("player-silo").on("error", function () { i ? (i = !1, r.attr("src", l.base)) : r.attr("src", l.fallback).attr("srcset", "").addClass("not-found") }); var i = !1, l = {}; function t() { var e, t, a, n; s.playerId && (e = s.playerId, t = s.teamId, a = s.season, n = o.getById(e), i = !!a, l = { season: "https://ak-static.cms.nba.com/wp-content/uploads/silos/nba/" + t + "/" + a + "/440x700/" + e + ".png", base: "https://ak-static.cms.nba.com/wp-content/uploads/silos/nba/latest/440x700/" + s.playerId + ".png", fallback: "https://ak-static.cms.nba.com/wp-content/uploads/silos/nba/latest/440x700/no-silo.png" }, r.attr("src", i ? l.season : l.base).attr("alt", n.fn + " " + n.ln).attr("title", n.fn + " " + n.ln)) } } stats.directive("playerSilo", function () { return { restrict: "A", scope: { playerId: "@", teamId: "@", season: "@" }, controller: e } }), e.$inject = ["$scope", "$element", "PlayersService"] }(); var TEAM_LOGO_SRC = "https://cdn.nba.com/logos/nba", DOMESTIC_REGION = "US", LOGOS = ["light", "dark", "alt", "non-franchise"], PRIMARY_LOGO_PATH = "primary", GLOBAL_LOGO_PATH = "global", BW_LOGO_PATH = "bw", LATEST_LOGO_PATH = "latest", LEGACY_LOGO_PATH = "legacy", ALT_LOGO_PATH = "alt"; function TeamLogoUrl(e) { var t = e.tid, a = e.logoType, n = e.size, s = e.region, r = a === BW_LOGO_PATH, o = "non-franchise" === a, i = a === ALT_LOGO_PATH, l = a === LEGACY_LOGO_PATH, c = PRIMARY_LOGO_PATH, c = r ? BW_LOGO_PATH : o ? LATEST_LOGO_PATH : l ? LEGACY_LOGO_PATH : i ? ALT_LOGO_PATH : !s || s === DOMESTIC_REGION ? PRIMARY_LOGO_PATH : GLOBAL_LOGO_PATH, u = r || o || l || i ? "" : "dark" === a ? "D/" : "L/", d = n ? "".concat(n, "/") : "", p = n ? "png" : "svg"; return "".concat(TEAM_LOGO_SRC, "/").concat(t, "/").concat(c, "/").concat(u).concat(d, "logo.").concat(p) } var TEAMS = [["12332", "FRA", 3, 3], ["70", "CRO", 3, 3], ["45", "CNA", 3, 3], ["15021", "BJD", 3, 3], ["15020", "NZB", 3, 3], ["15019", "ADL", 3, 3], ["104", "PWC", 3, 3], ["1609800004", "TFG", 3, 3], ["1609800003", "TTW", 3, 3], ["1609800002", "TTG", 3, 3], ["1609800001", "TOW", 3, 3], ["15016", "MEL", 3, 3], ["12329", "SDS", 3, 3], ["15018", "GUANGZHOU", 3, 3], ["15015", "SYD", 3, 3], ["1610616844", "WLD", 3, 3], ["1610616843", "USA", 3, 3], ["1610610037", "WAT", 3, 3], ["1610610035", "HUS", 3, 3], ["1610610034", "BOM", 3, 3], ["1610610033", "SHE", 3, 3], ["1610610032", "PRO", 3, 3], ["1610610031", "PIT", 3, 3], ["1610610030", "INO", 3, 3], ["1610610029", "JET", 3, 3], ["1610610028", "DEF", 3, 3], ["1610610026", "CLR", 3, 3], ["1610610027", "DN", 3, 3], ["1610610025", "CHS", 3, 3], ["1610610024", "BAL", 3, 3], ["1610610023", "", 3, 3], ["1612709916", "DLS", 3, 3], ["1710612753", "ORW", 3, 3], ["1810612753", "ORB", 3, 3], ["12330", "SLA", 3, 3], ["12315", "RMD", 3, 3], ["12401", "MTA", 3, 3], ["12322", "MPS", 3, 3], ["93", "MAC", 3, 3], ["12304", "FCB", 3, 3], ["12325", "FLA", 3, 3], ["12321", "FBU", 3, 3], ["94", "EAM", 3, 3], ["12323", "ALB", 3, 3], ["1610616834", "STP", 3, 3], ["1610616833", "LBN", 3, 3], ["1610612764", "WAS", 1, 1], ["1610612762", "UTA", 1, 1], ["1610612761", "TOR", 1, 1], ["1610612759", "SAS", 1, 1], ["1610612758", "SAC", 1, 1], ["1610612757", "POR", 0, 0], ["1610612756", "PHX", 1, 1], ["1610612755", "PHI", 2, 1], ["1610612753", "ORL", 0, 0], ["1610612760", "OKC", 0, 0], ["1610612752", "NYK", 0, 0], ["1610612740", "NOP", 1, 1], ["1610612750", "MIN", 1, 1], ["1610612749", "MIL", 1, 1], ["1610612748", "MIA", 0, 0], ["1610612763", "MEM", 1, 0], ["1610612747", "LAL", 1, 1], ["1610612746", "LAC", 1, 1], ["1610612754", "IND", 1, 1], ["1610612745", "HOU", 2, 0], ["1610612744", "GSW", 1, 1], ["1610612765", "DET", 0, 0], ["1610612743", "DEN", 1, 1], ["1610612742", "DAL", 1, 1], ["1610612739", "CLE", 0, 0], ["1610612741", "CHI", 1, 1], ["1610612766", "CHA", 1, 1], ["1610612751", "BKN", 1, 1], ["1610612738", "BOS", 1, 1], ["1610612737", "ATL", 0, 0]]; !function () { stats.directive("teamLogo", function () { return { restrict: "A", scope: { abbr: "@", season: "@", usenewlogos: "@" }, controller: e } }); var f = window.esi_ && window.esi_.country, h = f && f === DOMESTIC_REGION; function e(l, c, u) { l.$watch("abbr", e), l.$watch("season", e), l.$watch("usenewlogos", e); var d = { root: "/stats/media/img/teams/logos/", fallback: "".concat(TEAM_LOGO_SRC, "/fallback.svg") }, p = { base: "", season: "" }, m = !1; function e() { var e, t, a, n, s, r = l.abbr, o = l.season, i = l.usenewlogos; r && (e = TEAMS.find(function (e) { return e[1] === r }), i && e && (t = e[0], a = h ? e[2] : e[3], n = TeamLogoUrl({ tid: t, logoType: LOGOS[a], region: f })), s = u.getByAbbr(r), m = !!o && !i, d.season = [d.root, "season/", o, "/", r, "_logo.svg"].join(""), d.base = n || [d.root, r, "_logo.svg"].join(""), s && (p.season = [o, " ", s.city, " ", s.name, " logo"].join(""), p.base = [s.city, " ", s.name, " logo"].join("")), c.attr("src", m ? d.season : d.base).attr("alt", m ? p.season : p.base).attr("title", m ? p.season : p.base)) } c.addClass("team-img").attr("type", "image/svg+xml").attr("src", d.fallback).on("error", function () { m ? (m = !1, c.attr("src", d.base).attr("alt", p.base).attr("title", p.base)) : c.attr("src", d.fallback) }) } e.$inject = ["$scope", "$element", "TeamsService"] }(), function () { function e(r, e) { r.chart = { width: 590, height: 730, barchartMaxHeight: 220, barchartWidth: 30 }, r.isLoading = !0, r.getStatTotalHeight = function (e) { return e / r.chart.maxValue * r.chart.barchartMaxHeight }, r.responsiveOptions = { min: 300, max: 1140 }, r.categories = ["PTS", "REB", "AST", "BLK", "STL", "TOV"], r.$watch("stats", function (e) { if (!e) return; r.chart.maxValue = function (e) { var t, a = 0; for (t in r.categories) { var n = r.categories[t], s = Math.max(e.vtm.player[n], e.htm.player[n]); a = a < s ? s : a } return a }(e), r.isLoading = !1 }, !0) } stats.directive("statsFanduelChart", function () { return { restrict: "AE", replace: !1, scope: { stats: "=" }, templateUrl: "/stats/templates/angular/charts/stats-fanduel-chart.html", controller: e } }), e.$inject = ["$scope", "$filter"] }(), function () { function e(s) { s.svg = { height: 550, width: 1140 }, s.chart = { padding: { bottom: 120, left: 60, right: 40, top: 20 } }, s.responsiveOptions = { min: 300, max: 1140 }, s.chart.height = s.svg.height - (s.chart.padding.bottom + s.chart.padding.top), s.chart.width = s.svg.width - (s.chart.padding.left + s.chart.padding.right), s.$watch("gameSummary", function (e) { if (!e || !e.events) return; var t = function (e) { var t, a = 0; for (t in e) a = Math.abs(e[t].HOME_SCORE_MARGIN) > a ? Math.abs(e[t].HOME_SCORE_MARGIN) : a; return a + 10 - (a + 10) % 10 }((s.summary = e).events), a = e.events.slice(-1)[0].PERIOD, n = function (e) { return e <= 4 ? 720 * e : 2880 + 300 * (e - 4) }(a); s.xAxis = function (e, t) { for (var a = [], n = t / (48 + 5 * (e - 4)), s = 0; s < e; s += 1) { var r, o = { period: s + 1 }; e <= 4 || 4 < e && s < 4 ? (o.x = s * n * 12, o.text = "Q" + o.period) : 4 < e && 4 <= s && (r = o.period - 4, o.x = 4 * n * 12 + (r - 1) * n * 5, o.text = "OT" + r), a.push(o) } return a }(a, s.chart.width), s.yAxisMargin = function (e, t) { for (var a, n = [], s = t / (e / 5 * 2), r = e; -e <= r; r -= 5) { var o = { text: Math.abs(r) }; n.push(o) } for (a in n) n[a].y = a * s; return n }(t, s.chart.height), s.eventData = function (e, t, a, n, s) { var r, o = n / 2, i = t / a, l = o / s, c = [{ e: null, x: 0, y: o }], u = [{ e: null, x: 0, y: o }], d = [{ e: null, x: 0, y: o }], p = { htm: 0, vtm: 0 }; for (r in e) { var m = e[r], f = function (e, t, a) { var n = 0; n = e <= 4 ? 720 * (e - 1) + (720 - t) : 2880 + 300 * (e - 5) + (300 - t); return n * a }(m.PERIOD, m.SECONDS_REMAINING, i); p.htm = m.HOME_PTS, p.vtm = m.VISITOR_PTS, c.push({ e: m, f: "h" == m.LOCATION, x: f, y: Math.max(m.HOME_SCORE_MARGIN * l, 0) + o, z: m.HOME_SCORE_MARGIN * l + o }), u.push({ e: m, f: "v" == m.LOCATION, x: f, y: -1 * Math.max(-1 * m.HOME_SCORE_MARGIN * l, 0) + o, z: m.HOME_SCORE_MARGIN * l + o }), d.push({ e: m, x: f, y: (m.HOME_PCT - .5) * n + o }) } return c.push({ e: null, x: t, y: o }), u.push({ e: null, x: t, y: o }), d.push({ e: null, x: t, y: o }), { htm: c, vtm: u, pct: d } }(e.events, s.chart.width, n, s.chart.height, t), s.htmPath = r(s.eventData.htm, s.chart.height, s.chart.width), s.vtmPath = r(s.eventData.vtm, s.chart.height, s.chart.width) }, !0) } function r(e, t, a) { var n, s = "M0 " + t / 2; for (n in e) { var r = e[n]; s += " H" + r.x.toFixed(1) + " V" + r.y.toFixed(1) } return s += " H" + a + " V" + t / 2 + " Z" } stats.directive("statsGameFlow", function () { return { restrict: "E", transclude: !1, templateUrl: "/stats/templates/angular/charts/stats-game-flow.html", scope: { gameSummary: "=" }, controller: e } }), e.$inject = ["$scope"] }(), function () { function e(t, e) { t.chart = { width: 800, height: 700, padding: { left: 90, right: 90, top: 30, bottom: 20 }, group: { height: 50, labelWidth: 100, padding: { top: 20 } } }, t.chart.maxRectWidth = 280, t.isLoading = !0, t.responsiveOptions = { min: 300, max: 1140 }, t.$watch("stats", function (e) { if (!e) return; t.isLoading = !1 }, !0) } stats.directive("statsGameRotationsChart", function () { return { restrict: "E", replace: !1, scope: { stats: "=" }, templateUrl: "/stats/templates/angular/charts/stats-head-to-head-chart.html", controller: e } }), e.$inject = ["$scope", "$filter"] }(), function () { function e(t, e) { t.chart = { width: 800, height: 700, padding: { left: 90, right: 90, top: 30, bottom: 20 }, group: { height: 50, labelWidth: 100, padding: { top: 20 } } }, t.chart.maxRectWidth = 280, t.isLoading = !0, t.getStatTotal = function (e) { if (isNaN(e)) return 0; return e / t.chart.maxValue * t.chart.maxRectWidth }, t.getFormattedStat = function (e, t) { if (isNaN(e)) return "-"; if (-1 < t.indexOf("%")) return e.toFixed(1); return e }, t.responsiveOptions = { min: 300, max: 1140 }, t.$watch("stats", function (e) { if (!e) return; t.chart.maxValue = function (e) { var t, a = 0; for (t in e) { var n = e[t], s = Math.max(n.vtm || 0, n.htm || 0); a = a < s ? s : a } return a }(e), t.isLoading = !1 }, !0) } stats.directive("statsHeadToHeadChart", function () { return { restrict: "AE", replace: !1, scope: { stats: "=", vtm: "=", htm: "=" }, templateUrl: "/stats/templates/angular/charts/stats-head-to-head-chart.html", controller: e } }), e.$inject = ["$scope", "$filter"] }(), function () { function e(a, e, g, t, n) { e.addClass("stats-lead-tracker"); var v = e.find("canvas").get(0).getContext("2d"); a.height = 600, a.width = 1600; var s, S, y, r = { left: 80, top: 50, right: 20, bottom: 50 }, o = a.height - (r.top + r.bottom), i = a.width - (r.left + r.right), l = o / 2, c = i / 2, u = !1, d = "", p = "", P = 1, T = 1, D = {}; function m(t) { n.get(d, p, t).then(function (e) { e.forEach(function (e) { e.per = t, e.points = +e.points }), D[t] = { per: t, plays: e }, function () { if (Object.keys(D).length != T) return; var m = g("range")(1, T).reduce(function (e, t) { return e.concat(D[t].plays) }, []); T = Math.max(T, 4); var e = function (e) { var t, a = 0; for (t in e) a = Math.max(e[t].points, a); var n = a + 10 - (a + 10) % 10; return Math.max(n, 20) }(m), t = function (e) { return e <= 4 ? 720 * e : 2880 + 300 * (e - 4) }(T); v.clearRect(0, 0, i + r.left + r.right, o + r.top + r.bottom), v.fillStyle = "#333333", v.font = "bold 42px Roboto Condensed", v.fill(), v.textAlign = "center", v.fillText(a.title, c + r.left, 40), v.save(), v.translate(r.left, r.top), v.rect(0, 0, i, o), v.lineWidth = 1, v.strokeStyle = "#7a7a7a", v.fillStyle = "#f2f2f2", v.font = "bold 48px Roboto Condensed", v.fill(), v.stroke(); var n = function (e, t) { for (var a = [], n = t / (48 + 5 * (e - 4)), s = 0; s < e; s += 1) { var r, o = { period: s + 1 }; e <= 4 || 4 < e && s < 4 ? (o.x = s * n * 12, o.text = "Q" + o.period) : 4 < e && 4 <= s && (r = o.period - 4, o.x = 4 * n * 12 + (r - 1) * n * 5, o.text = "OT" + r), a.push(o) } return a }(T, i); v.fillStyle = "#454545", n.forEach(function (e, t) { var a = (a = n[t + 1]) || { x: i }; v.fillStyle = "#9a9a9a", v.strokeStyle = "#9a9a9a", v.textAlign = "right", v.fillText(e.text, a.x - 12, o - 15), v.beginPath(), v.moveTo(Math.round(e.x), 0), v.lineTo(Math.round(e.x), o), v.closePath(), v.stroke() }), function (e, t) { for (var a, n = [], s = t / (e / 5 * 2), r = e; -e <= r; r -= 5) { var o = { text: Math.abs(r) }; n.push(o) } for (a in n) n[a].y = a * s; return n }(e, o).forEach(function (e) { v.save(), v.translate(0, Math.round(e.y)), v.fillStyle = "#454545", v.textAlign = "right", v.font = "bold 32px Roboto Condensed", v.fillText(e.text, -20, 12), v.beginPath(), v.setLineDash([4, 8]), v.moveTo(0, 0), v.lineTo(i, 0), v.closePath(), v.stroke(), v.beginPath(), v.setLineDash([]), v.moveTo(-10, 0), v.lineTo(0, 0), v.closePath(), v.stroke(), v.restore() }), v.fillStyle = "#333333", v.font = "bold 42px Roboto Condensed", v.fill(), v.textAlign = "left", v.fillText(S.abbr, 10, 42), v.fillStyle = "#333333", v.font = "bold 42px Roboto Condensed", v.fill(), v.textAlign = "left", v.fillText(y.abbr, 10, o - 10), v.beginPath(), v.moveTo(0, l), v.lineTo(i, l), v.closePath(), v.stroke(), v.save(), v.rect(0, 0, i, o), v.strokeStyle = "#7a7a7a", v.stroke(), v.restore(); y.color, S.color; var f = i / t, h = l / e; v.save(), v.translate(0, Math.round(l)), v.lineWidth = f, m.forEach(function (e, t) { var a, n, s, r, o, i = t === m.length - 1, l = 0 === e.points, c = i ? { clock: "00:00", per: T } : m[t + 1], u = i && 2 == P ? 0 : e.points, d = "#000000", p = 1; l || (e.leadTeamId == S.id ? (d = S.color, p = -1) : e.leadTeamId == y.id && (d = y.color, p = 1), a = g("decimalTime")(e.per, e.clock), n = g("decimalTime")(c.per, c.clock), s = a * f / 10, r = n * f / 10, o = u * h, v.beginPath(), v.fillStyle = d, v.strokeStyle = d, v.fillRect(s, 0, r - s, o * p), v.strokeRect(s, 0, r - s, o * p), v.stroke(), v.closePath()) }), v.restore(), v.textAlign = "right", v.font = "42px Roboto Condensed", v.fillText("NBA.com/Stats", i, o + 42), v.restore() }() }) } a.$watch("gameid", function () { if (u = !1, !a.gameid || !a.date) return; d = a.gameid, p = a.date, P = +a.state, T = +a.period, S = a.vtm, y = a.htm, a.title, 1 < P && g("range")(1, T).forEach(m); 2 === P && (t.cancel(s), s = t(m.bind("", T), 1e4)); 3 === P && t.cancel(s); u = !0 }), a.$watch("period", function (e) { e = +e, u && 1 < e && m(T - 1); T = e }), a.$watch("state", function (e) { P = +e, u && !(2 === P) && m(T) }) } stats.directive("statsLeadTracker", function () { return { restrict: "E", template: '<canvas height="{{ height }}" width="{{ width }}" filename="{{ title }}.png"></canvas>', scope: { date: "@", gameid: "@", state: "@", period: "@", title: "@", vtm: "=", htm: "=" }, controller: e } }), e.$inject = ["$scope", "$element", "$filter", "$interval", "MobileLeadTrackerService"] }(), function () { function e(t, e) { t.$watch("stats", function (e) { if (!e) return; t.isLoading = !1 }, !0) } stats.directive("statsLineupsChart", function () { return { restrict: "E", replace: !1, scope: { stats: "=" }, controller: e } }), e.$inject = ["$scope", "$filter"] }(), function () { function e(s, e) { s.width = 1140, s.height = 920, s.paddingTop = 200, s.chartHeight = s.height - s.paddingTop, s.isLoading = !0, s.stats = [], s.getArcPath = function (e, t, a, n, s) { var r = u(e, t, a, s), o = u(e, t, a, n), i = s - n <= 180 ? "0" : "1"; return ["M", e, t, "L", r.x, r.y, "A", a, a, 0, i, 0, o.x, o.y, "Z"].join(" ") }, s.responsiveOptions = { min: 300, max: 1140 }; for (var t = ["REB", "BLK", "AST", "PTS"], a = ["vtm", "htm"], n = 360 / (t.length * a.length), r = 0; r < t.length; ++r)for (var o = 0; o < a.length; ++o) { var i = r * a.length + o, l = { cat: t[r], type: a[o], index: i, angle: i * n, rads: (i * n - 90 + n / 2) * Math.PI / 180, line: { len: 350 }, side: 180 < i * n + n / 2 ? "left" : "right" }; s.stats.push(l) } function c(e) { return e.value } function u(e, t, a, n) { var s = (n - 90) * Math.PI / 180; return { x: e + a * Math.cos(s), y: t + a * Math.sin(s) } } s.$watch("linescores", function (e) { if (!e) return; s.stats.forEach(function (e, t) { var a = t.cat, n = t.type, s = e[n].players; t.team = e[n]; var r = s.reduce(function (e, t) { return e && e[a] && (!t || !t[a] || e[a] >= t[a]) ? e : t }); t.value = r[a], t.player = r, t.value || (t.value = 0) }.bind(null, e)); var t = s.stats.map(c), a = Math.max.apply(Math, t), n = 210 / a; s.stats.forEach(function (e, t, a) { a.radius = e * a.value + t, a.cx = a.radius * Math.cos(a.rads), a.cy = a.radius * Math.sin(a.rads), a.line.x = a.line.len * Math.cos(a.rads), a.line.y = a.line.len * Math.sin(a.rads), a.left = "left" === a.side ? -140 : 0 }.bind(null, n, 90)), s.isLoading = !1 }, !0) } stats.directive("statsRoseChart", function () { return { restrict: "AE", replace: !1, scope: { linescores: "=" }, templateUrl: "/stats/templates/angular/charts/stats-rose-chart.html", controller: e } }), e.$inject = ["$scope", "$filter"] }(), function () { function e(p) { p.padding = { left: 50, right: 50, top: 50 }, p.size = 300, p.half = p.size / 2, p.innerRadius = 70, p.statRadius = 40, p.responsiveOptions = { min: 80, max: 400 }, p.$watch("stat", function (e) { if (!e) return; var t = e.vtm.value + e.htm.value, a = e.htm.value / t * 100, n = 2 * Math.PI / 100, s = a * n, r = p.half, o = r + Math.sin(0) * r, i = r - Math.cos(0) * r, l = r + Math.sin(s) * r, c = r - Math.cos(s) * r, u = s > Math.PI ? 1 : 0, d = ["M ", r, ",", r, " L ", o, ",", i, " A ", r, ",", r, " 0 ", u, " 1 ", l, ",", c, " Z"].join(""); p.path = d }, !0) } stats.directive("statsSvgDonutChart", function () { return { restrict: "E", templateUrl: "/stats/templates/angular/charts/stats-svg-donut-chart.html", scope: { stat: "=" }, controller: e } }), e.$inject = ["$scope"] }(), function () { function e(t) { function e() { t.x = +t.x, t.y = +t.y, t.left = "left" === t.side ? -1 * t.width : 0 } t.width = 140, t.left = 0, t.headshotHeight = 113, t.rectHeight = 52, t.height = t.headshotHeight + t.rectHeight, t.$watch("playerName", function (e) { e && (t.firstName = e.match(/([a-zA-Z\-.]+)(.*)/)[1].toUpperCase(), t.lastName = e.match(/([a-zA-Z\-.]+)(.*)/)[2].toUpperCase()) }), t.$watch("side", e), t.$watch("x", e), t.$watch("y", e) } stats.directive("statsSvgHeadshot", function () { return { restrict: "AE", replace: !1, scope: { playerId: "@", playerName: "@", teamAbbr: "@", color: "@", x: "@", y: "@", side: "@" }, templateUrl: "/stats/templates/angular/charts/stats-svg-headshot.html", controller: e } }), e.$inject = ["$scope"] }(), function () { function e(r, o) { function e(e) { var t = +r.x, a = +r.y, n = +r.r, s = +r.angle; r.path = o("arcPath")(t, a, n, s, 45 + s) } r.$watch("x", e), r.$watch("y", e), r.$watch("r", e), r.$watch("angle", e) } stats.directive("svgArc", function () { return { restrict: "AE", replace: !1, scope: { x: "@", y: "@", r: "@", angle: "@", color: "@" }, template: ['<path ng-attr-d="{{ path }}" fill="{{ color }}" />'].join(""), controller: e } }), e.$inject = ["$scope", "$filter"] }(), function () { function e(s, r, o) { r.on("click", function (e) { e.preventDefault(); var t = angular.element(s.for).get(0), a = +r.data("top") || 0, n = +r.data("left") || 0; saveSvgAsPng(t, "rotations.png", { left: n, top: a, encoderOptions: 1 }), o.triggerEvent("shotchartSave") }) } stats.directive("svgDownloadRotations", function () { return { restrict: "A", scope: { for: "@" }, controller: e } }), e.$inject = ["$scope", "$element", "DtmService"] }(), function () { function e(s, r, o) { r.on("click", function (e) { e.preventDefault(); var t = angular.element(s.for).get(0), a = +r.data("top") || 0, n = +r.data("left") || 0; saveSvgAsPng(t, "shotchart.png", { left: n, top: a, encoderOptions: 1 }), o.triggerEvent("shotchartSave") }) } stats.directive("svgDownload", function () { return { restrict: "A", scope: { for: "@" }, controller: e } }), e.$inject = ["$scope", "$element", "DtmService"] }(), function () { function e(s, r, o) { r.on("click", function (e) { e.preventDefault(); var t = angular.element(s.for).get(0), a = +r.data("top") || 0, n = +r.data("left") || 0; saveSvgAsPng(t, "lineups.png", { left: n, top: a, encoderOptions: 1 }), o.triggerEvent("shotchartSave") }) } stats.directive("svgDownloadLineups", function () { return { restrict: "A", scope: { for: "@" }, controller: e } }), e.$inject = ["$scope", "$element", "DtmService"] }(), function () { function e(n, e) { n.$watch("shots", t), n.$watch("options", t, !0); function t() { var e, t, a; n.shots && (e = {}, t = +n.options.cellsize || 10, (a = {}).radius = t, a.height = 2 * a.radius, a.width = Math.sqrt(3) / 2 * a.height, a.heightRow = .75 * a.height, a.heightHalf = .5 * a.height, a.widthHalf = a.width / 2, a.apothem = a.height - a.heightRow, n.shots.forEach(function (e, t, a) { var n = Math.floor((a.LOC_Y + t.apothem) / t.heightRow), s = n * t.heightRow - t.heightHalf, r = a.LOC_Y - s, o = 1 & n, i = o ? Math.floor(a.LOC_X / t.width) : Math.floor((a.LOC_X + t.widthHalf) / t.width), l = o ? i * t.width + t.widthHalf : i * t.width, c = a.LOC_X - l, u = t.apothem / t.widthHalf; r > t.heightRow && (c < 0 ? t.height - r < -u * (c + t.widthHalf) + t.apothem && (n += 1, o || --i) : t.height - r < u * c && (n += 1, o && (i += 1))); var d = n + "_" + i, p = e[d]; p = p || (e[d] = { row: n, col: i, size: t.radius, scale: 1, shots: [], fgm: 0, fga: 0 }); p.shots.push(a), p.fga += 1, p.fgm += a.SHOT_MADE_FLAG }.bind("", e, a)), n.hexes = Object.keys(e).map(function (e, t, a) { var n = e[a], s = n.shots.reduce(i, {}); n.zone = function (t) { var a = 0, n = ""; return Object.keys(t).forEach(function (e) { t[e].count > a && (a = t[e].count, n = e) }), n }(s), n.zonePerf = t.advanced[n.zone].zPerf; var r = Math.log(n.fga) / Math.log(10), o = (2.5 * (1 - r) + 10 * r) / 10; return n.scale = Math.min(Math.max(o, .3), 1), n }.bind("", e, n.zones))) } } function i(e, t) { var a = t.SHOT_ZONE_AREA + " | " + t.SHOT_ZONE_RANGE; return e[a] || (e[a] = { id: a, count: 0 }), e[a].count += 1, e } stats.directive("svgHexGrid", function () { return { restrict: "E", scope: { zones: "=", shots: "=", options: "=" }, templateUrl: "/stats/test/hexagons/templates/hexgrid.html", controller: e } }), e.$inject = ["$scope", "$element"] }(), function () { function e(e, t) { var s = this; t.addClass("svg-hexagon"); var a = Math.sqrt(3), r = Math.PI / 180; s.text = e.text, s.r = +e.r, s.scale = +e.scale || 1, s.row = +e.row || 0, s.col = +e.col || 0, s.h = s.r, s.w = a / 2 * s.r, s.v = .75 * s.h, s.cy = s.v * s.row * 2, s.cx = (1 & s.row) * s.w + s.col * s.w * 2, s.path = [0, 1, 2, 3, 4, 5, 6].map(function (e) { var t = (60 * e + 30) * r, a = s.r * Math.cos(t), n = s.r * Math.sin(t); return [a.toFixed(2), n.toFixed(2)].join(",") }).join(" ") } stats.directive("svgHexagon", function () { return { restrict: "A", replace: !0, scope: { r: "@", row: "@", col: "@", dir: "@", scale: "@", text: "@" }, templateNamespace: "svg", template: ['<g ng-attr-transform="translate({{ ::hex.cx }}, {{ ::hex.cy }}) scale({{ ::hex.scale }})">', ' <polygon ng-attr-points="{{ ::hex.path }}" />', ' <text x="0" ng-attr-y="{{ ::hex.r/2 }}" text-anchor="middle">{{ ::text }}</text>', "</g>"].join(""), controller: e, controllerAs: "hex" } }), e.$inject = ["$scope", "$element"] }(), function () { function e(e, t) { var a = angular.element(t).get(0), n = document.createElementNS("http://www.w3.org/2000/svg", "image"); function s() { if (e.href && e.height && e.width) { for (; a.hasChildNodes();)a.removeChild(a.lastChild); n.setAttributeNS("http://www.w3.org/1999/xlink", "href", e.href), n.setAttribute("height", e.height), n.setAttribute("width", e.width), n.setAttribute("x", 0), n.setAttribute("y", 0), a.appendChild(n) } } e.$watch("href", s, !0), e.$watch("height", s, !0), e.$watch("width", s, !0) } stats.directive("svgImageEmbed", function () { return { restrict: "A", replace: !1, transclude: !1, scope: { href: "@", height: "@", width: "@" }, controller: e } }), e.$inject = ["$scope", "$element"] }(), function () { function e(e, t) { var a = e.get(0), n = e.attr("svg-include"), s = angular.element(n).get(0).innerHTML, r = document.createElement("div"); r.innerHTML = "<svg>" + s + "</svg>", Array.prototype.slice.call(r.childNodes[0].childNodes).forEach(function (e) { a.appendChild(e) }) } stats.directive("svgInclude", function () { return { restrict: "A", compile: e } }) }(), function () { function e(t, a, e) { var n = angular.element(e); function s() { var e; t.options && (e = Math.max(Math.min(t.container.width(), t.options.max), t.options.min), a.attr("width", e), a.attr("height", e * t.ratio)) } t.getWindowDimensions = function () { return { h: n.height(), w: n.width() } }, t.$watch("svgResponsive", function (e) { e && (t.options = e, t.ratio = a.attr("height") / a.attr("width"), t.container = e.selector ? angular.element(e.selector) : a.parent().parent(), s()) }), t.$watch(t.getWindowDimensions, function (e, t) { s() }, !0), n.on("resize", function () { t.$apply() }) } stats.directive("svgResponsive", function () { return { restrict: "A", replace: !1, scope: { svgResponsive: "=" }, controller: e } }), e.$inject = ["$scope", "$element", "$window"] }(), function () { function e(a, r, o) { return { get: function (n, e) { var s = a.defer(), t = n ? o.prefix + "wp-json/statscms/v1/rotowire/player/?team=" + n : o.prefix + "wp-json/statscms/v1/rotowire/player/"; return r({ method: "GET", url: t }).then(function (e) { var t = e.data, a = n ? t.TeamRotowires : t.ListItems; s.resolve(a) }).catch(function (e) { s.resolve([]) }), s.promise } } } stats.service("FantasyNewsService", e), e.$inject = ["$q", "$http", "CMSENV"] }(), function () { function e(n, s, r) { return { get: function (e) { var a = n.defer(), t = r.prefix + "wp-json/statscms/v1/json/?slug=" + e + "-finals"; return s.get(t).then(function (e) { var t = e.data.posts[0].JSON_content.finals; a.resolve(t) }).catch(function (e) { a.reject(e) }), a.promise } } } stats.service("FinalsInfographicService", e), e.$inject = ["$q", "$http", "CMSENV"] }(), function () { function e(n, s, r) { return { get: function (e) { var a = n.defer(), t = r.prefix + "wp-json/statscms/v1/rotowire/player/?playerId=" + e; return s.get(t, { cache: !0 }).then(function (e) { var t = e.data; a.resolve(t.PlayerRotowires || []) }).catch(function (e) { a.resolve(null) }), a.promise } } } stats.service("PlayerNewsService", e), e.$inject = ["$q", "$http", "CMSENV"] }(), function () { function e(t, n, s) { return { get: function () { var a = t.defer(), e = s.prefix + "feeds2feed/more_scores.json"; return n.get(e, { cache: !0 }).then(function (e) { var t = e.data; a.resolve(t) }).catch(function (e) { a.resolve(null) }), a.promise } } } stats.service("ScoresSidebarService", e), e.$inject = ["$q", "$http", "CMSENV"] }(), function () { function e(r, o) { var i = { cache: !1 }; return { get: function (e, t) { var a = r.defer(), n = window.statsSource + "/js/data/" + e + ".json", s = angular.extend({}, i, t); return o.get(n, { cache: s.cache }).then(function (e) { var t = e.data || e; a.resolve(t) }).catch(function (e) { a.resolve(null) }), a.promise } } } stats.service("StatsFlatDataService", e), e.$inject = ["$q", "$http"] }(), function () { function e(r, o) { var i = { cache: !1 }; return { get: function (e, t) { var a = r.defer(), n = "/stats/js/data/pointsbet/" + e.seasonYear + "/" + e.gameDate + ".json", s = angular.extend({}, i, t); return o.get(n, { cache: s.cache }).then(function (e) { var t = e.data || e; a.resolve(t) }).catch(function (e) { a.resolve(null) }), a.promise } } } stats.service("StatsPointsBetService", e), e.$inject = ["$q", "$http"] }(), function () { function e(r, o) { var i = { cache: !1 }; return { get: function (e, t) { var a = r.defer(), n = window.s3source + e, s = angular.extend({}, i, t); return o.get(n, { cache: s.cache }).then(function (e) { var t = e.data || e; a.resolve(t) }).catch(function (e) { a.resolve(null) }), a.promise } } } stats.service("StatsS3Service", e), e.$inject = ["$q", "$http"] }(), function () { function e(r, o) { var i = { cache: !1 }; return { get: function (e, t) { var a = r.defer(), n = window.statsSource + "/js/data/widgets/" + e + ".json", s = angular.extend({}, i, t); return o.get(n, { cache: s.cache }).then(function (e) { var t = e.data || e; a.resolve(t) }).catch(function (e) { a.resolve(null) }), a.promise } } } stats.service("StatsWidgetService", e), e.$inject = ["$q", "$http"] }(), function () { function e(n, e, s, r) { e.addClass("stats-shotchart"), n.options = { zone: { zonetype: "Advanced", scaletype: "rg" }, plot: {}, hex: { cellsize: 8, scaletype: "div", zonetype: "zone" } }, n.$watch("shots", function (e) { var t, a; e && (n.$watch("activeTab", function (e) { s.search("sct", e) }), (t = s.search().sct) ? n.activeTab = t : (a = r("groupBy")(e, "GAME_ID"), 1 < Object.keys(a).length ? n.activeTab = "hex" : n.activeTab = "plot")) }) } stats.directive("statsShotchart", function () { return { restrict: "E", replace: !1, scope: { title: "@", zones: "=", league: "=", shots: "=", params: "=" }, templateUrl: "/stats/templates/angular/shotcharts/stats-shotchart.html", controller: e } }), e.$inject = ["$scope", "$element", "$location", "$filter"] }(), function () { function e(e, t) { t.addClass("stats-shotheat"), e.$watch("shots", function (e) { if (!e || 0 === e.length) return; var t = d3.contourDensity().x(function (e) { return u(e.LOC_X) }).y(function (e) { return d(e.LOC_Y) }).size([c, l]).bandwidth(40)(e), a = d3.scaleLinear().domain(d3.extent(t, function (e) { return e.value })).interpolate(function () { return d3.interpolateInferno }), n = f.selectAll("path").data(t), s = h.selectAll("circle").data(e); n.exit().remove(), s.exit().remove(), n.attr("d", d3.geoPath()).attr("fill", function (e) { return a(e.value) }).attr("fill-opacity", .2), s.attr("fill", "white").attr("cx", function (e) { return u(e.LOC_X) }).attr("cy", function (e) { return d(e.LOC_Y) }).attr("r", 1), n.enter().append("path").attr("d", d3.geoPath()).attr("fill", function (e) { return a(e.value) }).attr("fill-opacity", .2), s.enter().append("circle").attr("fill", "white").attr("cx", function (e) { return u(e.LOC_X) }).attr("cy", function (e) { return d(e.LOC_Y) }).attr("r", 1) }), e.$watch("title", function (e) { p.text(e) }); var a = t.find("svg").get(0), n = d3.select(a), s = 30, r = 10, o = 10, i = 10, l = 510, c = 520, u = d3.scaleLinear().domain([-250, 250]).rangeRound([0, 500]), d = d3.scaleLinear().domain([420, -50]).rangeRound([470, 0]); n.append("rect").attr("width", c).attr("height", l).attr("fill", "#c5c5c5"), n.append("rect").attr("width", c).attr("height", 20).attr("fill", "#fff"), n.append("clipPath").attr("id", "court-clip").append("rect").attr("x", 4).attr("y", 0).attr("width", 494).attr("height", 470); var p = n.append("text").attr("dx", 11).attr("dy", 16).attr("fill", "#000").attr("font-family", "Roboto Condensed").attr("font-size", "16px"), m = n.append("g").attr("transform", "translate(".concat(i, ", ").concat(s, ")")).attr("clip-path", "url(#court-clip)"), f = m.append("g").attr("class", "contours"); n.append("svg:image").attr("xlink:href", "/stats/media/img/halfcourt.png").attr("transform", "translate(".concat(i, ", ").concat(s, ")")).attr("width", 500).attr("height", 470); var h = m.append("g").attr("class", "shots"); n.append("text").attr("x", c - r - 7).attr("y", l - o - 7).attr("text-anchor", "end").attr("fill", "#1a477b").attr("font-family", "Roboto Condensed").attr("font-size", "20px").text("NBA.com/Stats") } stats.directive("statsShotheat", function () { return { restrict: "E", replace: !1, scope: { shots: "=", title: "@" }, template: '<div>\n        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 520 510" preserveAspectRatio="xMinYMin">\n        </svg>\n      </div>', controller: e } }), e.$inject = ["$scope", "$element"] }(), function () { function e(n, e) { e.addClass("stats-shothex"), n.$watch("shots", t), n.$watch("options", t, !0); function t() { var e, t, a; n.shots && 0 !== n.shots.length && (e = {}, t = +n.options.cellsize || 10, (a = {}).radius = t, a.height = 2 * a.radius, a.width = Math.sqrt(3) / 2 * a.height, a.heightRow = .75 * a.height, a.heightHalf = .5 * a.height, a.widthHalf = a.width / 2, a.apothem = a.height - a.heightRow, n.shots.forEach(function (e, t, a) { var n = Math.floor((a.LOC_Y + t.apothem) / t.heightRow), s = n * t.heightRow - t.heightHalf, r = a.LOC_Y - s, o = 1 & n, i = o ? Math.floor(a.LOC_X / t.width) : Math.floor((a.LOC_X + t.widthHalf) / t.width), l = o ? i * t.width + t.widthHalf : i * t.width, c = a.LOC_X - l, u = t.apothem / t.widthHalf; r > t.heightRow && (c < 0 ? t.height - r < -u * (c + t.widthHalf) + t.apothem && (n += 1, o || --i) : t.height - r < u * c && (n += 1, o && (i += 1))); var d = n + "_" + i, p = e[d]; p = p || (e[d] = { row: n, col: i, size: t.radius, scale: 1, shots: [], fgm: 0, fga: 0 }); p.shots.push(a), p.fga += 1, p.fgm += a.SHOT_MADE_FLAG }.bind("", e, a)), n.hexes = Object.keys(e).map(function (e, t, a) { var n = e[a], s = n.shots.reduce(i, {}); n.zone = function (t) { var a = 0, n = ""; return Object.keys(t).forEach(function (e) { t[e].count > a && (a = t[e].count, n = e) }), n }(s), n.zonePerf = 0, t && t.advanced && t.advanced[n.zone] && (n.zoneObject = t.advanced[n.zone], n.zonePerf = t.advanced[n.zone].zPerf, n.leaguePct = t.advanced[n.zone].leagueFG_PCT); var r = Math.log(n.fga) / Math.log(10), o = (2.5 * (1 - r) + 10 * r) / 10; return n.pct = n.fgm / n.fga, n.trueScale = o, n.scalePct = r, n.scale = Math.min(Math.max(o, .4), 1), n }.bind("", e, n.zones))) } } function i(e, t) { var a = t.SHOT_ZONE_AREA + " | " + t.SHOT_ZONE_RANGE; return e[a] || (e[a] = { id: a, count: 0 }), e[a].count += 1, e } stats.directive("statsShothex", function () { return { restrict: "E", scope: { zones: "=", shots: "=", options: "=", title: "@" }, templateUrl: "/stats/templates/angular/shotcharts/stats-shothex.html", controller: e } }), e.$inject = ["$scope", "$element"] }(), function () { function e(o, i, s, l, e, r, c) { function t(e, t) { a(t.rows) } function a(e) { var a, t, n; e && 0 !== e.length ? (a = 0, o.events = e.slice(0).map(function (e, t) { return e.locX = e.locX || e.LOC_X || 0, e.locY = e.locY || e.LOC_Y || 0, e.madeflag = 1 === e.SHOT_MADE_FLAG || 1 === e.etype, e.madeClass = e.madeflag ? "made" : "missed", e.tid = e.tid || e.TEAM_ID, e.team = c.getById(e.tid), e.pid = e.pid || e.PLAYER_ID, e.player = r.getById(e.pid), e.p = e.PERIOD || e.p, e.clock = e.cl || e.MINUTES_REMAINING + ":" + s("padLeft")(e.SECONDS_REMAINING, 2, "0"), e.idx = t, a += e.madeflag ? 1 : 0, e }), t = o.events.length, n = a / t * 100 || 0, o.totalPct = n.toFixed(1), o.totalMade = a, o.totalAttempts = t) : o.events = [] } i.addClass("stats-shotplot"), o.$watch("shots", a), o.$on("$statsTableFilter", t), o.$on("$statsTableSort", t), e(function () { i.on("click", ".shotplot__shot", function (e) { var t, a, n = $(e.currentTarget), s = n.attr("index") || n.attr("data-index"), r = { $elm: i, index: +s, data: o.events[s] }; t = "$shotchartShotClick", a = r, l.$broadcast(t, a) }) }) } stats.directive("statsShotplot", function () { return { restrict: "E", replace: !1, scope: { shots: "=", title: "@" }, templateUrl: "/stats/templates/angular/shotcharts/stats-shotplot.html", templateNamespace: "svg", controller: e } }), e.$inject = ["$scope", "$element", "$filter", "$rootScope", "$timeout", "PlayersService", "TeamsService"] }(), function () { function e(e, t) { t.addClass("stats-shotstream"), e.$watch("shots", function (e) { if (!e || 0 === e.length) return; var t = e.reduce(h, { fgm: 0, fga: 0, fg2m: 0, fg2a: 0, fg3m: 0, fg3a: 0 }), a = [{ label: "FG%", val: t.fgm / t.fga }, { label: "eFG%", val: (t.fgm + .5 * t.fg3m) / t.fga }], n = e.reduce(f, {}); (n = Object.values(n).sort(function (e, t) { return e.ft - t.ft })).forEach(function (e) { return e.fgpct = e.fgm / e.fga }), n.fgm = n.reduce(function (e, t) { return e + t.fgm }, 0), n.fga = n.reduce(function (e, t) { return e + t.fga }, 0), n.fgpct = n.fgm / n.fga; function s(e) { return "M".concat(d(0), ", ").concat(p(e.val), "H").concat(d(30)) } var r = d3.area().curve(d3.curveBasis).x(function (e) { return d(e.ft) }).y0(function (e) { return p(e.fgpct + e.fga / n.fga) }).y1(function (e) { return p(e.fgpct - e.fga / n.fga) }), o = d3.line().curve(d3.curveBasis).x(function (e) { return d(e.ft) }).y(function (e) { return p(e.fgpct) }), i = m.selectAll(".stream-area").data([n]), l = m.selectAll(".stream-line").data([n]), c = m.selectAll(".pct-line").data(a), u = m.selectAll(".pct-text").data(a); i.exit().remove(), l.exit().remove(), c.exit().remove(), u.exit().remove(), i.attr("d", r), l.attr("d", o), c.attr("d", s), u.attr("y", function (e) { return p(e.val) }), i.enter().append("path").attr("clip-path", "url(#chart-clip)").attr("d", r).attr("class", "stream-area").attr("fill", "#fa8320"), l.enter().append("path").attr("d", o).attr("class", "stream-line").attr("fill", "none").attr("stroke", "#000000").attr("stroke-width", 2), c.enter().append("path").attr("d", s).attr("class", "pct-line").attr("fill", "none").attr("stroke", "steelblue").attr("stroke-width", 2).attr("stroke-dasharray", "4 4"), u.enter().append("text").attr("x", function (e) { return d(30) }).attr("dx", 5).attr("dy", 2).attr("y", function (e) { return p(e.val) }).attr("class", "pct-text chart-label").attr("fill", "#000000").text(function (e) { return e.label }) }), e.$watch("title", function (e) { l.text(e) }); var a = t.find("svg").get(0), n = d3.select(a), s = 30, r = 35, o = 50, i = 30, d = d3.scaleLinear().domain([0, 30]).range([i, 520 - r]), p = d3.scaleLinear().domain([0, 1]).rangeRound([530 - o, s]), l = n.append("text").attr("dx", 11).attr("dy", 16).attr("fill", "#000").attr("font-family", "Roboto Condensed").attr("font-size", "16px"), m = n.append("g").attr("class", "chart"); function f(e, t) { var a = Math.min(2 * Math.round(t.SHOT_DISTANCE / 2), 30); return e[a] || (e[a] = { ft: a, fgm: 0, fga: 0 }), e[a].fga += 1, e[a].fgm += t.madeflag ? 1 : 0, e } function h(e, t) { var a = t.madeflag ? 1 : 0; return e.fga += 1, e.fgm += a, "2PT Field Goal" === t.SHOT_TYPE ? (e.fg2a += 1, e.fg2m += a) : "3PT Field Goal" === t.SHOT_TYPE && (e.fg3a += 1, e.fg3m += a), e } n.append("clipPath").attr("id", "chart-clip").append("rect").attr("transform", "translate(".concat(i, ", ").concat(s, ")")).attr("width", 520 - i - r).attr("height", 530 - o - s), n.append("g").call(function (e) { e.append("g").attr("class", "x-axis").attr("transform", "translate(0,".concat(530 - o, ")")).call(d3.axisBottom(d).tickSize(-(530 - s - o)).tickSizeOuter(0)).call(function (e) { return e.select(".domain").remove() }).call(function (e) { return e.select(".tick:last-of-type text").text("30+").select(function () { return this.parentNode.appendChild(this.cloneNode()) }).attr("y", -3).attr("dy", null).attr("font-weight", "bold").attr("text-anchor", "end").text("DISTANCE FROM RIM (FT.)") }) }), n.append("g").call(function (e) { e.append("g").attr("class", "y-axis").attr("transform", "translate(".concat(i, ",0)")).call(d3.axisLeft(p).tickSize(-(520 - i - r)).tickSizeOuter(0).tickFormat(d3.format(".0%"))).call(function (e) { return e.select(".domain").remove() }).call(function (e) { return e.select(".tick:last-of-type text").select(function () { return this.parentNode.appendChild(this.cloneNode()) }).attr("x", 3).attr("text-anchor", "start").attr("font-weight", "bold").attr("dy", 10).text("FG%") }) }), n.append("text").attr("x", 520 - r).attr("y", 523).attr("text-anchor", "end").attr("fill", "#1a477b").attr("font-family", "Roboto Condensed").attr("font-size", "20px").text("NBA.com/Stats"), n.append("text").attr("x", i).attr("y", 523).attr("text-anchor", "start").attr("class", "chart-label").text("FREQ:"), n.append("rect").attr("x", i + 47).attr("y", 508).attr("height", 20).attr("width", 50).attr("fill", "#fa8320") } stats.directive("statsShotstream", function () { return { restrict: "E", replace: !1, scope: { shots: "=", title: "@" }, template: '<div>\n        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 520 530" preserveAspectRatio="xMinYMin">\n          <style>\n            .chart-label {\n              font-family: sans-serif;\n              font-size: 11px;\n            }\n            .y-axis line,\n            .x-axis line {\n              stroke-dasharray: 2 2;\n              stroke: #bababa;\n            }\n        </svg>\n      </div>', controller: e } }), e.$inject = ["$scope", "$element"] }(), function () { function e(e, t, a, n) { t.addClass("stats-shotzone"), e.$watch("options", function (e) { }) } stats.directive("statsShotzone", function () { return { restrict: "E", replace: !1, scope: { params: "=", zones: "=", shots: "=", options: "=", title: "@" }, templateUrl: "/stats/templates/angular/shotcharts/stats-shotzone.html", controller: e } }), e.$inject = ["$scope", "$element", "$location", "$filter"] }();